import{m as z}from"./moon-stars-linear-DuqhdEj6.js";import{j as N,o as r,f as o,a as t,Q as k,c as n,w as c,b as $,u as y,n as B,t as a,x as p,q as j,i as _,g as u,F as C,d as h,e as M}from"./app-DKvfoN-y.js";import{i as S}from"./useThemeConfig-CMn459mP.js";import{_ as T}from"./Link-BxabHujp.js";const A={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"};function L(e,l){return r(),o("svg",A,l[0]||(l[0]=[t("path",{fill:"currentColor",d:"M117.18 188.74a12 12 0 0 1 0 17l-5.12 5.12A58.26 58.26 0 0 1 70.6 228a58.62 58.62 0 0 1-41.46-100.08l34.75-34.75a58.64 58.64 0 0 1 98.56 28.11a12 12 0 1 1-23.37 5.44a34.65 34.65 0 0 0-58.22-16.58l-34.75 34.75A34.62 34.62 0 0 0 70.57 204a34.4 34.4 0 0 0 24.49-10.14l5.11-5.12a12 12 0 0 1 17.01 0M226.83 45.17a58.65 58.65 0 0 0-82.93 0l-5.11 5.11a12 12 0 0 0 17 17l5.12-5.12a34.63 34.63 0 1 1 49 49l-34.81 34.7A34.4 34.4 0 0 1 150.61 156a34.63 34.63 0 0 1-33.69-26.72a12 12 0 0 0-23.38 5.44A58.64 58.64 0 0 0 150.56 180h.05a58.28 58.28 0 0 0 41.47-17.17l34.75-34.75a58.62 58.62 0 0 0 0-82.91"},null,-1)]))}const V=N({name:"ph-link-bold",render:L}),ke={__name:"CopyStoryLink",props:{story:String,iconSize:{type:String,default:"w-4 h-4"}},setup(e){const l=k().props.translations["Link copied!"],i=k().props.translations["Link not copied! Please use HTTPS secure connection!"],g=m=>route("story.show",{story:m}),b=m=>{window.isSecureContext&&navigator.clipboard?(navigator.clipboard.writeText(m),p.success(l,{theme:S.value?"dark":"light"})):p.warning(i,{theme:S.value?"dark":"light"})};return(m,f)=>{const s=z;return r(),n(s,{class:"flex items-center gap-1.5 cursor-pointer",onClick:f[0]||(f[0]=x=>b(g(e.story)))},{default:c(()=>[$(y(V),{class:B(e.iconSize)},null,8,["class"]),t("span",null,a(m.__("Copy link")),1)]),_:1})}}},F={class:"relative px-4 sm:px-5"},I={class:"border rounded-xl dark:bg-deeper"},D={class:"block px-3 sm:px-5 pt-3 pb-2"},O={class:"flex items-start w-full gap-3"},P={class:"relative h-10"},W=["src"],R={key:1,src:"/images/default-avatar.png",class:"h-10 w-10 bg-background dark:bg-deeper border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full",alt:"avatar"},U=["src"],Z={class:"flex flex-col"},q={class:"flex items-center gap-x-2"},E=["src","alt","title"],H={key:1,class:"text-sm font-medium text-foreground"},Q={class:"flex items-center gap-x-2"},G=["time"],J={class:"relative px-3 sm:px-5 py-3"},K={class:"text-foreground flex flex-col gap-1 break-all"},X={class:"text-lg sm:text-xl font-semibold block"},Y={key:0,class:"w-full flex items-center justify-center relative my-2 rounded-xl border border-border"},ee={class:"w-full max-h-[600px] object-contain rounded-xl",controls:"",preload:"",muted:""},te=["src"],re={key:1,class:"w-full block relative my-2 rounded-xl"},se={class:"relative flex justify-center w-full overflow-hidden rounded-xl"},oe=["src"],ae=["src","alt"],le={key:2,class:"aspect-w-16 aspect-h-9 my-2"},ne=["src"],ie={key:3,class:"absolute top-0 right-0 bg-[#0000001a] backdrop-blur-[100px] z-10 w-full h-full flex flex-col items-center justify-center"},de={class:"text-lg font-semibold drop-shadow text-white mb-4"},ue={class:"flex flex-col sm:flex-row gap-4 sm:items-center"},ce=["href"],ve={__name:"RepostCard",props:{story:Object},setup(e){var f;const l=e,i=k().props.auth.user,g=j(i.preference_settings==null?l.story.isNSFW:!!((f=l.story)!=null&&f.isNSFW&&i.preference_settings.blur_nsfw==!0)),b=_(()=>l.story.media_url.url!=null&&g.value===!0),m=_(()=>i.preference_settings==null?!1:!!i.preference_settings.open_posts_new_tab);return(s,x)=>{var v,w;const d=T;return r(),o("div",F,[t("div",I,[t("div",D,[t("div",O,[t("div",P,[e.story.user?(r(),n(d,{key:0,href:s.route("user.show",e.story.user),class:"shrink-0"},{default:c(()=>[t("img",{src:e.story.user.avatar_url,class:"h-10 w-10 bg-muted border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full",alt:"avatar"},null,8,W)]),_:1},8,["href"])):(r(),o("img",R)),e.story.community?(r(),n(d,{key:2,href:s.route("community.show",e.story.community.slug),class:"shrink-0 bg-deeper shadow absolute -bottom-0.5 -right-2 border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full"},{default:c(()=>[t("img",{src:e.story.community.avatar_url,class:"h-5 w-10 rounded-full",alt:"community"},null,8,U)]),_:1},8,["href"])):u("",!0)]),t("div",Z,[t("div",q,[e.story.user?(r(),o(C,{key:0},[e.story.user.display_name?(r(),n(d,{key:0,href:s.route("user.show",e.story.user),class:"text-sm font-medium text-foreground hover:text-foreground/90"},{default:c(()=>[h(a(e.story.user.display_name),1)]),_:1},8,["href"])):(r(),n(d,{key:1,href:s.route("user.show",e.story.user),class:"text-sm font-medium text-foreground hover:text-foreground/90"},{default:c(()=>[h(a(e.story.user.username),1)]),_:1},8,["href"])),e.story.user.primary_badge?(r(),o("img",{key:2,src:e.story.user.primary_badge.image,alt:e.story.user.primary_badge.name,title:e.story.user.primary_badge.name,class:"h-4 w-4 shrink-0",loading:"lazy"},null,8,E)):u("",!0)],64)):(r(),o("div",H,a(s.__("Account deleted")),1))]),t("div",Q,[e.story.community?(r(),n(d,{key:0,href:s.route("community.show",e.story.community.slug),class:"text-xs font-medium text-foreground hover:text-foreground/90"},{default:c(()=>[h(a(e.story.community.name),1)]),_:1},8,["href"])):u("",!0),t("span",{class:"text-xs text-endpoint",time:(v=e.story.created_at)==null?void 0:v.datetime},a((w=e.story.created_at)==null?void 0:w.human),9,G)])])])]),t("div",J,[t("div",K,[t("h1",X,a(e.story.title),1),t("p",null,a(e.story.summary),1),e.story.media_url?(r(),o(C,{key:0},[e.story.media_url.type==="video"?(r(),o("div",Y,[t("video",ee,[t("source",{src:e.story.media_url.url},null,8,te)])])):u("",!0),e.story.media_url.type==="image"?(r(),o("div",re,[t("div",se,[t("img",{src:e.story.media_url.url,class:"absolute left-0 top-0 w-full h-full blur-2xl",alt:"blur",loading:"lazy"},null,8,oe),t("img",{src:e.story.media_url.url,alt:e.story.title,class:"self-center max-h-[500px] z-0",loading:"lazy"},null,8,ae)])])):u("",!0),e.story.media_url.type==="embed"?(r(),o("div",le,[t("iframe",{src:e.story.media_url.url,class:"rounded-xl",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,ne)])):u("",!0),y(b)?(r(),o("div",ie,[t("p",de,a(s.__("Sensitive content")),1),t("div",ue,[t("button",{onClick:x[0]||(x[0]=M(he=>g.value=!1,["prevent"])),class:"bg-background px-4 py-2 rounded-xl border border-border text-background-foreground font-semibold shadow-lg"},a(s.__("Show")),1),y(i)?(r(),n(d,{key:0,href:s.route("user.settings.show",y(i)),"preserve-scroll":"",class:"bg-background px-4 py-2 rounded-xl border border-border text-background-foreground font-semibold shadow-lg"},{default:c(()=>[h(a(s.__("Change settings")),1)]),_:1},8,["href"])):(r(),n(d,{key:1,href:s.route("login"),"preserve-scroll":"",class:"bg-background px-4 py-2 rounded-xl border border-border text-background-foreground font-semibold shadow-lg"},{default:c(()=>[h(a(s.__("Change settings")),1)]),_:1},8,["href"]))])])):u("",!0)],64)):u("",!0)]),y(m)?(r(),o("a",{key:0,href:s.route("story.show",e.story.slug),target:"_blank",class:"absolute inset-0","aria-label":"Open"},null,8,ce)):(r(),n(d,{key:1,href:s.route("story.show",e.story.slug),class:"absolute inset-0","aria-label":"Open"},null,8,["href"]))])])])}}},me={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function fe(e,l){return r(),o("svg",me,l[0]||(l[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("path",{d:"M3.275 15.296C2.425 14.192 2 13.639 2 12c0-1.64.425-2.191 1.275-3.296C4.972 6.5 7.818 4 12 4s7.028 2.5 8.725 4.704C21.575 9.81 22 10.361 22 12c0 1.64-.425 2.191-1.275 3.296C19.028 17.5 16.182 20 12 20s-7.028-2.5-8.725-4.704Z"}),t("path",{d:"M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0Z"})],-1)]))}const we=N({name:"solar-eye-linear",render:fe});export{we as I,ke as _,ve as a};
