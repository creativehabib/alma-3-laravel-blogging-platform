import{_ as q}from"./EmptyStateTimeline.vue_vue_type_script_setup_true_lang-CzqLXGHD.js";import{_ as B,a as $}from"./AppLayout-CDEtE47D.js";import{_ as j}from"./CommunityFollow-B4_zeSN5.js";import{_ as C}from"./Link-BxabHujp.js";import{a as I}from"./useThemeConfig-CMn459mP.js";import{I as x}from"./arrow-left-linear-CzdGo5D7.js";import{q as _,o as s,c as u,w as n,a as e,u as l,b as r,t as c,f as p,F as b,s as L,d as N}from"./app-DKvfoN-y.js";import"./card-ui-24-regular-CNjZB9mb.js";import"./Button.vue_vue_type_script_setup_true_lang-DLbVc8FY.js";import"./index-T_RycVZ9.js";import"./moon-stars-linear-DuqhdEj6.js";import"./facebook-BuDmhaaR.js";import"./Switch.vue_vue_type_script_setup_true_lang-C7ZMvNjL.js";import"./ButtonLink.vue_vue_type_script_setup_true_lang-CgLFBnw-.js";import"./alarm-linear-B0PzHQQx.js";import"./Logo-dKRd1DwS.js";const F={class:"flex flex-col justify-start items-stretch"},S={class:"py-3 px-4 md:px-5 flex justify-start gap-2 md:gap-3 items-center bg-background border-b border-border rounded-t-lg"},V={class:"font-medium text-base md:text-lg"},E={class:"flex flex-col gap-6 px-5 py-4 bg-background rounded-b-lg"},O={class:"flex items-center justify-between w-full"},T={class:"flex items-start w-full gap-3"},z={class:"relative h-10"},D=["src"],A={class:"flex flex-col"},G={class:"text-xs text-endpoint flex items-center gap-0.5"},re={__name:"Communities",props:{communities:Object,query:String},setup(m){const a=m,h=_(a.query),g=_(null),f=_(!1),{stop:k}=I(g,([{isIntersecting:t}])=>{t&&a.communities.links.next!==null&&(f.value=!0,axios.get(a.communities.links.next).then(i=>{a.communities.data.push(...i.data.data),a.communities.links=i.data.links,i.data.links.next||(f.value=!1,k())}))});return(t,i)=>{const d=C,v=j,y=$,w=q;return s(),u(B,null,{default:n(()=>[e("div",F,[e("div",S,[l(h)?(s(),u(d,{key:0,href:t.route("search",{q:l(h)}),class:"flex group hover:bg-muted p-1.5 rounded-full"},{default:n(()=>[r(l(x),{class:"h-6 w-6 text-endpoint group-hover:text-foreground"})]),_:1},8,["href"])):(s(),u(d,{key:1,href:t.route("explore"),class:"flex group hover:bg-muted p-1.5 rounded-full"},{default:n(()=>[r(l(x),{class:"h-6 w-6 text-endpoint group-hover:text-foreground"})]),_:1},8,["href"])),e("h1",V,c(t.__("Communities")),1)]),m.communities.data.length?(s(),p(b,{key:0},[e("div",E,[(s(!0),p(b,null,L(m.communities.data,o=>(s(),p("div",{key:o.id},[e("div",O,[e("div",T,[e("div",z,[r(d,{href:t.route("community.show",o),class:"shrink-0"},{default:n(()=>[e("img",{src:o.avatar_url,class:"h-10 bg-background dark:bg-deeper border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full",alt:"avatar"},null,8,D)]),_:2},1032,["href"])]),e("div",A,[r(d,{href:t.route("community.show",o),class:"text-sm font-medium hover:text-muted-foreground dark:hover:text-foreground/90 dark:text-foreground"},{default:n(()=>[N(c(o.name),1)]),_:2},1032,["href"]),e("div",G,[e("span",null,c(o.followers_count),1),e("span",null,c(o.followers_count===1?t.__("member"):t.__("members")),1)])])]),r(v,{following:o,size:"badge"},null,8,["following"])])]))),128)),r(y,{"is-loading":l(f),onlyIcon:!0},null,8,["is-loading"])]),e("div",{ref_key:"last",ref:g,class:"-translate-y-32"},null,512)],64)):(s(),u(w,{key:1,title:t.__("Nothing found")},null,8,["title"]))])]),_:1})}}};export{re as default};
