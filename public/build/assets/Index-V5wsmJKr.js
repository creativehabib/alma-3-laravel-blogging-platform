import{_ as E}from"./EmptyStateTimeline.vue_vue_type_script_setup_true_lang-CzqLXGHD.js";import{_ as K,a as A,d as G}from"./AppLayout-CDEtE47D.js";import{_ as J}from"./FeedCard-DrvwWvFG.js";import{_ as P}from"./CommunityFollow-B4_zeSN5.js";import{_ as W}from"./UserFollow-DU-bCASc.js";import{_ as X}from"./Link-BxabHujp.js";import{j as Y,o as r,f as s,a as e,Q as Z,q as b,y as B,N as ee,i as te,c as _,w as u,n as V,u as n,l as F,v as oe,e as x,b as l,z as re,A as se,B as ne,F as g,s as y,t as a,g as p,d as v}from"./app-DKvfoN-y.js";import{b as ae,a as ie}from"./useThemeConfig-CMn459mP.js";import{u as le,_ as de}from"./useSearchHistory-C7xne8ra.js";import{I as ce}from"./moon-stars-linear-DuqhdEj6.js";import{I as ue}from"./arrow-left-linear-CzdGo5D7.js";import"./card-ui-24-regular-CNjZB9mb.js";import"./Button.vue_vue_type_script_setup_true_lang-DLbVc8FY.js";import"./index-T_RycVZ9.js";import"./facebook-BuDmhaaR.js";import"./Switch.vue_vue_type_script_setup_true_lang-C7ZMvNjL.js";import"./ButtonLink.vue_vue_type_script_setup_true_lang-CgLFBnw-.js";import"./alarm-linear-B0PzHQQx.js";import"./Logo-dKRd1DwS.js";import"./eye-linear-CH3le6Xu.js";import"./heart-fill-up0978Eg.js";import"./CheckIcon-BQfYEZkr.js";import"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DN79s5No.js";import"./AlertDialogAction.vue_vue_type_script_setup_true_lang-bWlvk4rB.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-DcDK8ukt.js";import"./GTextarea-BoCYYrbh.js";import"./InputError-BbPAIupT.js";import"./flag-2-linear-_iuNYGiW.js";import"./isObjectLike-ClnVNF-J.js";const me={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function fe(d,c){return r(),s("svg",me,c[0]||(c[0]=[e("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l2.5 2.5"})],-1)]))}const he=Y({name:"solar-clock-circle-linear",render:fe}),pe={class:"flex flex-col justify-start items-stretch"},_e=["placeholder"],ge={key:0,class:"grid px-2 md:px-4 py-4 bg-background rounded-b-lg"},ve={key:0},be={class:"flex items-center justify-between"},ye={class:"line-clamp-1 grow"},ke={class:"font-medium"},xe=["onClick"],we={key:1},je={class:"flex justify-center text-endpoint p-4"},Ce={key:0,class:"grid gap-5 px-5 py-4 bg-background rounded-b-lg"},Se={key:0},$e={class:"font-medium mb-2"},Ie={class:"flex flex-col gap-4"},Be={class:"flex items-center justify-between w-full"},Ve={class:"flex items-start w-full gap-3"},Fe={class:"relative h-10"},Ne=["src"],Re={class:"flex flex-col"},Te={class:"flex items-center gap-1"},ze=["src","alt","title"],Qe={class:"text-xs text-endpoint flex items-center gap-0.5"},Ue={key:1},qe={class:"font-medium mb-2"},He={class:"flex flex-col gap-4"},Le={class:"flex items-center justify-between w-full"},Me={class:"flex items-start w-full gap-3"},Oe={class:"relative h-10"},De=["src"],Ee={class:"flex flex-col"},Ke={class:"text-xs text-endpoint flex items-center gap-0.5"},Ae={class:"space-y-3"},Ge={class:"block my-5"},Je={class:"card-navbar"},Pe={class:"card-content-list"},St={__name:"Index",props:{users:Object,communities:Object,recomendations:Object},setup(d){const c=d,N=Z().props.auth.user,m=b(""),{addQuery:R,removeQuery:T,getSearchHistory:w}=le(),j=b(),{focused:h}=ae(j);B(h,()=>{}),B(m,de(async function(o){if(o!==null)try{m.value.length>2&&(ee.visit(route("search",{q:m.value}),{preserveScroll:!0}),C(m.value))}catch{console.log("%s There is a difference between knowing the path & walking the path!","ðŸ˜Ž")}},800));const C=o=>{R(o)},z=o=>{T(o)},S=b(null),k=b(!1),{stop:Q}=ie(S,([{isIntersecting:o}])=>{o&&c.recomendations.links.next!==null&&(k.value=!0,axios.get(c.recomendations.links.next).then(i=>{c.recomendations.data.push(...i.data.data),c.recomendations.links=i.data.links,i.data.links.next||(k.value=!1,Q())}))}),U=te(()=>c.users.length===0&&c.communities.length===0&&!h.value);return(o,i)=>{const f=X,q=W,H=P,L=J,M=A,O=E;return r(),_(K,null,{default:u(()=>{var $,I;return[e("div",pe,[e("div",{class:V(["py-3 px-4 md:px-5 flex justify-center gap-2 items-center bg-background border-b border-border rounded-t-lg",n(U)?"border-b-0 rounded-b-lg":""])},[F(e("button",{onClick:i[0]||(i[0]=x(t=>h.value=!1,["prevent"])),type:"button",class:"flex group hover:bg-muted p-1 rounded-full"},[l(n(ue),{class:"h-6 w-6 text-endpoint group-hover:text-foreground"})],512),[[oe,n(h)]]),e("div",{class:V(["flex items-center group w-full rounded-xl bg-muted py-1 px-3 base-transition border",n(h)?"bg-transparent  border-primary":"border-transparent"])},[l(n(G),{class:"w-5 h-5 cursor-pointer text-endpoint mr-1","aria-hidden":"true"}),F(e("input",{ref_key:"searchRef",ref:j,"onUpdate:modelValue":i[1]||(i[1]=t=>se(m)?m.value=t:null),type:"text",placeholder:o.__("Search..."),class:"flex h-9 w-full focus:ring-none !p-0 bg-transparent border-transparent text-sm transition duration-200 ease-linear placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus:ring-offset-0 cleared-input focus:shadow-none disabled:cursor-not-allowed disabled:opacity-50",onKeydown:i[2]||(i[2]=ne(t=>C(n(m)),["enter"]))},null,40,_e),[[re,n(m)]])],2)],2),n(h)?(r(),s("div",ge,[n(w)().length?(r(),s("ul",ve,[(r(!0),s(g,null,y(n(w)(),(t,D)=>(r(),s("li",{key:D,class:"w-full rounded-b-lg my-0 text-sm"},[e("div",be,[l(f,{href:o.route("search",{q:t}),class:"w-full flex items-center p-2 rounded-lg text-sm font-medium cursor-pointer hover:bg-muted dark:hover:bg-muted/70",onMousedown:i[3]||(i[3]=x(()=>{},["prevent"]))},{default:u(()=>[l(n(he),{class:"h-4 w-4 !mr-2 shrink-0"}),e("div",ye,[e("span",ke,a(t),1)]),e("button",{type:"button",class:"rounded-full text-endpoint hover:text-primary",onClick:x(We=>z(t),["prevent"])},[l(n(ce),{class:"h-5 w-5 font-bold"})],8,xe)]),_:2},1032,["href"])])]))),128))])):(r(),s("ul",we,[e("li",je,a(o.__("There is nothing in the search history yet.")),1)]))])):p("",!0),n(h)?p("",!0):(r(),s(g,{key:1},[($=d.users)!=null&&$.length||(I=d.communities)!=null&&I.length?(r(),s("div",Ce,[d.users.length?(r(),s("div",Se,[e("div",$e,a(o.__("Users")),1),e("div",Ie,[(r(!0),s(g,null,y(d.users,t=>(r(),s("div",{key:t.id},[e("div",Be,[e("div",Ve,[e("div",Fe,[l(f,{href:o.route("user.show",t),class:"shrink-0"},{default:u(()=>[e("img",{src:t.avatar_url,class:"h-10 w-10 bg-background dark:bg-deeper border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full",alt:"avatar"},null,8,Ne)]),_:2},1032,["href"])]),e("div",Re,[e("div",Te,[t.display_name?(r(),_(f,{key:0,href:o.route("user.show",t),class:"text-sm font-medium hover:text-muted-foreground dark:hover:text-foreground/90 dark:text-foreground"},{default:u(()=>[v(a(t.display_name),1)]),_:2},1032,["href"])):(r(),_(f,{key:1,href:o.route("user.show",t),class:"text-sm font-medium hover:text-muted-foreground dark:hover:text-foreground/90 dark:text-foreground"},{default:u(()=>[v(a(t.username),1)]),_:2},1032,["href"])),t.primary_badge?(r(),s("img",{key:2,src:t.primary_badge.image,alt:t.primary_badge.name,title:t.primary_badge.name,class:"h-4 w-4 shrink-0",loading:"lazy"},null,8,ze)):p("",!0)]),e("div",Qe,[e("span",null,a(t.followers_count),1),e("span",null,a(t.followers_count===1?o.__("follower"):o.__("followers")),1)])])]),n(N).id!==t.id?(r(),_(q,{key:0,following:t,size:"badge"},null,8,["following"])):p("",!0)])]))),128))]),l(f,{href:o.route("explore.users"),class:"mt-4 inline-flex items-center text-primary cursor-pointer hover:text-primary/90 base-transition"},{default:u(()=>[v(a(o.__("View more")),1)]),_:1},8,["href"])])):p("",!0),d.communities.length?(r(),s("div",Ue,[e("div",qe,a(o.__("Communities")),1),e("div",He,[(r(!0),s(g,null,y(d.communities,t=>(r(),s("div",{key:t.id},[e("div",Le,[e("div",Me,[e("div",Oe,[l(f,{href:o.route("community.show",t),class:"shrink-0"},{default:u(()=>[e("img",{src:t.avatar_url,class:"h-10 w-10 bg-background dark:bg-deeper border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full",alt:"avatar"},null,8,De)]),_:2},1032,["href"])]),e("div",Ee,[l(f,{href:o.route("community.show",t),class:"text-sm font-medium hover:text-muted-foreground dark:hover:text-foreground/90 dark:text-foreground"},{default:u(()=>[v(a(t.name),1)]),_:2},1032,["href"]),e("div",Ke,[e("span",null,a(t.followers_count),1),e("span",null,a(t.followers_count===1?o.__("member"):o.__("members")),1)])])]),l(H,{following:t,size:"badge"},null,8,["following"])])]))),128))]),l(f,{href:o.route("explore.communities"),class:"mt-4 inline-flex items-center text-primary cursor-pointer hover:text-primary/90 base-transition"},{default:u(()=>[v(a(o.__("View more")),1)]),_:1},8,["href"])])):p("",!0)])):p("",!0)],64))]),e("div",Ae,[d.recomendations.data.length?(r(),s(g,{key:0},[e("div",Ge,[e("div",Je,a(o.__("Recomendations")),1),e("div",Pe,[(r(!0),s(g,null,y(d.recomendations.data,t=>(r(),_(L,{key:t.id,story:t},null,8,["story"]))),128))])]),l(M,{"is-loading":n(k)},null,8,["is-loading"]),e("div",{ref_key:"last",ref:S,class:"-translate-y-32"},null,512)],64)):(r(),_(O,{key:1,title:o.__("There is nothing here yet")},null,8,["title"]))])]}),_:1})}}};export{St as default};
