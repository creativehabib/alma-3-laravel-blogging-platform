const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ext-beautify-itcMacD7.js","assets/app-DKvfoN-y.js","assets/app-BMdSmoJ2.css","assets/ext-code_lens-kLNqkyfT.js","assets/ext-command_bar-BrDoTO8A.js","assets/ext-elastic_tabstops_lite-BV0likz1.js","assets/ext-emmet-UrBXch5C.js","assets/ext-error_marker-CgVvZsTF.js","assets/ext-hardwrap-KUcvWCkk.js","assets/ext-inline_autocomplete-M9nnazKp.js","assets/ext-keybinding_menu-BAA2sxzp.js","assets/ext-language_tools-CnaaDNzS.js","assets/ext-linking-C8VrQsQB.js","assets/ext-modelist-aIsjTOQ3.js","assets/ext-options-8mkokJXQ.js","assets/ext-prompt-Bh4EFO8z.js","assets/ext-rtl-BxajEern.js","assets/ext-searchbox-CjnNdZCC.js","assets/ext-settings_menu-ABQRClmf.js","assets/ext-simple_tokenizer-BrPGHMp0.js","assets/ext-spellcheck-DCSKy7dI.js","assets/ext-split-BoJd6IVM.js","assets/ext-static_highlight-7f_JuTmj.js","assets/ext-statusbar-BJzZpArC.js","assets/ext-textarea-HVnYOg8a.js","assets/ext-themelist-BC64ntcG.js","assets/ext-whitespace-CpdSU8bs.js","assets/keybinding-emacs-D8AbeeyS.js","assets/keybinding-sublime-BeADP9ic.js","assets/keybinding-vim-DxkhTy-X.js","assets/keybinding-vscode-DKbIFMjr.js","assets/mode-abap-D3pS0w8s.js","assets/mode-abc-BVucTF_N.js","assets/mode-actionscript-BuqqGnIb.js","assets/mode-ada-C6rO0egl.js","assets/mode-alda-BEimGq-G.js","assets/mode-apache_conf-V5uHt7m9.js","assets/mode-apex-DFn2ELyF.js","assets/mode-applescript-DgTvbT3L.js","assets/mode-aql-COj3AZZi.js","assets/mode-asciidoc-B2AtJV1N.js","assets/mode-asl-CQ0bmmSp.js","assets/mode-assembly_arm32-DqFUa9za.js","assets/mode-assembly_x86-Dwv_ON4j.js","assets/mode-astro-Cc2w4pGW.js","assets/mode-autohotkey-CTodkK1k.js","assets/mode-basic-hp-m-9xI.js","assets/mode-batchfile-CXgxAmOA.js","assets/mode-bibtex-BGkUxSut.js","assets/mode-c9search-BSHWhbre.js","assets/mode-c_cpp-DDo-Jaze.js","assets/mode-cirru-CdiJTxwt.js","assets/mode-clojure-Bo4mDNAb.js","assets/mode-cobol-BQLa_IGO.js","assets/mode-coffee-dxNMecHO.js","assets/mode-coldfusion-CWE1I3OB.js","assets/mode-crystal-DW6X2H1Y.js","assets/mode-csharp-BOKzRbKJ.js","assets/mode-csound_document-Df3f5mow.js","assets/mode-csound_orchestra-CZRghzOW.js","assets/mode-csound_score-B8n8chuq.js","assets/mode-csp-Cw0FLmrk.js","assets/mode-css-G2g3uU4D.js","assets/mode-curly-CVdLTElm.js","assets/mode-cuttlefish-CR_wiKkL.js","assets/mode-d-Cl2aOPIv.js","assets/mode-dart-OVtFzVJi.js","assets/mode-diff-lVHEFrHw.js","assets/mode-django-Dq0kYXWH.js","assets/mode-dockerfile-C7NOE8Sl.js","assets/mode-dot-C8O37Hdm.js","assets/mode-drools-Be6FXQjb.js","assets/mode-edifact-9raEEScR.js","assets/mode-eiffel-kRf_L6Pz.js","assets/mode-ejs-CsBa8dtF.js","assets/mode-elixir-CSNWGZyG.js","assets/mode-elm-DIMZ_zB6.js","assets/mode-erlang-zUGuRP9B.js","assets/mode-flix-BSeilM_c.js","assets/mode-forth-DfNmhnD2.js","assets/mode-fortran-Bzt_kLy5.js","assets/mode-fsharp-BisZuHUd.js","assets/mode-fsl-xFCxZ_Uu.js","assets/mode-ftl-DkwWDu28.js","assets/mode-gcode-lO0xTP3E.js","assets/mode-gherkin-BquRGz4Z.js","assets/mode-gitignore-NDgdb0zP.js","assets/mode-glsl-427-2c5J.js","assets/mode-gobstones-CyPTYM_S.js","assets/mode-golang-BruX8BYr.js","assets/mode-graphqlschema-C6ESX4xC.js","assets/mode-groovy-D7Np7xZO.js","assets/mode-haml-qPHEZgbp.js","assets/mode-handlebars-DAZL0QRu.js","assets/mode-haskell-DXLNfQU2.js","assets/mode-haskell_cabal-DTJfv4sX.js","assets/mode-haxe-3wPCBi0U.js","assets/mode-hjson-JPLKpbMR.js","assets/mode-html-XkpvN5Xs.js","assets/mode-html_elixir-CHH5BveK.js","assets/mode-html_ruby-CNUndTms.js","assets/mode-ini-BPaY8J-i.js","assets/mode-io-C7ddJnqC.js","assets/mode-ion-C_jH-p6S.js","assets/mode-jack-BbqwUNT8.js","assets/mode-jade-BWWpHkDb.js","assets/mode-java-DpyCJI40.js","assets/mode-javascript-LBxdLeef.js","assets/mode-jexl-DKv6LDRq.js","assets/mode-json-WJW3bGxF.js","assets/mode-json5-_PFhty3Q.js","assets/mode-jsoniq-BFEffsyE.js","assets/mode-jsp-B-Du4xGz.js","assets/mode-jssm-CQ9Gskbp.js","assets/mode-jsx-CgdvgmQ2.js","assets/mode-julia-Dr3z7IQq.js","assets/mode-kotlin-Cyj8hhJ_.js","assets/mode-latex-c5V9pX41.js","assets/mode-latte-DlveLltx.js","assets/mode-less-Bmey-CAX.js","assets/mode-liquid-DnAG9QjR.js","assets/mode-lisp-CEbqJzjE.js","assets/mode-livescript-DctWqxg0.js","assets/mode-logiql-CalqPwHF.js","assets/mode-logtalk-Da7ewLAM.js","assets/mode-lsl-0xXSTaC-.js","assets/mode-lua-OVtJ4iJq.js","assets/mode-luapage-DQXjV2rF.js","assets/mode-lucene-CNigLMTX.js","assets/mode-makefile-H2n7HmUz.js","assets/mode-markdown-DXMWMv_a.js","assets/mode-mask-baPyf0jP.js","assets/mode-matlab-D18ayMMA.js","assets/mode-maze-CIMPt-cm.js","assets/mode-mediawiki-DvLpow4L.js","assets/mode-mel-Dg2Vlarm.js","assets/mode-mips-DWtrJJmc.js","assets/mode-mixal-CPGd8lu8.js","assets/mode-mushcode-TdwgfJXo.js","assets/mode-mysql-D24ZiiE_.js","assets/mode-nasal-CU63Ushe.js","assets/mode-nginx-Dr-WUvyK.js","assets/mode-nim-DT0ySPRs.js","assets/mode-nix-DbzAsB1E.js","assets/mode-nsis-CB9WJYAH.js","assets/mode-nunjucks-CofirsIu.js","assets/mode-objectivec-CXx84khD.js","assets/mode-ocaml--kUMzgFU.js","assets/mode-odin-DymP0aLu.js","assets/mode-partiql-DsrbbsBc.js","assets/mode-pascal-W68zdPLT.js","assets/mode-perl-CVtPqskF.js","assets/mode-pgsql-CsDwg5l-.js","assets/mode-php-BqIaqA9h.js","assets/mode-php_laravel_blade-mlBITbnm.js","assets/mode-pig-0L0v34jv.js","assets/mode-plain_text-B35dvQUq.js","assets/mode-plsql-C0DZBPLB.js","assets/mode-powershell-Dtp-mAON.js","assets/mode-praat-CLIkRvuN.js","assets/mode-prisma-De1XUVsF.js","assets/mode-prolog-BpUI7hYS.js","assets/mode-properties-CvAU2rHu.js","assets/mode-protobuf-BfQMHZdA.js","assets/mode-prql-US22gU2_.js","assets/mode-puppet-ruzU7oN0.js","assets/mode-python-CIhtRom9.js","assets/mode-qml-CAVYPhCb.js","assets/mode-r-yAKrHIs4.js","assets/mode-raku-DW-BFY7B.js","assets/mode-razor-Dgky1kW6.js","assets/mode-rdoc-D_uxaV6G.js","assets/mode-red-AyZH5R65.js","assets/mode-redshift-DwY_7a3F.js","assets/mode-rhtml-_3aTXb-A.js","assets/mode-robot-BlKASncp.js","assets/mode-rst-JMmTCfHL.js","assets/mode-ruby-DiDauHdE.js","assets/mode-rust-DtmKtAht.js","assets/mode-sac-CKRdkqS8.js","assets/mode-sass-DSu-O5n5.js","assets/mode-scad-X1GwV_a-.js","assets/mode-scala-CZquwv4l.js","assets/mode-scheme-DOM1vudD.js","assets/mode-scrypt-DLBl_aHb.js","assets/mode-scss-B0l0jYQI.js","assets/mode-sh-uuK5mgBn.js","assets/mode-sjs-C04a0Wgp.js","assets/mode-slim-XGr1Fjtb.js","assets/mode-smarty-D0YFl5v_.js","assets/mode-smithy-DmW3XuOK.js","assets/mode-snippets-BIQyfJL-.js","assets/mode-soy_template-B6Vh6y04.js","assets/mode-space-BHr4bXyB.js","assets/mode-sparql-lKmuFCxw.js","assets/mode-sql-DwUJzqXc.js","assets/mode-sqlserver-Blq8o06O.js","assets/mode-stylus-CLhcAlbI.js","assets/mode-svg-DG4TgHvM.js","assets/mode-swift-8pyIJmi3.js","assets/mode-tcl-iBPIFdqK.js","assets/mode-terraform-Doo_ZmHU.js","assets/mode-tex-CgtLv5NE.js","assets/mode-text-yQZhTwVy.js","assets/mode-textile-C3UhaciQ.js","assets/mode-toml-BYW6MFd1.js","assets/mode-tsx-BCShOxPK.js","assets/mode-turtle-UagXu6R5.js","assets/mode-twig-D_aGR57z.js","assets/mode-typescript-Bk3aIxRm.js","assets/mode-vala-V3Gl1_zZ.js","assets/mode-vbscript-VPNSqZZ7.js","assets/mode-velocity-Vt_L4_If.js","assets/mode-verilog-Cwqf3VSr.js","assets/mode-vhdl-Dx5aLIak.js","assets/mode-visualforce-8kbZOUpJ.js","assets/mode-vue-psJcz0tB.js","assets/mode-wollok-DC-ClzSG.js","assets/mode-xml-BxnsuJ-t.js","assets/mode-xquery-BOnF2Qkb.js","assets/mode-yaml-D89OA0I_.js","assets/mode-zeek-44cRXpLi.js","assets/mode-zig-CdyLPQjv.js","assets/theme-ambiance-fkxHzcDM.js","assets/theme-chaos-CTq9ExVj.js","assets/theme-chrome-ClE_g-kC.js","assets/theme-cloud9_day-B9SlH_1O.js","assets/theme-cloud9_night-C2TfEumn.js","assets/theme-cloud9_night_low_color-DEHYChy5.js","assets/theme-cloud_editor-DLD-6saJ.js","assets/theme-cloud_editor_dark-gHSbrnbx.js","assets/theme-clouds-6JHhFylg.js","assets/theme-clouds_midnight-NuuA3DuU.js","assets/theme-cobalt-DN-BtjQv.js","assets/theme-crimson_editor-CSAz9asC.js","assets/theme-dawn-BqiOvWO_.js","assets/theme-dracula-DVmjxMhE.js","assets/theme-dreamweaver-Dibpqsbf.js","assets/theme-eclipse-Btt23gBt.js","assets/theme-github-B-VT9DoH.js","assets/theme-github_dark-CHy3uFK3.js","assets/theme-github_light_default-BsUP_zrC.js","assets/theme-gob-m_VEBWtT.js","assets/theme-gruvbox-B0uMhMDG.js","assets/theme-gruvbox_dark_hard-DWwtjUqR.js","assets/theme-gruvbox_light_hard-CoDc2y34.js","assets/theme-idle_fingers-Dsz-ZYCJ.js","assets/theme-iplastic-BHTQsbAb.js","assets/theme-katzenmilch-Dot7T2WR.js","assets/theme-kr_theme-Cu30k1Dg.js","assets/theme-kuroir-HGpVLfBO.js","assets/theme-merbivore-CqS9_pdH.js","assets/theme-merbivore_soft-Cc2JqPMS.js","assets/theme-mono_industrial-zcPQ7FTF.js","assets/theme-monokai-BbnzE4vK.js","assets/theme-nord_dark-DXZEc2V6.js","assets/theme-one_dark-DozOPaNg.js","assets/theme-pastel_on_dark-C-rsU6vN.js","assets/theme-solarized_dark-CoNn4Akq.js","assets/theme-solarized_light-B61OhldY.js","assets/theme-sqlserver-CkzF88eL.js","assets/theme-terminal-CA7Nuopz.js","assets/theme-textmate-BP1TuDBA.js","assets/theme-tomorrow-BVCSZAjm.js","assets/theme-tomorrow_night-DYyXS04M.js","assets/theme-tomorrow_night_blue-CK3pdfti.js","assets/theme-tomorrow_night_bright-zZ0cJzeH.js","assets/theme-tomorrow_night_eighties-DJibeSmH.js","assets/theme-twilight-BK4heBT9.js","assets/theme-vibrant_ink-B2TV7GqZ.js","assets/theme-xcode-CJ1m2eCg.js","assets/worker-base-DcT1Wpz-.js","assets/worker-coffee-_YI1Y4Oj.js","assets/worker-css-Bqje3nBQ.js","assets/worker-html-CjHidcBR.js","assets/worker-javascript-CzKY9V2J.js","assets/worker-json-BXrarBUf.js","assets/worker-lua-Cba2IMjg.js","assets/worker-php-CZhKBRcK.js","assets/worker-xml-BZ9sCE5w.js","assets/worker-xquery-B-POd0jg.js","assets/worker-yaml-xNr9zSEZ.js","assets/abap-CQrDaybz.js","assets/abc-BaeMFnG1.js","assets/actionscript-Bir7zYGf.js","assets/ada-CMDobJmv.js","assets/alda-DY__n6-g.js","assets/apache_conf-C1AxwgQd.js","assets/apex-DF86IXBU.js","assets/applescript-DuCGwTro.js","assets/aql-CXFrHKG8.js","assets/asciidoc-DHJzqbAK.js","assets/asl-COWdFODv.js","assets/assembly_arm32-DmHFEC9F.js","assets/assembly_x86-Bc2HoSPS.js","assets/astro-DlIaZz7D.js","assets/autohotkey-9nFZlLOI.js","assets/basic-CmKzdcCJ.js","assets/batchfile-CM99qEDO.js","assets/bibtex-C0CdX4in.js","assets/c9search-GqD0KnPb.js","assets/c_cpp-C8v9c-9E.js","assets/cirru-B7auGGJw.js","assets/clojure-CW28_hvZ.js","assets/cobol-BE4K7CWI.js","assets/coffee-D6cgql2F.js","assets/coldfusion-DCbTQjof.js","assets/crystal-DxreHQuw.js","assets/csharp-lImGRc0Y.js","assets/csound_document-D8EcOR54.js","assets/csound_orchestra-CQ8h9tpq.js","assets/csound_score-Mf5ZxfaO.js","assets/csp-CHcvyFSj.js","assets/css-B2LhhHup.js","assets/curly-Bligac-z.js","assets/cuttlefish-j7LZm5Au.js","assets/d-Z5HEFdJX.js","assets/dart-BodPpeuq.js","assets/diff-DOZ6zNYV.js","assets/django-BtCqY7dF.js","assets/dockerfile-BU7m1Elu.js","assets/dot-wpnvEvDB.js","assets/drools-BiisDXMM.js","assets/edifact-DZsnm-2f.js","assets/eiffel-BN9PiUCH.js","assets/ejs-Bfic8Dbr.js","assets/elixir-DZ8j4p2K.js","assets/elm-BZ8TCqtI.js","assets/erlang-DR7GLSqh.js","assets/flix-9u6TkIqQ.js","assets/forth-Di7Eygd_.js","assets/fortran-bd1DGqbe.js","assets/fsharp-Dkc2QL3T.js","assets/fsl-aCCES6sQ.js","assets/ftl-Bm-xQLsH.js","assets/gcode-8ERll38i.js","assets/gherkin-9p3b4TI1.js","assets/gitignore-CdDiN4BQ.js","assets/glsl-DyugFXy3.js","assets/gobstones-Dii_wJQS.js","assets/golang-DSWrCz0a.js","assets/graphqlschema-DYwx3kMo.js","assets/groovy-crCVM-91.js","assets/haml-CI82-Uor.js","assets/handlebars-DzeJ6iHL.js","assets/haskell-Uu8Wymn7.js","assets/haskell_cabal-C33ZoMlv.js","assets/haxe-tZBOIuVr.js","assets/hjson-CYi0ocai.js","assets/html-BD4jaRzr.js","assets/html_elixir-DiZwxrmg.js","assets/html_ruby-C3wXvG9r.js","assets/ini-BV0538C_.js","assets/io-Ci2QGOad.js","assets/ion-BcqRDZVL.js","assets/jack-Cd3Y6IFd.js","assets/jade-Dc6Fq0qP.js","assets/java-DRbk5wWg.js","assets/javascript-C7UVFUGG.js","assets/jexl-E_wsIpM7.js","assets/json-Dyb68tYz.js","assets/json5-DAaO9sBW.js","assets/jsoniq-B9zZrI3P.js","assets/jsp-D_SkcD9K.js","assets/jssm-DNIbXWaL.js","assets/jsx-jU85UEof.js","assets/julia-KlPUsKbC.js","assets/kotlin-B-sanfTO.js","assets/latex-HdYzlomz.js","assets/latte-T-DaxZcn.js","assets/less-BGzNTZ-6.js","assets/liquid-Drzv3snD.js","assets/lisp-B4DjGpxT.js","assets/livescript-BGjz4f8x.js","assets/logiql-BHacUoP0.js","assets/logtalk-ONvilrPw.js","assets/lsl-DiS1tLzp.js","assets/lua-D9tn8VrI.js","assets/luapage-CpbsXj8Q.js","assets/lucene-Bp8KoEuP.js","assets/makefile-CEl8Y4Kg.js","assets/markdown-gCKmVfPT.js","assets/mask-DpCWwdH8.js","assets/matlab-2Gsb6rhn.js","assets/maze-C7Sh9Iw8.js","assets/mediawiki-C2S8XqJ-.js","assets/mel-C5ujWjPP.js","assets/mips-DRjkrUcE.js","assets/mixal-DCnnqDXg.js","assets/mushcode-hPiRM5FC.js","assets/mysql-DvdbbvGl.js","assets/nasal-D8unTPLb.js","assets/nginx-2EZ7afek.js","assets/nim-F5bSGrmz.js","assets/nix-B91UzABy.js","assets/nsis-MQ9LlYKj.js","assets/nunjucks-DH4XL6HV.js","assets/objectivec-DhlzHygB.js","assets/ocaml-VKbyL3bX.js","assets/odin-C7XpCsSV.js","assets/partiql-e0iGkJB9.js","assets/pascal-CVgtvoXG.js","assets/perl-SSJ3KPVC.js","assets/pgsql-CTgH4Dwk.js","assets/php-Bk-i4PQk.js","assets/php_laravel_blade-llzeFsO0.js","assets/pig-CWgSoL47.js","assets/plain_text-C9CSMLie.js","assets/plsql-Cf18cCHD.js","assets/powershell-FDTonAjD.js","assets/praat-DEhwCSnw.js","assets/prisma-2lbwuS_b.js","assets/prolog-EkaLDnNy.js","assets/properties-BamfR2vd.js","assets/protobuf-FhA6DgjW.js","assets/prql-BM_Dy2Rz.js","assets/puppet-CYo8sO6Q.js","assets/python-Wxn3TJL0.js","assets/qml-Cy3Yhc-0.js","assets/r-WLXLgB8s.js","assets/raku-DU0HzEdv.js","assets/razor-GqBtSSVt.js","assets/rdoc-B9hA2UgR.js","assets/red-BpFHW9Bk.js","assets/redshift-D35XrkTE.js","assets/rhtml-XTqovkr-.js","assets/robot-BjaYCJN-.js","assets/rst-SFajNtBC.js","assets/ruby-C52JvSyY.js","assets/rust-C8u19KGt.js","assets/sac-CknkztHF.js","assets/sass-Ckhd3vq7.js","assets/scad-CKrAW5d8.js","assets/scala-CSRYvYI7.js","assets/scheme-B7tuiFIC.js","assets/scrypt-DlJjRcj-.js","assets/scss-DE08-XkR.js","assets/sh-CzQy5wZU.js","assets/sjs-B5FVzFPi.js","assets/slim-DnsEPyw6.js","assets/smarty-Ctav1CCc.js","assets/smithy-Bw8Sgs21.js","assets/snippets-Ohi626nS.js","assets/soy_template-INMJFiRx.js","assets/space-CzbUL13l.js","assets/sparql-C3Ajb8Zx.js","assets/sql-BCc_cd7K.js","assets/sqlserver-2NQF-ki3.js","assets/stylus-Bmp3N1nb.js","assets/svg-BJ57_weA.js","assets/swift-NM_HGZb_.js","assets/tcl-UIKQAX-k.js","assets/terraform-ki7_CIJq.js","assets/tex-BaU9LMEJ.js","assets/text-BOxyIrRa.js","assets/textile-CkI6OkGd.js","assets/toml-CPtFNp8h.js","assets/tsx-BoLOm2ac.js","assets/turtle-DrlDuH3F.js","assets/twig-BfaBU2ye.js","assets/typescript-vh_JKakO.js","assets/vala-BUxXUtec.js","assets/vbscript-Fu7h7Bi8.js","assets/velocity-s-ryJyCX.js","assets/verilog-iQ391glz.js","assets/vhdl-DfZZ0U2Y.js","assets/visualforce-BaeFA--2.js","assets/vue-BNrwfzDR.js","assets/wollok-BtuKx2Ac.js","assets/xml-CE5CAuuS.js","assets/xquery-Cjglnptj.js","assets/yaml-dzT-pIog.js","assets/zeek-CESc1WKq.js","assets/zig--l70dRFZ.js"])))=>i.map(i=>d[i]);
import{f as ol,g as rl,h as sl,_ as al,m as ll,k as cl,l as dl,a as ul,b as hl,i as pl,j as fl,I as gl,M as ml,n as vl,c as yl,d as bl,e as wl}from"./moon-stars-linear-DuqhdEj6.js";import{a4 as _l,a5 as kl,x as vi,a6 as El,a7 as xl,a8 as Cl,a9 as Tl,aa as Sl,ab as Ll,ac as Ml,ad as Al,ae as Il,af as $l,Z as Ol}from"./index-T_RycVZ9.js";import{c as mt,u as Rl,i as it,t as Dl}from"./useThemeConfig-CMn459mP.js";import{h as et,i as Ke,o as se,c as Me,w as te,f as Ae,n as pi,u as Y,t as ce,g as Ue,m as Mt,r as tt,P as Jn,R as qn,b as Q,q as pt,k as Zi,a as Z,F as gs,d as ct,j as Ji,C as Pl,ai as $,Q as Pr,T as Bl,y as Nl,a5 as Fl,e as qt,s as jl,A as Hl,x as Ot,N as Vl}from"./app-DKvfoN-y.js";import{_ as Wl}from"./GTextarea-BoCYYrbh.js";import{_ as zl}from"./Input.vue_vue_type_script_setup_true_lang-BYzMHQE9.js";import{_ as Ul}from"./Label.vue_vue_type_script_setup_true_lang-BI4_AY6J.js";import{i as Gl,_ as Kl,a as Yl,b as Xl,I as Ql}from"./functions-D1Zdsiw6.js";import{_ as Zl,a as Jl,I as ql}from"./eye-linear-CH3le6Xu.js";import{_ as ec}from"./Switch.vue_vue_type_script_setup_true_lang-C7ZMvNjL.js";import{_ as tc}from"./Link-BxabHujp.js";import{_ as Br}from"./isEmpty-CMR0aKk4.js";import{I as ic}from"./arrow-left-linear-CzdGo5D7.js";import"./isObjectLike-ClnVNF-J.js";const nc=et({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(t){const e=t,i=Ke(()=>{const{class:n,...c}=e;return c});return(n,c)=>(se(),Me(Y(_l),Mt(i.value,{class:Y(mt)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:te(()=>[e.label?(se(),Ae("span",{key:0,class:pi(Y(mt)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},ce(e.label),3)):Ue("",!0)]),_:1},16,["class"]))}}),oc=et({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(t){const e=t;return(i,n)=>(se(),Me(Y(kl),Jn(qn(e)),{default:te(()=>[tt(i.$slots,"default")]),_:3},16))}}),rc=et({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const c=vi(t,e);return(o,p)=>(se(),Me(Y(El),Jn(qn(Y(c))),{default:te(()=>[tt(o.$slots,"default")]),_:3},16))}}),sc=et({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const i=t,n=e,c=Ke(()=>{const{class:p,...m}=i;return m}),o=vi(c,n);return(p,m)=>(se(),Me(Y(Cl),null,{default:te(()=>[Q(Y(xl),Mt({...Y(o),...p.$attrs},{class:Y(mt)("z-50 max-w-60 font-medium overflow-hidden rounded-md shadow-lg bg-background dark:bg-deeper px-3 py-1.5 text-xs border border-border animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i.class)}),{default:te(()=>[tt(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ac=et({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(i,n)=>(se(),Me(Y(Tl),Jn(qn(e)),{default:te(()=>[tt(i.$slots,"default")]),_:3},16))}});var Nr="&#8203;";function fn(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Fr(t){return function(e){if(Array.isArray(e))return fn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,i){if(e){if(typeof e=="string")return fn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,i)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gt={isEnabled:function(){var t;return(t=window.TAGIFY_DEBUG)===null||t===void 0||t},log:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n;this.isEnabled()&&(n=console).log.apply(n,["[Tagify]:"].concat(Fr(e)))},warn:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n;this.isEnabled()&&(n=console).warn.apply(n,["[Tagify]:"].concat(Fr(e)))}},oi=function(t,e,i,n){return t=""+t,e=""+e,n&&(t=t.trim(),e=e.trim()),i?t==e:t.toLowerCase()==e.toLowerCase()},jr=function(t,e){return t&&Array.isArray(t)&&t.map(function(i){return Pn(i,e)})};function Pn(t,e){var i,n={};for(i in t)e.indexOf(i)<0&&(n[i]=t[i]);return n}function gn(t){return new DOMParser().parseFromString(t.trim(),"text/html").body.firstElementChild}function Hr(t,e){for(e=e||"previous";t=t[e+"Sibling"];)if(t.nodeType==3)return t}function Et(t){return typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):t}function Ge(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&e!="Array"&&e!="Function"&&e!="RegExp"&&e!="HTMLUnknownElement"}function Le(t,e,i){var n,c;function o(p,m){for(var h in m)if(m.hasOwnProperty(h)){if(Ge(m[h])){Ge(p[h])?o(p[h],m[h]):p[h]=Object.assign({},m[h]);continue}if(Array.isArray(m[h])){p[h]=Object.assign([],m[h]);continue}p[h]=m[h]}}return n=t,((c=Object)!=null&&typeof Symbol<"u"&&c[Symbol.hasInstance]?c[Symbol.hasInstance](n):n instanceof c)||(t={}),o(t,e),i&&o(t,i),t}function Vr(){var t=[],e={},i=!0,n=!1,c=void 0;try{for(var o,p=arguments[Symbol.iterator]();!(i=(o=p.next()).done);i=!0){var m=o.value,h=!0,g=!1,a=void 0;try{for(var l,d=m[Symbol.iterator]();!(h=(l=d.next()).done);h=!0){var u=l.value;Ge(u)?e[u.value]||(t.push(u),e[u.value]=1):t.includes(u)||t.push(u)}}catch(s){g=!0,a=s}finally{try{h||d.return==null||d.return()}finally{if(g)throw a}}}}catch(s){n=!0,c=s}finally{try{i||p.return==null||p.return()}finally{if(n)throw c}}return t}function ki(t){return String.prototype.normalize?typeof t=="string"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}var Wr=function(){return/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent)};function zr(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}function Ct(t){var e;return ms.call(this,t)&&(t==null||(e=t.classList)===null||e===void 0?void 0:e.contains(this.settings.classNames.tag))}function Ur(t){return ms.call(this,t)&&(t==null?void 0:t.closest(this.settings.classNames.tagSelector))}function ms(t){return(t==null?void 0:t.closest(this.settings.classNames.namespaceSelector))===this.DOM.scope}function vs(t,e){var i=window.getSelection();return e=e||i.getRangeAt(0),typeof t=="string"&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function me(t,e,i){return t?(e&&(t.__tagifyTagData=i?e:Le({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(gt.warn("tag element doesn't exist",{tagElm:t,data:e}),e)}function ft(t){if(t&&t.parentNode){var e=t,i=window.getSelection(),n=i.getRangeAt(0);i.rangeCount&&(n.setStartAfter(e),n.collapse(!0),i.removeAllRanges(),i.addRange(n))}}function ys(t,e){t.forEach(function(i){if(me(i.previousSibling)||!i.previousSibling){var n=document.createTextNode("​");i.before(n),e&&ft(n)}})}var mn={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,addTagOn:["blur","tab","enter"],onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,focusable:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:function(){},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1,tabKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownItemSelected:"tagify__dropdown__item--selected",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,escapeHTML:!0,highlightFirst:!0,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:function(){return Promise.resolve()},beforePaste:function(){return Promise.resolve()},suggestionClick:function(){return Promise.resolve()},beforeKeyDown:function(){return Promise.resolve()}}};function lc(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{},n=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),n.forEach(function(c){lc(t,c,i[c])})}return t}function dc(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(i,n){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);c.push.apply(c,o)}return c}(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}),t}function vn(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function uc(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hc(t){return function(e){if(Array.isArray(e))return vn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,i){if(e){if(typeof e=="string")return vn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,i)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(){for(var t in this.dropdown={},this._dropdown)this.dropdown[t]=typeof this._dropdown[t]=="function"?this._dropdown[t].bind(this):this._dropdown[t];this.dropdown.refs(),this.DOM.dropdown.__tagify=this}var Ei,Rt,fc=(Ei=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{},n=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),n.forEach(function(c){uc(t,c,i[c])})}return t}({},{events:{binding:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},n=t?"addEventListener":"removeEventListener";this.settings.dropdown.position!="manual"&&(document[n]("scroll",i.position,!0),window[n]("resize",i.position),window[n]("keydown",i.onKeyDown)),this.DOM.dropdown[n]("mouseover",i.onMouseOver),this.DOM.dropdown[n]("mouseleave",i.onMouseLeave),this.DOM.dropdown[n]("mousedown",i.onClick),this.DOM.dropdown.content[n]("scroll",i.onScroll)},callbacks:{onKeyDown:function(t){var e=this;if(this.state.hasFocus&&!this.state.composing){var i=this.settings,n=this.DOM.dropdown.querySelector(i.classNames.dropdownItemActiveSelector),c=this.dropdown.getSuggestionDataByNode(n),o=i.mode=="mix",p=i.mode=="select";i.hooks.beforeKeyDown(t,{tagify:this}).then(function(m){switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":t.preventDefault();var h=e.dropdown.getAllSuggestionsRefs(),g=t.key=="ArrowUp"||t.key=="Up";n&&(n=e.dropdown.getNextOrPrevOption(n,!g)),n&&n.matches(i.classNames.dropdownItemSelector)||(n=h[g?h.length-1:0]),e.dropdown.highlightOption(n,!0);break;case"PageUp":case"PageDown":var a;t.preventDefault();var l=e.dropdown.getAllSuggestionsRefs(),d=Math.floor(e.DOM.dropdown.content.clientHeight/((a=l[0])===null||a===void 0?void 0:a.offsetHeight))||1,u=t.key==="PageUp";if(n){var s=l.indexOf(n),r=u?Math.max(0,s-d):Math.min(l.length-1,s+d);n=l[r]}else n=l[0];e.dropdown.highlightOption(n,!0);break;case"Home":case"End":t.preventDefault();var f=e.dropdown.getAllSuggestionsRefs();n=f[t.key==="Home"?0:f.length-1],e.dropdown.highlightOption(n,!0);break;case"Escape":case"Esc":e.dropdown.hide();break;case"ArrowRight":if(e.state.actions.ArrowLeft||i.autoComplete.rightKey)return;case"Tab":var v=!i.autoComplete.rightKey||!i.autoComplete.tabKey;if(!o&&!p&&n&&v&&!e.state.editing&&c){t.preventDefault();var y=e.dropdown.getMappedValue(c);return e.state.autoCompleteData=c,e.input.autocomplete.set.call(e,y),!1}return!0;case"Enter":t.preventDefault(),e.state.actions.selectOption=!0,setTimeout(function(){return e.state.actions.selectOption=!1},100),i.hooks.suggestionClick(t,{tagify:e,tagData:c,suggestionElm:n}).then(function(){if(n)return e.dropdown.selectOption(n),n=e.dropdown.getNextOrPrevOption(n,!g),void e.dropdown.highlightOption(n);e.dropdown.hide(),o||e.addTags(e.state.inputText.trim(),!0)}).catch(function(x){return gt.warn(x)});break;case"Backspace":if(o||e.state.editing.scope)return;var C=e.input.raw.call(e);C!=""&&C.charCodeAt(0)!=8203||(i.backspace===!0?e.removeTags():i.backspace=="edit"&&setTimeout(e.editTag.bind(e),0))}})}},onMouseOver:function(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);this.dropdown.highlightOption(e)},onMouseLeave:function(t){this.dropdown.highlightOption()},onClick:function(t){var e=this;if(t.button==0&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var i=t.target.closest(this.settings.classNames.dropdownItemSelector),n=this.dropdown.getSuggestionDataByNode(i);this.state.actions.selectOption=!0,setTimeout(function(){return e.state.actions.selectOption=!1},100),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:n,suggestionElm:i}).then(function(){i?e.dropdown.selectOption(i,t):e.dropdown.hide()}).catch(function(c){return gt.warn(c)})}},onScroll:function(t){var e=t.target,i=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(i)})}}},refilter:function(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},getSuggestionDataByNode:function(t){for(var e,i=t&&t.getAttribute("value"),n=this.suggestedListItems.length;n--;){if(Ge(e=this.suggestedListItems[n])&&e.value==i)return e;if(e==i)return{value:e}}},getNextOrPrevOption:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this.dropdown.getAllSuggestionsRefs(),n=i.findIndex(function(c){return c===t});return e?i[n+1]:i[n-1]},highlightOption:function(t,e){var i,n=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(n),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);i=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=i,this.state.ddItemElm=t,t.classList.add(n),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,i),this.dropdown.position())},selectOption:function(t,e){var i=this,n=this.settings,c=n.dropdown,o=c.clearOnSelect,p=c.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(p&&this.dropdown.hide());e=e||{};var m=t.getAttribute("value"),h=m=="noMatch",g=n.mode=="mix",a=this.suggestedListItems.find(function(d){var u;return((u=d.value)!==null&&u!==void 0?u:d)==m});if(this.trigger("dropdown:select",{data:a,elm:t,event:e}),a||h){if(this.state.editing){var l=this.normalizeTags([a])[0];a=n.transformTag.call(this,l)||l,this.onEditTagDone(null,Le({__isValid:!0},a))}else this[g?"addMixTags":"addTags"]([a||this.input.raw.call(this)],o);(g||this.DOM.input.parentNode)&&(setTimeout(function(){i.DOM.input.focus(),i.toggleFocusClass(!0)}),p&&setTimeout(this.dropdown.hide.bind(this)),t.addEventListener("transitionend",function(){i.dropdown.fillHeaderFooter(),setTimeout(function(){t.remove(),i.dropdown.refilter()},100)},{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))}else p&&setTimeout(this.dropdown.hide.bind(this))},selectAll:function(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var e=this.dropdown.filterListItems("");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems:function(t,e){var i,n,c,o,p,m,h=function(){var w,k,T=void 0,A=void 0;w=s[C],n=((k=Object)!=null&&typeof Symbol<"u"&&k[Symbol.hasInstance]?k[Symbol.hasInstance](w):w instanceof k)?s[C]:{value:s[C]};var M,L=Object.keys(n).some(function(R){return y.includes(R)})?y:["value"];l.fuzzySearch&&!e.exact?(o=L.reduce(function(R,_){return R+" "+(n[_]||"")},"").toLowerCase().trim(),l.accentedSearch&&(o=ki(o),m=ki(m)),T=o.indexOf(m)==0,A=o===m,M=o,c=m.toLowerCase().split(" ").every(function(R){return M.includes(R.toLowerCase())})):(T=!0,c=L.some(function(R){var _=""+(n[R]||"");return l.accentedSearch&&(_=ki(_),m=ki(m)),l.caseSensitive||(_=_.toLowerCase()),A=_===m,e.exact?_===m:_.indexOf(m)==0})),p=!l.includeSelectedTags&&i.isTagDuplicate(Ge(n)?n.value:n),c&&!p&&(A&&T?u.push(n):l.sortby=="startsWith"&&T?d.unshift(n):d.push(n))},g=this,a=this.settings,l=a.dropdown,d=(e=e||{},[]),u=[],s=a.whitelist,r=l.maxItems>=0?l.maxItems:1/0,f=l.includeSelectedTags||a.mode=="select",v=typeof l.sortby=="function",y=l.searchKeys,C=0;if(!(t=a.mode=="select"&&this.value.length&&this.value[0][a.tagTextProp]==t?"":t)||!y.length){d=f?s:s.filter(function(w){return!g.isTagDuplicate(Ge(w)?w.value:w)});var x=v?l.sortby(d,m):d.slice(0,r);return this.state.dropdown.suggestions=x,x}for(m=l.caseSensitive?""+t:(""+t).toLowerCase();C<s.length;C++)i=this,h();return this.state.dropdown.suggestions=u.concat(d),x=v?l.sortby(u.concat(d),m):u.concat(d).slice(0,r),this.state.dropdown.suggestions=x,x},getMappedValue:function(t){var e=this.settings.dropdown.mapValueTo;return e?typeof e=="function"?e(t):t[e]||t.value:t.value},createListHTML:function(t){var e=this;return Le([],t).map(function(i,n){typeof i!="string"&&typeof i!="number"||(i={value:i});var c=e.dropdown.getMappedValue(i);return c=typeof c=="string"&&e.settings.dropdown.escapeHTML?Et(c):c,e.settings.templates.dropdownItem.apply(e,[dc(cc({},i),{mappedValue:c}),e])}).join("")}}),Rt=(Rt={refs:function(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs:function(){return hc(this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector))},show:function(t){var e,i,n,c=this,o=this.settings,p=o.mode=="mix"&&!o.enforceWhitelist,m=!o.whitelist||!o.whitelist.length,h=o.dropdown.position=="manual";if(t=t===void 0?this.state.inputText:t,!(m&&!p&&!o.templates.dropdownItemNoMatch||o.dropdown.enabled===!1||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",t),o.templates.dropdownItemNoMatch&&(n=o.templates.dropdownItemNoMatch.call(this,{value:t}))),!n){if(this.suggestedListItems.length)t&&p&&!this.state.editing.scope&&!oi(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!p||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}i=""+(Ge(e=this.suggestedListItems[0])?e.value:e),o.autoComplete&&i&&i.indexOf(t)==0&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(n),o.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(o.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),h||setTimeout(function(){c.dropdown.position(),c.dropdown.render()}),setTimeout(function(){c.trigger("dropdown:show",c.DOM.dropdown)})}},hide:function(t){var e=this,i=this.DOM,n=i.scope,c=i.dropdown,o=this.settings.dropdown.position=="manual"&&!t;if(c&&document.body.contains(c)&&!o)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),n.setAttribute("aria-expanded",!1),c.parentNode.removeChild(c),setTimeout(function(){e.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",c),this},toggle:function(t){this.dropdown[this.state.dropdown.visible&&!t?"hide":"show"]()},getAppendTarget:function(){var t=this.settings.dropdown;return typeof t.appendTarget=="function"?t.appendTarget():t.appendTarget},render:function(){var t,e,i,n=this,c=(t=this.DOM.dropdown,(i=t.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(i),e=i.clientHeight,i.parentNode.removeChild(i),e),o=this.settings,p=this.dropdown.getAppendTarget();return o.dropdown.enabled===!1||(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(o.classNames.dropdownInital),this.dropdown.position(c),p.appendChild(this.DOM.dropdown),setTimeout(function(){return n.DOM.dropdown.classList.remove(o.classNames.dropdownInital)}))),this},fill:function(t){t=typeof t=="string"?t:this.dropdown.createListHTML(t||this.suggestedListItems);var e,i=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=(e=i)?e.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter:function(){var t=this.dropdown.filterListItems(this.state.dropdown.query),e=this.parseTemplate("dropdownHeader",[t]),i=this.parseTemplate("dropdownFooter",[t]),n=this.dropdown.getHeaderRef(),c=this.dropdown.getFooterRef();e&&(n==null||n.parentNode.replaceChild(e,n)),i&&(c==null||c.parentNode.replaceChild(i,c))},position:function(t){var e=this.settings.dropdown,i=this.dropdown.getAppendTarget();if(e.position!="manual"&&i){var n,c,o,p,m,h,g,a,l,d=this.DOM.dropdown,u=e.RTL,s=i===document.body,r=i===this.DOM.scope,f=s?window.pageYOffset:i.scrollTop,v=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,y=v.clientHeight,C=Math.max(v.clientWidth||0,window.innerWidth||0)>480?e.position:"all",x=this.DOM[C=="input"?"input":"scope"];if(t=t||d.clientHeight,this.state.dropdown.visible){if(C=="text"?(o=(n=function(){var T=document.getSelection();if(T.rangeCount){var A,M,L=T.getRangeAt(0),R=L.startContainer,_=L.startOffset;if(_>0)return(M=document.createRange()).setStart(R,_-1),M.setEnd(R,_),{left:(A=M.getBoundingClientRect()).right,top:A.top,bottom:A.bottom};if(R.getBoundingClientRect)return R.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,c=n.top,p=n.left,m="auto"):(h=function(T){var A=0,M=0;for(T=T.parentNode;T&&T!=v;)A+=T.offsetTop||0,M+=T.offsetLeft||0,T=T.parentNode;return{top:A,left:M}}(i),n=x.getBoundingClientRect(),c=r?-1:n.top-h.top,o=(r?n.height:n.bottom-h.top)-1,p=r?-1:n.left-h.left,m=n.width+"px"),!s){var w=function(){for(var T=0,A=e.appendTarget.parentNode;A;)T+=A.scrollTop||0,A=A.parentNode;return T}();c+=w,o+=w}var k;c=Math.floor(c),o=Math.ceil(o),a=((g=(k=e.placeAbove)!==null&&k!==void 0?k:y-n.bottom<t)?c:o)+f,l="left: ".concat(p+(u&&n.width||0)+window.pageXOffset,"px;"),d.style.cssText="".concat(l,"; top: ").concat(a,"px; min-width: ").concat(m,"; max-width: ").concat(m),d.setAttribute("placement",g?"top":"bottom"),d.setAttribute("position",C)}}}})!=null?Rt:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Ei,Object.getOwnPropertyDescriptors(Rt)):function(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i.push.apply(i,n)}return i}(Object(Rt)).forEach(function(t){Object.defineProperty(Ei,t,Object.getOwnPropertyDescriptor(Rt,t))}),Ei),ei="@yaireo/tagify/",gc={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},mc={wrapper:function(t,e){return'<tags class="'.concat(e.classNames.namespace," ").concat(e.mode?"".concat(e.classNames[e.mode+"Mode"]):""," ").concat(t.className,`"
                    `).concat(e.readonly?"readonly":"",`
                    `).concat(e.disabled?"disabled":"",`
                    `).concat(e.required?"required":"",`
                    `).concat(e.mode==="select"?"spellcheck='false'":"",`
                    tabIndex="-1">
                    `).concat(this.settings.templates.input.call(this),`
                `).concat(Nr,`
        </tags>`)},input:function(){var t=this.settings,e=t.placeholder||Nr;return"<span ".concat(!t.readonly&&t.userInput?"contenteditable":"",' tabIndex="0" data-placeholder="').concat(e,'" aria-placeholder="').concat(t.placeholder||"",`"
                    class="`).concat(t.classNames.input,`"
                    role="textbox"
                    autocapitalize="false"
                    autocorrect="off"
                    aria-autocomplete="both"
                    aria-multiline="`).concat(t.mode=="mix",'"></span>')},tag:function(t,e){var i=e.settings;return'<tag title="'.concat(t.title||t.value,`"
                    contenteditable='false'
                    tabIndex="`).concat(i.a11y.focusableTags?0:-1,`"
                    class="`).concat(i.classNames.tag," ").concat(t.class||"",`"
                    `).concat(this.getAttributes(t),`>
            <x title='' tabIndex="`).concat(i.a11y.focusableTags?0:-1,'" class="').concat(i.classNames.tagX,`" role='button' aria-label='remove tag'></x>
            <div>
                <span `).concat(i.mode==="select"&&i.userInput?"contenteditable='true'":"",` autocapitalize="false" autocorrect="off" spellcheck='false' class="`).concat(i.classNames.tagText,'">').concat(t[i.tagTextProp]||t.value,`</span>
            </div>
        </tag>`)},dropdown:function(t){var e=t.dropdown,i=e.position=="manual";return'<div class="'.concat(i?"":t.classNames.dropdown," ").concat(e.classname,'" role="listbox" aria-labelledby="dropdown" dir="').concat(e.RTL?"rtl":"",`">
                    <div data-selector='tagify-suggestions-wrapper' class="`).concat(t.classNames.dropdownWrapper,`"></div>
                </div>`)},dropdownContent:function(t){var e=this.settings.templates,i=this.state.dropdown.suggestions;return`
            `.concat(e.dropdownHeader.call(this,i),`
            `).concat(t,`
            `).concat(e.dropdownFooter.call(this,i),`
        `)},dropdownItem:function(t){return"<div ".concat(this.getAttributes(t),`
                    class='`).concat(this.settings.classNames.dropdownItem," ").concat(this.isTagDuplicate(t.value)?this.settings.classNames.dropdownItemSelected:""," ").concat(t.class||"",`'
                    tabindex="0"
                    role="option">`).concat(t.mappedValue||t.value,"</div>")},dropdownHeader:function(t){return`<header data-selector='tagify-suggestions-header' class="`.concat(this.settings.classNames.dropdownHeader,'"></header>')},dropdownFooter:function(t){var e=t.length-this.settings.dropdown.maxItems;return e>0?`<footer data-selector='tagify-suggestions-footer' class="`.concat(this.settings.classNames.dropdownFooter,`">
                `).concat(e,` more items. Refine your search.
            </footer>`):""},dropdownItemNoMatch:null};function Gr(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Kr(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function vc(t,e){return function(i){if(Array.isArray(i))return i}(t)||function(i,n){var c=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(c!=null){var o,p,m=[],h=!0,g=!1;try{for(c=c.call(i);!(h=(o=c.next()).done)&&(m.push(o.value),!n||m.length!==n);h=!0);}catch(a){g=!0,p=a}finally{try{h||c.return==null||c.return()}finally{if(g)throw p}}return m}}(t,e)||function(i,n){if(i){if(typeof i=="string")return Gr(i,n);var c=Object.prototype.toString.call(i).slice(8,-1);if(c==="Object"&&i.constructor&&(c=i.constructor.name),c==="Map"||c==="Set")return Array.from(c);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Gr(i,n)}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Yr(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function yc(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(i,n){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);c.push.apply(c,o)}return c}(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}),t}function bn(t){return function(e){if(Array.isArray(e))return yn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,i){if(e){if(typeof e=="string")return yn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,i)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bc={customBinding:function(){var t=this;this.customEventsList.forEach(function(e){t.on(e,t.settings.callbacks[e])})},binding:function(){var t,e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.settings,n=this.events.callbacks,c=e?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!e){for(var o in this.state.mainEvents=e,e&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),t=this.listeners.main=this.listeners.main||{keydown:["input",n.onKeydown.bind(this)],click:["scope",n.onClickScope.bind(this)],dblclick:i.mode!="select"&&["scope",n.onDoubleClickScope.bind(this)],paste:["input",n.onPaste.bind(this)],drop:["input",n.onDrop.bind(this)],compositionstart:["input",n.onCompositionStart.bind(this)],compositionend:["input",n.onCompositionEnd.bind(this)]})t[o]&&this.DOM[t[o][0]][c](o,t[o][1]);var p=this.listeners.main.inputMutationObserver||new MutationObserver(n.onInputDOMChange.bind(this));p.disconnect(),i.mode=="mix"&&p.observe(this.DOM.input,{childList:!0}),this.events.bindOriginaInputListener.call(this)}},bindOriginaInputListener:function(t){var e=(t||0)+500;this.listeners.main&&(clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(this.events.callbacks.observeOriginalInputValue.bind(this),e))},bindGlobal:function(t){var e,i=this.events.callbacks,n=t?"removeEventListener":"addEventListener";if(this.listeners&&(t||!this.listeners.global)){this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:i[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:i.onWindowKeyDown.bind(this)},{type:"focusin",target:this.DOM.scope,cb:i.onFocusBlur.bind(this)},{type:"focusout",target:this.DOM.scope,cb:i.onFocusBlur.bind(this)},{type:"click",target:document,cb:i.onClickAnywhere.bind(this),useCapture:!0}];var c=!0,o=!1,p=void 0;try{for(var m,h=this.listeners.global[Symbol.iterator]();!(c=(m=h.next()).done);c=!0)(e=m.value).target[n](e.type,e.cb,!!e.useCapture)}catch(g){o=!0,p=g}finally{try{c||h.return==null||h.return()}finally{if(o)throw p}}}},unbindGlobal:function(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur:function(t){var e,i,n=this.settings,c=Ur.call(this,t.relatedTarget),o=Ct.call(this,t.relatedTarget),p=t.target.classList.contains(n.classNames.tagX),m=t.type=="focusin",h=t.type=="focusout";p&&n.mode!="mix"&&this.DOM.input.focus(),c&&m&&!o&&!p&&this.toggleFocusClass(this.state.hasFocus=+new Date);var g=t.target?this.trim(this.DOM.input.textContent):"",a=(i=this.value)===null||i===void 0||(e=i[0])===null||e===void 0?void 0:e[n.tagTextProp],l=n.dropdown.enabled>=0,d={relatedTarget:t.relatedTarget},u=this.state.actions.selectOption&&(l||!n.dropdown.closeOnSelect),s=this.state.actions.addNew&&l;if(h){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),n.onChangeAfterBlur&&this.triggerChangeEvent()}if(!(u||s||p))if(this.state.hasFocus=!(!m&&!c)&&+new Date,this.toggleFocusClass(this.state.hasFocus),n.mode!="mix"){if(m){if(!n.focusable)return;var r=n.dropdown.enabled===0&&!this.state.dropdown.visible,f=!o||n.mode==="select";return this.trigger("focus",d),void(r&&f&&this.dropdown.show(this.value.length?"":void 0))}if(h){if(this.trigger("blur",d),this.loading(!1),n.mode=="select"){if(this.value.length){var v=this.getTagElms()[0];g=this.trim(v.textContent)}a===g&&(g="")}g&&!this.state.actions.selectOption&&n.addTagOnBlur&&n.addTagOn.includes("blur")&&this.addTags(g,!0)}c||(this.DOM.input.removeAttribute("style"),this.dropdown.hide())}else m?this.trigger("focus",d):h&&(this.trigger("blur",d),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart:function(t){this.state.composing=!0},onCompositionEnd:function(t){this.state.composing=!1},onWindowKeyDown:function(t){var e,i=this.settings,n=document.activeElement,c=Ur.call(this,n)&&this.DOM.scope.contains(n),o=n===this.DOM.input,p=c&&n.hasAttribute("readonly");if((this.state.hasFocus||c&&!p)&&!o){e=n.nextElementSibling;var m=t.target.classList.contains(i.classNames.tagX);switch(t.key){case"Backspace":i.readonly||this.state.editing||(this.removeTags(n),(e||this.DOM.input).focus());break;case"Enter":if(m)return void this.removeTags(t.target.parentNode);i.a11y.focusableTags&&Ct.call(this,n)&&setTimeout(this.editTag.bind(this),0,n);break;case"ArrowDown":this.state.dropdown.visible||i.mode=="mix"||this.dropdown.show()}}},onKeydown:function(t){var e=this,i=this.settings;if(!this.state.composing&&i.userInput){i.mode=="select"&&i.enforceWhitelist&&this.value.length&&t.key!="Tab"&&t.preventDefault();var n=this.trim(t.target.textContent);this.trigger("keydown",{event:t}),i.hooks.beforeKeyDown(t,{tagify:this}).then(function(c){if(i.mode=="mix"){switch(t.key){case"Left":case"ArrowLeft":e.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(e.state.editing)return;var o=document.getSelection(),p=t.key=="Delete"&&o.anchorOffset==(o.anchorNode.length||0),m=o.anchorNode.previousSibling,h=o.anchorNode.nodeType==1||!o.anchorOffset&&m&&m.nodeType==1&&o.anchorNode.previousSibling;(function(v){var y=document.createElement("div");v.replace(/\&#?[0-9a-z]+;/gi,function(C){return y.innerHTML=C,y.innerText})})(e.DOM.input.innerHTML);var g,a,l,d=e.getTagElms(),u=o.anchorNode.length===1&&o.anchorNode.nodeValue=="​";if(i.backspace=="edit"&&h)return g=o.anchorNode.nodeType==1?null:o.anchorNode.previousElementSibling,setTimeout(e.editTag.bind(e),0,g),void t.preventDefault();if(Wr()&&Yr(h,Element))return l=Hr(h),h.hasAttribute("readonly")||h.remove(),e.DOM.input.focus(),void setTimeout(function(){ft(l),e.DOM.input.click()});if(o.anchorNode.nodeName=="BR")return;if((p||h)&&o.anchorNode.nodeType==1?a=o.anchorOffset==0?p?d[0]:null:d[Math.min(d.length,o.anchorOffset)-1]:p?a=o.anchorNode.nextElementSibling:Yr(h,Element)&&(a=h),o.anchorNode.nodeType==3&&!o.anchorNode.nodeValue&&o.anchorNode.previousElementSibling&&t.preventDefault(),(h||p)&&!i.backspace||o.type!="Range"&&!o.anchorOffset&&o.anchorNode==e.DOM.input&&t.key!="Delete")return void t.preventDefault();if(o.type!="Range"&&a&&a.hasAttribute("readonly"))return void ft(Hr(a));t.key=="Delete"&&u&&me(o.anchorNode.nextSibling)&&e.removeTags(o.anchorNode.nextSibling)}return!0}var s=i.dropdown.position=="manual";switch(t.key){case"Backspace":i.mode=="select"&&i.enforceWhitelist&&e.value.length?e.removeTags():e.state.dropdown.visible&&i.dropdown.position!="manual"||t.target.textContent!=""&&n.charCodeAt(0)!=8203||(i.backspace===!0?e.removeTags():i.backspace=="edit"&&setTimeout(e.editTag.bind(e),0));break;case"Esc":case"Escape":if(e.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":e.state.dropdown.visible||e.dropdown.show();break;case"ArrowRight":var r=e.state.inputSuggestion||e.state.ddItemData;if(r&&i.autoComplete.rightKey)return void e.addTags([r],!0);break;case"Tab":return!0;case"Enter":if(e.state.dropdown.visible&&!s)return;t.preventDefault();var f=e.state.autoCompleteData||n;setTimeout(function(){e.state.dropdown.visible&&!s||e.state.actions.selectOption||!i.addTagOn.includes(t.key.toLowerCase())||(e.addTags([f],!0),e.state.autoCompleteData=null)})}}).catch(function(c){return c})}},onInput:function(t){this.postUpdate();var e=this.settings;if(e.mode=="mix")return this.events.callbacks.onMixTagsInput.call(this,t);var i=this.input.normalize.call(this,void 0,{trim:!1}),n=i.length>=e.dropdown.enabled,c={value:i,inputElm:this.DOM.input},o=this.validateTag({value:i});e.mode=="select"&&this.toggleScopeValidation(o),c.isValid=o,this.state.inputText!=i&&(this.input.set.call(this,i,!1),i.search(e.delimiters)!=-1?this.addTags(i)&&this.input.set.call(this):e.dropdown.enabled>=0&&this.dropdown[n?"show":"hide"](i),this.trigger("input",c))},onMixTagsInput:function(t){var e,i,n,c,o,p,m,h,g=this,a=this.settings,l=this.value.length,d=this.getTagElms(),u=document.createDocumentFragment(),s=window.getSelection().getRangeAt(0),r=[].map.call(d,function(f){return me(f).value});if(t.inputType=="deleteContentBackward"&&Wr()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:"Backspace"}),ys(this.getTagElms()),this.value.slice().forEach(function(f){f.readonly&&!r.includes(f.value)&&u.appendChild(g.createTagElem(f))}),u.childNodes.length&&(s.insertNode(u),this.setRangeAtStartEnd(!1,u.lastChild)),d.length!=l)return this.value=[].map.call(this.getTagElms(),function(f){return me(f)}),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(p=window.getSelection()).rangeCount>0&&p.anchorNode.nodeType==3){if((s=p.getRangeAt(0).cloneRange()).collapse(!0),s.setStart(p.focusNode,0),n=(e=s.toString().slice(0,s.endOffset)).split(a.pattern).length-1,(i=e.match(a.pattern))&&(c=e.slice(e.lastIndexOf(i[i.length-1]))),c){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:c.match(a.pattern)[0],value:c.replace(a.pattern,"")},this.state.tag.baseOffset=p.baseOffset-this.state.tag.value.length,h=this.state.tag.value.match(a.delimiters))return this.state.tag.value=this.state.tag.value.replace(a.delimiters,""),this.state.tag.delimiters=h[0],this.addTags(this.state.tag.value,a.dropdown.clearOnSelect),void this.dropdown.hide();o=this.state.tag.value.length>=a.dropdown.enabled;try{m=(m=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&m.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(m||n<this.state.mixMode.matchedPatternCount)&&(o=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=n}setTimeout(function(){g.update({withoutChangeEvent:!0}),g.trigger("input",Le({},g.state.tag,{textContent:g.DOM.input.textContent})),g.state.tag&&g.dropdown[o?"show":"hide"](g.state.tag.value)},10)},onInputIE:function(t){var e=this;setTimeout(function(){e.events.callbacks.onInput.call(e,t)})},observeOriginalInputValue:function(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere:function(t){if(t.target!=this.DOM.scope&&!this.DOM.scope.contains(t.target)){this.toggleFocusClass(!1),this.state.hasFocus=!1;var e=t.target.closest(this.settings.classNames.dropdownSelector);(e==null?void 0:e.__tagify)!=this&&this.dropdown.hide()}},onClickScope:function(t){var e=this.settings,i=t.target.closest("."+e.classNames.tag),n=t.target===this.DOM.scope,c=+new Date-this.state.hasFocus;if(n&&e.mode!="select")this.DOM.input.focus();else{if(!t.target.classList.contains(e.classNames.tagX))return i&&!this.state.editing?(this.trigger("click",{tag:i,index:this.getNodeIndex(i),data:me(i),event:t}),void(e.editTags!==1&&e.editTags.clicks!==1&&e.mode!="select"||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&(e.mode=="mix"&&this.fixFirefoxLastTagNoCaret(),c>500||!e.focusable)?this.state.dropdown.visible?this.dropdown.hide():e.dropdown.enabled===0&&e.mode!="mix"&&this.dropdown.show(this.value.length?"":void 0):e.mode!="select"||e.dropdown.enabled!==0||this.state.dropdown.visible||(this.events.callbacks.onDoubleClickScope.call(this,yc(function(o){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{},h=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(m).filter(function(g){return Object.getOwnPropertyDescriptor(m,g).enumerable}))),h.forEach(function(g){_t(o,g,m[g])})}return o}({},t),{target:this.getTagElms()[0]})),!e.userInput&&this.dropdown.show()));this.removeTags(t.target.parentNode)}},onPaste:function(t){var e=this;t.preventDefault();var i,n,c,o=this.settings;if(o.mode=="select"&&o.enforceWhitelist||!o.userInput)return!1;o.readonly||(n=t.clipboardData||window.clipboardData,c=n.getData("Text"),o.hooks.beforePaste(t,{tagify:this,pastedText:c,clipboardData:n}).then(function(p){p===void 0&&(p=c),p&&(e.injectAtCaret(p,window.getSelection().getRangeAt(0)),e.settings.mode=="mix"?e.events.callbacks.onMixTagsInput.call(e,t):e.settings.pasteAsTags?i=e.addTags(e.state.inputText+p,!0):(e.state.inputText=p,e.dropdown.show(p))),e.trigger("paste",{event:t,pastedText:c,clipboardData:n,tagsElems:i})}).catch(function(p){return p}))},onDrop:function(t){t.preventDefault()},onEditTagInput:function(t,e){var i,n=t.closest("."+this.settings.classNames.tag),c=this.getNodeIndex(n),o=me(n),p=this.input.normalize.call(this,t),m=(_t(i={},this.settings.tagTextProp,p),_t(i,"__tagId",o.__tagId),i),h=this.validateTag(m);this.editTagChangeDetected(Le(o,m))||t.originalIsValid!==!0||(h=!0),n.classList.toggle(this.settings.classNames.tagInvalid,h!==!0),o.__isValid=h,n.title=h===!0?o.title||o.value:h,p.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=p),this.dropdown.show(p)),this.trigger("edit:input",{tag:n,index:c,data:Le({},this.value[c],{newValue:p}),event:e})},onEditTagPaste:function(t,e){var i=(e.clipboardData||window.clipboardData).getData("Text");e.preventDefault();var n=vs(i);this.setRangeAtStartEnd(!1,n)},onEditTagClick:function(t,e){this.events.callbacks.onClickScope.call(this,e)},onEditTagFocus:function(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur:function(t,e){var i=Ct.call(this,e.relatedTarget);if(this.settings.mode=="select"&&i&&e.relatedTarget.contains(e.target))this.dropdown.hide();else if(this.state.editing&&(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(document.activeElement)||this.trigger("blur",{}),this.DOM.scope.contains(t))){var n,c,o,p=this.settings,m=t.closest("."+p.classNames.tag),h=me(m),g=this.input.normalize.call(this,t),a=(_t(n={},p.tagTextProp,g),_t(n,"__tagId",h.__tagId),n),l=h.__originalData,d=this.editTagChangeDetected(Le(h,a)),u=this.validateTag(a);if(g)if(d){var s;if(c=this.hasMaxTags(),o=Le({},l,(_t(s={},p.tagTextProp,this.trim(g)),_t(s,"__isValid",u),s)),p.transformTag.call(this,o,l),(u=(!c||l.__isValid===!0)&&this.validateTag(o))!==!0){if(this.trigger("invalid",{data:o,tag:m,message:u}),p.editTags.keepInvalid)return;p.keepInvalidTags?o.__isValid=u:o=l}else p.keepInvalidTags&&(delete o.title,delete o["aria-invalid"],delete o.class);this.onEditTagDone(m,o)}else this.onEditTagDone(m,l);else this.onEditTagDone(m)}},onEditTagkeydown:function(t,e){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:t}),t.key){case"Esc":case"Escape":this.state.editing=!1,e.__tagifyTagData.__originalData.value?e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e):e.remove();break;case"Enter":case"Tab":t.preventDefault(),setTimeout(function(){return t.target.blur()},0)}},onDoubleClickScope:function(t){var e,i,n=t.target.closest("."+this.settings.classNames.tag),c=me(n),o=this.settings;n&&c.editable!==!1&&(e=n.classList.contains(this.settings.classNames.tagEditing),i=n.hasAttribute("readonly"),o.readonly||e||i||!this.settings.editTags||!o.userInput||(this.events.callbacks.onEditTagFocus.call(this,n),this.editTag(n)),this.toggleFocusClass(!0),o.mode!="select"&&this.trigger("dblclick",{tag:n,index:this.getNodeIndex(n),data:me(n)}))},onInputDOMChange:function(t){var e=this;t.forEach(function(n){n.addedNodes.forEach(function(c){if(c.outerHTML=="<div><br></div>")c.replaceWith(document.createElement("br"));else if(c.nodeType==1&&c.querySelector(e.settings.classNames.tagSelector)){var o,p=document.createTextNode("");c.childNodes[0].nodeType==3&&c.previousSibling.nodeName!="BR"&&(p=document.createTextNode(`
`)),(o=c).replaceWith.apply(o,bn([p].concat(bn(bn(c.childNodes).slice(0,-1))))),ft(p)}else if(Ct.call(e,c)){var m;if(((m=c.previousSibling)===null||m===void 0?void 0:m.nodeType)!=3||c.previousSibling.textContent||c.previousSibling.remove(),c.previousSibling&&c.previousSibling.nodeName=="BR"){c.previousSibling.replaceWith(`
​`);for(var h=c.nextSibling,g="";h;)g+=h.textContent,h=h.nextSibling;g.trim()&&ft(c.previousSibling)}else c.previousSibling&&!me(c.previousSibling)||c.before("​")}}),n.removedNodes.forEach(function(c){c&&c.nodeName=="BR"&&Ct.call(e,i)&&(e.removeTags(i),e.fixFirefoxLastTagNoCaret())})});var i=this.DOM.input.lastChild;i&&i.nodeValue==""&&i.remove(),i&&i.nodeName=="BR"||this.DOM.input.appendChild(document.createElement("br"))}}};function wn(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Bn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function nt(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function Xr(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{},n=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),n.forEach(function(c){Bn(t,c,i[c])})}return t}function xi(t){return function(e){if(Array.isArray(e))return wn(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,i){if(e){if(typeof e=="string")return wn(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wn(e,i)}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(t,e){if(!t){gt.warn("input element not found",t);var i=new Proxy(this,{get:function(){return function(){return i}}});return i}if(t.__tagify)return gt.warn("input element is already Tagified - Same instance is returned.",t),t.__tagify;var n;Le(this,function(c){var o=document.createTextNode(""),p={};function m(h,g,a){a&&g.split(/\s+/g).forEach(function(l){return o[h+"EventListener"].call(o,l,a)})}return{removeAllCustomListeners:function(){Object.entries(p).forEach(function(h){var g=vc(h,2),a=g[0];g[1].forEach(function(l){return m("remove",a,l)})}),p={}},off:function(h,g){return h&&(g?m("remove",h,g):h.split(/\s+/g).forEach(function(a){var l;(l=p[a])===null||l===void 0||l.forEach(function(d){return m("remove",a,d)}),delete p[a]})),this},on:function(h,g){return g&&typeof g=="function"&&(h.split(/\s+/g).forEach(function(a){Array.isArray(p[a])?p[a].push(g):p[a]=[g]}),m("add",h,g)),this},trigger:function(h,g,a){var l;if(a=a||{cloneData:!0},h)if(c.settings.isJQueryPlugin)h=="remove"&&(h="removeTag"),jQuery(c.DOM.originalInput).triggerHandler(h,[g]);else{try{var d=typeof g=="object"?g:{value:g};if((d=a.cloneData?Le({},d):d).tagify=this,g.event&&(d.event=this.cloneEvent(g.event)),Kr(g,Object))for(var u in g)Kr(g[u],HTMLElement)&&(d[u]=g[u]);l=new CustomEvent(h,{detail:d})}catch(s){gt.warn(s)}o.dispatchEvent(l)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=e||{},this.getPersistedData=(n=e.id,function(c){var o;if(n){var p,m="/"+c;if(((o=localStorage)===null||o===void 0?void 0:o.getItem(ei+n+"/v"))===1)try{p=JSON.parse(localStorage[ei+n+m])}catch{}return p}}),this.setPersistedData=function(c){var o;return c?((o=localStorage)===null||o===void 0||o.setItem(ei+c+"/v",1),function(p,m){var h,g="/"+m,a=JSON.stringify(p);p&&m&&((h=localStorage)===null||h===void 0||h.setItem(ei+c+g,a),dispatchEvent(new Event("storage")))}):function(){}}(e.id),this.clearPersistedData=function(c){return function(o){var p=ei+"/"+c+"/";if(o)localStorage.removeItem(p+o);else for(var m in localStorage)m.includes(p)&&localStorage.removeItem(m)}}(e.id),this.applySettings(t,e),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),pc.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}Mi.prototype={_dropdown:fc,placeCaretAfterNode:ft,getSetTagData:me,helpers:{sameStr:oi,removeCollectionProp:jr,omit:Pn,isObject:Ge,parseHTML:gn,escapeHTML:Et,extend:Le,concatWithoutDups:Vr,getUID:zr,isNodeTag:Ct},customEventsList:["change","add","remove","invalid","input","paste","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim:function(t){return this.settings.trim&&t&&typeof t=="string"?t.trim():t},parseHTML:gn,templates:mc,parseTemplate:function(t,e){return gn((t=this.settings.templates[t]||t).apply(this,e))},set whitelist(t){var e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],"whitelist")},get whitelist(){return this.settings.whitelist},set userInput(t){this.settings.userInput=!!t,this.setContentEditable(!!t)},get userInput(){return this.settings.userInput},generateClassSelectors:function(t){var e=function(n){var c=n;Object.defineProperty(t,c+"Selector",{get:function(){return"."+this[c].split(" ")[0]}})};for(var i in t)e(i)},applySettings:function(t,e){var i,n;mn.templates=this.templates;var c=Le({},mn,e.mode=="mix"?{dropdown:{position:"text"}}:{}),o=this.settings=Le({},c,e);if(o.disabled=t.hasAttribute("disabled"),o.readonly=o.readonly||t.hasAttribute("readonly"),o.placeholder=Et(t.getAttribute("placeholder")||o.placeholder||""),o.required=t.hasAttribute("required"),this.generateClassSelectors(o.classNames),o.dropdown.includeSelectedTags===void 0&&(o.dropdown.includeSelectedTags=o.duplicates),this.isIE&&(o.autoComplete=!1),["whitelist","blacklist"].forEach(function(m){var h=t.getAttribute("data-"+m);h&&nt(h=h.split(o.delimiters),Array)&&(o[m]=h)}),"autoComplete"in e&&!Ge(e.autoComplete)&&(o.autoComplete=mn.autoComplete,o.autoComplete.enabled=e.autoComplete),o.mode=="mix"&&(o.pattern=o.pattern||/@/,o.autoComplete.rightKey=!0,o.delimiters=e.delimiters||null,o.tagTextProp&&!o.dropdown.searchKeys.includes(o.tagTextProp)&&o.dropdown.searchKeys.push(o.tagTextProp)),t.pattern)try{o.pattern=new RegExp(t.pattern)}catch{}if(o.delimiters){o._delimiters=o.delimiters;try{o.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}o.disabled&&(o.userInput=!1),this.TEXTS=Xr({},gc,o.texts||{}),(o.mode!="select"||!((i=e.dropdown)===null||i===void 0)&&i.enabled)&&o.userInput||(o.dropdown.enabled=0),o.dropdown.appendTarget=((n=e.dropdown)===null||n===void 0?void 0:n.appendTarget)||document.body;var p=this.getPersistedData("whitelist");Array.isArray(p)&&(this.whitelist=Array.isArray(o.whitelist)?Vr(o.whitelist,p):p)},getAttributes:function(t){var e,i=this.getCustomAttributes(t),n="";for(e in i)n+=" "+e+(t[e]!==void 0?'="'.concat(i[e],'"'):"");return n},getCustomAttributes:function(t){if(!Ge(t))return"";var e,i={};for(e in t)e.slice(0,2)!="__"&&e!="class"&&t.hasOwnProperty(e)&&t[e]!==void 0&&(i[e]=Et(t[e]));return i},setStateSelection:function(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars:function(){var t,e,i,n=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(t=function(c){if(!c)return{};var o=(c=c.trim().split(" ")[0]).split(/\d+/g).filter(function(p){return p}).pop().trim();return{value:+c.split(o).filter(function(p){return p})[0].trim(),unit:o}}((i="tag-hide-transition",n.getPropertyValue("--"+i))),e=t.value,t.unit=="s"?1e3*e:e)}},build:function(t){var e=this.DOM,i=t.closest("label");this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1),i&&i.setAttribute("for","")},destroy:function(){var t;this.events.unbindGlobal.call(this),(t=this.DOM.scope.parentNode)===null||t===void 0||t.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),this.removeAllCustomListeners(),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues:function(t){var e,i=this.settings;if(this.state.blockChangeEvent=!0,t===void 0){var n=this.getPersistedData("value");t=n&&!this.DOM.originalInput.value?n:i.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if(i.mode=="mix")this.parseMixTags(t),(e=this.DOM.input.lastChild)&&e.tagName=="BR"||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{nt(JSON.parse(t),Array)&&(t=JSON.parse(t))}catch{}this.addTags(t,!0).forEach(function(c){return c&&c.classList.add(i.classNames.tagNoAnimation)})}else this.postUpdate();this.state.lastOriginalValueReported=i.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent:function(t){var e={};for(var i in t)i!="path"&&(e[i]=t[i]);return e},loading:function(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading:function(t,e){return t&&t.classList[e?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass:function(t,e){typeof t=="string"&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation:function(t){var e=t===!0||t===void 0;!this.settings.required&&t&&t===this.TEXTS.empty&&(e=!0),this.toggleClass(this.settings.classNames.tagInvalid,!e),this.DOM.scope.title=e?"":t},toggleFocusClass:function(t){this.toggleClass(this.settings.classNames.focus,!!t)},setPlaceholder:function(t){var e=this;["data","aria"].forEach(function(i){return e.DOM.input.setAttribute("".concat(i,"-placeholder"),t)})},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,i=new CustomEvent("change",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(i),this.trigger("change",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:bc,fixFirefoxLastTagNoCaret:function(){},setRangeAtStartEnd:function(t,e){if(e){t=typeof t=="number"?t:!!t,e=e.lastChild||e;var i=document.getSelection();if(nt(i.focusNode,Element)&&!this.DOM.input.contains(i.focusNode))return!0;try{i.rangeCount>=1&&["Start","End"].forEach(function(n){return i.getRangeAt(0)["set"+n](e,t||e.length)})}catch(n){console.warn(n)}}},insertAfterTag:function(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e=typeof e=="string"?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected:function(t){var e=t.__originalData;for(var i in e)if(!this.dataProps.includes(i)&&t[i]!=e[i])return!0;return!1},getTagTextNode:function(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode:function(t,e){this.getTagTextNode(t).innerHTML=Et(e)},editTag:function(t,e){var i=this;t=t||this.getLastTag(),e=e||{};var n=this.settings,c=this.getTagTextNode(t),o=this.getNodeIndex(t),p=me(t),m=this.events.callbacks,h=!0,g=n.mode=="select";if(!g&&this.dropdown.hide(),c){if(!nt(p,Object)||!("editable"in p)||p.editable)return p=me(t,{__originalData:Le({},p),__originalHTML:t.cloneNode(!0)}),me(p.__originalHTML,p.__originalData),c.setAttribute("contenteditable",!0),t.classList.add(n.classNames.tagEditing),this.events.callbacks.onEditTagFocus.call(this,t),c.addEventListener("click",m.onEditTagClick.bind(this,t)),c.addEventListener("blur",m.onEditTagBlur.bind(this,this.getTagTextNode(t))),c.addEventListener("input",m.onEditTagInput.bind(this,c)),c.addEventListener("paste",m.onEditTagPaste.bind(this,c)),c.addEventListener("keydown",function(a){return m.onEditTagkeydown.call(i,a,t)}),c.addEventListener("compositionstart",m.onCompositionStart.bind(this)),c.addEventListener("compositionend",m.onCompositionEnd.bind(this)),e.skipValidation||(h=this.editTagToggleValidity(t)),c.originalIsValid=h,this.trigger("edit:start",{tag:t,index:o,data:p,isValid:h}),c.focus(),!g&&this.setRangeAtStartEnd(!1,c),n.dropdown.enabled===0&&!g&&this.dropdown.show(),this.state.hasFocus=!0,this}else gt.warn("Cannot find element in Tag template: .",n.classNames.tagTextSelector)},editTagToggleValidity:function(t,e){var i;if(e=e||me(t))return(i=!("__isValid"in e)||e.__isValid===!0)||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!i),e.__isValid=i,e.__isValid;gt.warn("tag has no data: ",t,e)},onEditTagDone:function(t,e){t=t||this.state.editing.scope,e=e||{};var i,n,c={tag:t,index:this.getNodeIndex(t),previousData:me(t),data:e},o=this.settings;this.trigger("edit:beforeUpdate",c,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&((n=e[o.tagTextProp])!==void 0?!((i=(n+="").trim)===null||i===void 0)&&i.call(n):!(o.tagTextProp in e)&&e.value)?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),o.a11y.focusableTags?t.focus():o.mode!="select"&&ft(t)):t&&this.removeTags(t),this.trigger("edit:updated",c),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(t,e){e&&e.value!==""&&e.value!==void 0||(e=t.__tagifyTagData),e.__isValid&&e.__isValid!=1&&Le(e,this.getInvalidTagAttrs(e,e.__isValid));var i=this.createTagElem(e);return t.parentNode.replaceChild(i,t),this.updateValueByDOMTags(),i},updateValueByDOMTags:function(){var t=this;this.value.length=0;var e=this.settings.classNames,i=[e.tagNotAllowed.split(" ")[0],e.tagHide];[].forEach.call(this.getTagElms(),function(n){xi(n.classList).some(function(c){return i.includes(c)})||t.value.push(me(n))}),this.update()},injectAtCaret:function(t,e){var i;if(e=e||((i=this.state.selection)===null||i===void 0?void 0:i.range),typeof t=="string"&&(t=document.createTextNode(t)),!e&&t)return this.appendMixTags(t),this;var n=vs(t,e);return this.setRangeAtStartEnd(!1,n),this.updateValueByDOMTags(),this.update(),this},input:{set:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this.settings,n=i.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=Et(""+t),t&&this.toggleClass(i.classNames.empty,!this.DOM.input.innerHTML)),!t&&n&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw:function(){return this.DOM.input.textContent},validate:function(){var t=!this.state.inputText||this.validateTag({value:this.state.inputText})===!0;return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize:function(t,e){var i=t||this.DOM.input,n=[];i.childNodes.forEach(function(c){return c.nodeType==3&&n.push(c.nodeValue)}),n=n.join(`
`);try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return n=n.replace(/\s/g," "),e!=null&&e.trim?this.trim(n):n},autocomplete:{suggest:function(t){if(this.settings.autoComplete.enabled){typeof(t=t||{value:""})!="object"&&(t={value:t});var e=this.dropdown.getMappedValue(t);if(typeof e!="number"){var i=this.state.inputText.toLowerCase(),n=e.substr(0,this.state.inputText.length).toLowerCase(),c=e.substring(this.state.inputText.length);e&&this.state.inputText&&n==i?(this.DOM.input.setAttribute("data-suggest",c),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set:function(t){var e=this.DOM.input.getAttribute("data-suggest"),i=t||(e?this.state.inputText+e:null);return!!i&&(this.settings.mode=="mix"?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+i)):(this.input.set.call(this,i),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx:function(t){return this.value.findIndex(function(e){return e.__tagId==(t||{}).__tagId})},getNodeIndex:function(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n="."+xi(this.settings.classNames.tag.split(" ")).concat(xi(e)).join(".");return[].slice.call(this.DOM.scope.querySelectorAll(n))},getLastTag:function(){var t=this.settings.classNames,e=this.DOM.scope.querySelectorAll("".concat(t.tagSelector,":not(.").concat(t.tagHide,"):not([readonly])"));return e[e.length-1]},isTagDuplicate:function(t,e,i){var n=0,c=!0,o=!1,p=void 0;try{for(var m,h=this.value[Symbol.iterator]();!(c=(m=h.next()).done);c=!0){var g=m.value;oi(this.trim(""+t),g.value,e)&&i!=g.__tagId&&n++}}catch(a){o=!0,p=a}finally{try{c||h.return==null||h.return()}finally{if(o)throw p}}return n},getTagIndexByValue:function(t){var e=this,i=[],n=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach(function(c,o){c.__tagifyTagData&&oi(e.trim(c.__tagifyTagData.value),t,n)&&i.push(o)}),i},getTagElmByValue:function(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag:function(t){var e=this;t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout(function(){t.classList.remove(e.settings.classNames.tagFlash)},100))},isTagBlacklisted:function(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter(function(e){return(""+e).toLowerCase()==t}).length},isTagWhitelisted:function(t){return!!this.getWhitelistItem(t)},getWhitelistItem:function(t,e,i){e=e||"value";var n,c=this.settings;return(i=i||c.whitelist).some(function(o){var p=typeof o=="object"?o[e]||o.value:o;if(oi(p,t,c.dropdown.caseSensitive,c.trim))return n=typeof o=="object"?o:{value:o},!0}),n||e!="value"||c.tagTextProp=="value"||(n=this.getWhitelistItem(t,c.tagTextProp,i)),n},validateTag:function(t){var e=this.settings,i="value"in t?"value":e.tagTextProp,n=this.trim(t[i]+"");return(t[i]+"").trim()?e.mode!="mix"&&e.pattern&&nt(e.pattern,RegExp)&&!e.pattern.test(n)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(n,e.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(n)||e.enforceWhitelist&&!this.isTagWhitelisted(n)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs:function(t,e){return{"aria-invalid":!0,class:"".concat(t.class||""," ").concat(this.settings.classNames.tagNotAllowed).trim(),title:e}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly:function(t,e){var i=this.settings;this.DOM.scope.contains(document.activeElement)&&document.activeElement.blur(),i[e||"readonly"]=t,this.DOM.scope[(t?"set":"remove")+"Attribute"](e||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!t)},setContentEditable:function(t){this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1},setDisabled:function(t){this.setReadonly(t,"disabled")},normalizeTags:function(t){var e=this,i=this.settings,n=i.whitelist,c=i.delimiters,o=i.mode,p=i.tagTextProp,m=[],h=!!n&&nt(n[0],Object),g=Array.isArray(t),a=g&&t[0].value,l=function(d){return(d+"").split(c).reduce(function(u,s){var r,f=e.trim(s);return f&&u.push((Bn(r={},p,f),Bn(r,"value",f),r)),u},[])};if(typeof t=="number"&&(t=t.toString()),typeof t=="string"){if(!t.trim())return[];t=l(t)}else g&&(t=t.reduce(function(d,u){if(Ge(u)){var s=Le({},u);p in s||(p="value"),s[p]=e.trim(s[p]),(s[p]||s[p]===0)&&d.push(s)}else if(u!=null&&u!==""&&u!==void 0){var r;(r=d).push.apply(r,xi(l(u)))}return d},[]));return h&&!a&&(t.forEach(function(d){var u=m.map(function(f){return f.value}),s=e.dropdown.filterListItems.call(e,d[p],{exact:!0});e.settings.duplicates||(s=s.filter(function(f){return!u.includes(f.value)}));var r=s.length>1?e.getWhitelistItem(d[p],p,s):s[0];r&&nt(r,Object)?m.push(r):o!="mix"&&(d.value==null&&(d.value=d[p]),m.push(d))}),m.length&&(t=m)),t},parseMixTags:function(t){var e=this,i=this.settings,n=i.mixTagsInterpolator,c=i.duplicates,o=i.transformTag,p=i.enforceWhitelist,m=i.maxTags,h=i.tagTextProp,g=[];t=t.split(n[0]).map(function(l,d){var u,s,r,f=l.split(n[1]),v=f[0],y=g.length==m;try{if(v==+v)throw Error;s=JSON.parse(v)}catch{s=e.normalizeTags(v)[0]||{value:v}}if(o.call(e,s),y||!(f.length>1)||p&&!e.isTagWhitelisted(s.value)||!c&&e.isTagDuplicate(s.value)){if(l)return d?n[0]+l:l}else s[u=s[h]?h:"value"]=e.trim(s[u]),r=e.createTagElem(s),g.push(s),r.classList.add(e.settings.classNames.tagNoAnimation),f[0]=r.outerHTML,e.value.push(s);return f.join("")}).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var a=this.getTagElms();return a.forEach(function(l,d){return me(l,g[d])}),this.update({withoutChangeEvent:!0}),ys(a,this.state.hasFocus),t},replaceTextWithNode:function(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var i,n,c=this.state.selection||window.getSelection(),o=c.anchorNode,p=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return o.splitText(c.anchorOffset-p),(i=o.nodeValue.lastIndexOf(e))==-1||(n=o.splitText(i),t&&o.parentNode.replaceChild(t,n)),!0}},prepareNewTagNode:function(t,e){e=e||{};var i=this.settings,n=[],c={},o=Object.assign({},t,{value:t.value+""});if(t=Object.assign({},o),i.transformTag.call(this,t),t.__isValid=this.hasMaxTags()||this.validateTag(t),t.__isValid!==!0){if(e.skipInvalid)return;if(Le(c,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:o}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value)),!i.createInvalidTags)return void n.push(t.value)}return"readonly"in t&&(t.readonly?c["aria-readonly"]=!0:delete t.readonly),{tagElm:this.createTagElem(t,c),tagData:t,aggregatedInvalidInput:n}},postProcessNewTagNode:function(t,e){var i=this,n=this.settings,c=e.__isValid;c&&c===!0?this.value.push(e):(this.trigger("invalid",{data:e,index:this.value.length,tag:t,message:c}),n.keepInvalidTags||setTimeout(function(){return i.removeTags(t,!0)},1e3)),this.dropdown.position()},selectTag:function(t,e){var i=this;if(!this.settings.enforceWhitelist||this.isTagWhitelisted(e.value)){this.state.actions.selectOption&&setTimeout(function(){return i.setRangeAtStartEnd(!1,i.DOM.input)});var n=this.getLastTag();return n?this.replaceTag(n,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger("add",{tag:t,data:e}),[t]}},addEmptyTag:function(t){var e=Le({value:""},t||{}),i=this.createTagElem(e);me(i,e),this.appendTag(i),this.editTag(i,{skipValidation:!0}),this.toggleFocusClass(!0)},addTags:function(t,e,i){var n=this,c=[],o=this.settings,p=[],m=document.createDocumentFragment(),h=[];if(!t||t.length==0)return c;switch(t=this.normalizeTags(t),o.mode){case"mix":return this.addMixTags(t);case"select":e=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),t.forEach(function(g){var a=n.prepareNewTagNode(g,{skipInvalid:i||o.skipInvalid});if(a){var l=a.tagElm;if(g=a.tagData,p=a.aggregatedInvalidInput,c.push(l),o.mode=="select")return n.selectTag(l,g);m.appendChild(l),n.postProcessNewTagNode(l,g),h.push({tagElm:l,tagData:g})}}),this.appendTag(m),h.forEach(function(g){var a=g.tagElm,l=g.tagData;return n.trigger("add",{tag:a,index:n.getTagIdx(l),data:l})}),this.update(),t.length&&e&&(this.input.set.call(this,o.createInvalidTags?"":p.join(o._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),this.dropdown.refilter(),c},addMixTags:function(t){var e=this;if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var i=document.createDocumentFragment();return t.forEach(function(n){var c=e.prepareNewTagNode(n);i.appendChild(c.tagElm),e.insertAfterTag(c.tagElm),e.postProcessNewTagNode(c.tagElm,c.tagData)}),this.appendMixTags(i),i.children},appendMixTags:function(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag:function(t){var e,i,n,c=this,o=this.settings,p=(e=this.state.tag)===null||e===void 0?void 0:e.delimiters;if(t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(o.pattern.source||o.pattern)[0],n=this.prepareNewTagNode(t),i=n.tagElm,this.replaceTextWithNode(i)||this.DOM.input.appendChild(i),setTimeout(function(){return i.classList.add(c.settings.classNames.tagNoAnimation)},300),this.update(),!p){var m=this.insertAfterTag(i)||i;setTimeout(ft,0,m)}return this.state.tag=null,this.postProcessNewTagNode(i,n.tagData),i},appendTag:function(t){var e=this.DOM,i=e.input;e.scope.insertBefore(t,i)},createTagElem:function(t,e){t.__tagId=zr();var i,n=Le({},t,Xr({value:Et(t.value+"")},e));return function(c){for(var o,p=document.createNodeIterator(c,NodeFilter.SHOW_TEXT,null,!1);o=p.nextNode();)o.textContent.trim()||o.parentNode.removeChild(o)}(i=this.parseTemplate("tag",[n,this])),me(i,t),i},reCheckInvalidTags:function(){var t=this,e=this.settings;this.getTagElms(e.classNames.tagNotAllowed).forEach(function(i,n){var c=me(i),o=t.hasMaxTags(),p=t.validateTag(c),m=p===!0&&!o;if(e.mode=="select"&&t.toggleScopeValidation(p),m)return c=c.__preInvalidData?c.__preInvalidData:{value:c.value},t.replaceTag(i,c);i.title=o||p})},removeTags:function(t,e,i){var n,c=this,o=this.settings;if(t=t&&nt(t,HTMLElement)?[t]:nt(t,Array)?t:t?[t]:[this.getLastTag()].filter(function(p){return p}),n=t.reduce(function(p,m){m&&typeof m=="string"&&(m=c.getTagElmByValue(m));var h=me(m);return m&&h&&!h.readonly&&p.push({node:m,idx:c.getTagIdx(h),data:me(m,{__removed:!0})}),p},[]),i=typeof i=="number"?i:this.CSSVars.tagHideTransition,o.mode=="select"&&(i=0,this.input.set.call(this)),n.length==1&&o.mode!="select"&&n[0].node.classList.contains(o.classNames.tagNotAllowed)&&(e=!0),n.length)return o.hooks.beforeRemoveTag(n,{tagify:this}).then(function(){var p=function(m){m.node.parentNode&&(m.node.parentNode.removeChild(m.node),e?o.keepInvalidTags&&this.trigger("remove",{tag:m.node,index:m.idx}):(this.trigger("remove",{tag:m.node,index:m.idx,data:m.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),o.keepInvalidTags&&this.reCheckInvalidTags()))};i&&i>10&&n.length==1?(function(m){m.node.style.width=parseFloat(window.getComputedStyle(m.node).width)+"px",document.body.clientTop,m.node.classList.add(o.classNames.tagHide),setTimeout(p.bind(this),i,m)}).call(c,n[0]):n.forEach(p.bind(c)),e||(c.removeTagsFromValue(n.map(function(m){return m.node})),c.update(),o.mode=="select"&&o.userInput&&c.setContentEditable(!0))}).catch(function(p){})},removeTagsFromDOM:function(){this.getTagElms().forEach(function(t){return t.remove()})},removeTagsFromValue:function(t){var e=this;(t=Array.isArray(t)?t:[t]).forEach(function(i){var n=me(i),c=e.getTagIdx(n);c>-1&&e.value.splice(c,1)})},removeAllTags:function(t){var e=this;t=t||{},this.value=[],this.settings.mode=="mix"?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout(function(){e.DOM.input.focus()}),this.settings.mode=="select"&&(this.input.set.call(this),this.settings.userInput&&this.setContentEditable(!0)),this.update(t)},postUpdate:function(){this.state.blockChangeEvent=!1;var t,e,i=this.settings,n=i.classNames,c=i.mode=="mix"?i.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(n.hasMaxTags,this.value.length>=i.maxTags),this.toggleClass(n.hasNoTags,!this.value.length),this.toggleClass(n.empty,!c),i.mode=="select"&&this.toggleScopeValidation((e=this.value)===null||e===void 0||(t=e[0])===null||t===void 0?void 0:t.__isValid)},setOriginalInputValue:function(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,"value"))},update:function(t){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout((function(){var e=this.getInputValue();this.setOriginalInputValue(e),this.settings.onChangeAfterBlur&&(t||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}).bind(this),100),this.events.bindOriginaInputListener.call(this,100)},getInputValue:function(){var t=this.getCleanValue();return this.settings.mode=="mix"?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):""},getCleanValue:function(t){return jr(t||this.value,this.dataProps)},getMixedTagsAsString:function(){var t="",e=this,i=this.settings,n=i.originalInputValueFormat||JSON.stringify,c=i.mixTagsInterpolator;return function o(p){p.childNodes.forEach(function(m){if(m.nodeType==1){var h=me(m);if(m.tagName=="BR"&&(t+=`\r
`),h&&Ct.call(e,m)){if(h.__removed)return;t+=c[0]+n(Pn(h,e.dataProps))+c[1]}else m.getAttribute("style")||["B","I","U"].includes(m.tagName)?t+=m.textContent:m.tagName!="DIV"&&m.tagName!="P"||(t+=`\r
`,o(m))}else t+=m.textContent})}(this.DOM.input),t}},Mi.prototype.removeTag=Mi.prototype.removeTags;const wc={__name:"TagInput",props:{modelValue:Array,placeholder:String,maxTags:Number},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,n=e;let c=pt();function o(p){let m=JSON.parse(p.target.value);for(let h in m)m[h]=Object.values(m[h])[0];n("update:modelValue",m??[])}return Zi(()=>{let p=document.getElementById("tagsData");c.value=new Mi(p,{whitelist:i.modelValue,delimiters:null,editTags:!1,pattern:/^(?!#).*$/,maxTags:i.maxTags,maxItems:i.maxTags,blacklist:["foo","bar","porn","#"],backspace:"edit",placeholder:i.placeholder,focusable:!1,dropdown:{position:"input",enabled:0}});let m;c.value.loadOriginalValues(i.modelValue),c.value.on("input",h);function h(g){let a,l=g.detail.value;c.value.whitelist=null,m&&m.abort(),m=new AbortController,l!=="#"&&l!==""&&(c.value.loading(!0).dropdown.hide(),clearTimeout(a),a=setTimeout(function(){fetch(route("api.tags.whitelist")+"?value="+l,{signal:m.signal}).then(d=>d.json()).then(function(d){c.value.whitelist=d,c.value.loading(!1).dropdown.show(l)}).catch(d=>{console.log(d),console.log(l)})},300))}}),(p,m)=>(se(),Ae("input",{id:"tagsData",onChange:o,type:"text"},null,32))}},_c={class:"relative"},kc=["id","value","minlength","placeholder","maxlength","disabled","rows"],Ec={key:0,class:"flex justify-start"},xc={class:"text-xs text-destructive tracking-wide"},Cc={__name:"EditorTextarea",props:{id:String,modelValue:{type:String,default:"",required:!0},errorMessage:{type:String},titleSize:{type:String,default:"text-3xl"},placeholder:String,isDisabled:Boolean,isError:Boolean,minLimit:{type:Number},maxLimit:{type:Number},rows:{type:Number,default:1},autosize:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{expose:e}){const i=t,n=pt(null);Zi(()=>{n.value.hasAttribute("autofocus")&&n.value.focus(),n.value.offsetParent&&i.autosize&&c()}),e({focus:()=>n.value.focus()});const c=()=>{const g=window.getComputedStyle(n.value);n.value.style.height="auto",n.value.style.height=`calc(${g.borderTopWidth} + ${g.borderBottomWidth} + ${n.value.scrollHeight}px)`,parseFloat(n.value.style.height)>=parseFloat(n.value.style.maxHeight)?(n.value.style.overflowY="scroll",n.value.style.height=n.value.style.maxHeight):n.value.style.overflow="hidden"},o=()=>{i.autosize&&c()},p=Ke(()=>i.modelValue?i.maxLimit-i.modelValue.length:null),m=Ke(()=>i.modelValue?Math.round(i.modelValue.length*100/i.maxLimit):null),h=Ke(()=>m.value>95);return(g,a)=>(se(),Ae(gs,null,[Z("div",_c,[Z("textarea",{id:t.id,class:pi(["w-full font-semibold textarea-ghost !p-0 bg-transparent focus:border-primary focus:ring-primary placeholder:text-muted-foreground overflow-y-hidden resize-none appearance-none overflow-hidden",[i.isError?"text-destructive placeholder-destructive/50 border-destructive focus:border-destructive focus:outline-none focus:ring-destructive":"",i.maxLimit?"pr-4":"pr-2",i.titleSize?i.titleSize:""]]),value:i.modelValue,oninput:o,onInput:a[0]||(a[0]=l=>g.$emit("update:modelValue",l.target.value)),ref_key:"input",ref:n,minlength:i.minLimit,placeholder:i.placeholder,maxlength:i.maxLimit,disabled:i.isDisabled,rows:i.rows},null,42,kc),i.maxLimit?(se(),Ae("div",{key:0,class:pi(["hidden absolute right-0 z-30 bottom-4 text-xs text-muted-foreground dark:text-muted",{"!block":Y(m)>=80}])},[Z("span",{class:pi({"!text-destructive":Y(h)})},ce(Y(p)),3)],2)):Ue("",!0)]),t.errorMessage?(se(),Ae("div",Ec,[Z("p",xc,ce(t.errorMessage),1)])):Ue("",!0)],64))}},Tc=et({__name:"Command",props:{modelValue:{default:""},defaultValue:{},open:{type:Boolean,default:!0},defaultOpen:{type:Boolean},searchTerm:{},selectedValue:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{},displayValue:{},resetSearchTermOnBlur:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(t,{emit:e}){const i=t,n=e,c=Ke(()=>{const{class:p,...m}=i;return m}),o=vi(c,n);return(p,m)=>(se(),Me(Y(Sl),Mt(Y(o),{class:Y(mt)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",i.class)}),{default:te(()=>[tt(p.$slots,"default")]),_:3},16,["class"]))}}),Sc={role:"presentation"},Lc=et({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean,default:!1},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(t,{emit:e}){const i=t,n=e,c=Ke(()=>{const{class:p,...m}=i;return m}),o=vi(c,n);return(p,m)=>(se(),Me(Y(Ll),Mt(Y(o),{class:Y(mt)("max-h-[300px] scrollbar-thin scrollbar-track-transparent scrollbar-thumb-border dark:scrollbar-track-transparent dark:scrollbar-thumb-border overflow-y-auto overflow-x-hidden",i.class)}),{default:te(()=>[Z("div",Sc,[tt(p.$slots,"default")])]),_:3},16,["class"]))}}),Mc=et({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const e=t,i=Ke(()=>{const{class:n,...c}=e;return c});return(n,c)=>(se(),Me(Y(Al),Mt(i.value,{class:Y(mt)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e.class)}),{default:te(()=>[n.heading?(se(),Me(Y(Ml),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:te(()=>[ct(ce(n.heading),1)]),_:1})):Ue("",!0),tt(n.$slots,"default")]),_:3},16,["class"]))}}),Ac=et({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:e}){const i=t,n=e,c=Ke(()=>{const{class:p,...m}=i;return m}),o=vi(c,n);return(p,m)=>(se(),Me(Y(Il),Mt(Y(o),{class:Y(mt)("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i.class)}),{default:te(()=>[tt(p.$slots,"default")]),_:3},16,["class"]))}}),Ic=et({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,i=Ke(()=>{const{class:n,...c}=e;return c});return(n,c)=>(se(),Me(Y($l),Mt(i.value,{class:Y(mt)("py-6 text-center text-sm",e.class)}),{default:te(()=>[tt(n.$slots,"default")]),_:3},16,["class"]))}}),$c={class:"relative w-full h-full min-h-dvh"},Oc={__name:"EditorLayout",setup(t){const{theme:e,radius:i}=Rl();return Zi(()=>{document.documentElement.classList.add(`theme-${e.value}`),document.documentElement.style.setProperty("--radius",`${i.value}rem`)}),(n,c)=>(se(),Ae("div",$c,[tt(n.$slots,"default")]))}},Rc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Dc(t,e){return se(),Ae("svg",Rc,e[0]||(e[0]=[Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 20V4m0 0l6 6m-6-6l-6 6"},null,-1)]))}const Qr=Ji({name:"solar-arrow-up-linear",render:Dc}),Pc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Bc(t,e){return se(),Ae("svg",Pc,e[0]||(e[0]=[Z("path",{fill:"currentColor",d:"M12.079 2.25c-4.794 0-8.734 3.663-9.118 8.333H2a.75.75 0 0 0-.528 1.283l1.68 1.666a.75.75 0 0 0 1.056 0l1.68-1.666a.75.75 0 0 0-.528-1.283h-.893c.38-3.831 3.638-6.833 7.612-6.833a7.66 7.66 0 0 1 6.537 3.643a.75.75 0 1 0 1.277-.786A9.16 9.16 0 0 0 12.08 2.25m8.761 8.217a.75.75 0 0 0-1.054 0L18.1 12.133a.75.75 0 0 0 .527 1.284h.899c-.382 3.83-3.651 6.833-7.644 6.833a7.7 7.7 0 0 1-6.565-3.644a.75.75 0 1 0-1.277.788a9.2 9.2 0 0 0 7.842 4.356c4.808 0 8.765-3.66 9.15-8.333H22a.75.75 0 0 0 .527-1.284z"},null,-1)]))}const Nc=Ji({name:"solar-refresh-bold",render:Bc}),Fc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function jc(t,e){return se(),Ae("svg",Fc,e[0]||(e[0]=[Z("path",{fill:"currentColor",d:"M12,23a9.63,9.63,0,0,1-8-9.5,9.51,9.51,0,0,1,6.79-9.1A1.66,1.66,0,0,0,12,2.81h0a1.67,1.67,0,0,0-1.94-1.64A11,11,0,0,0,12,23Z"},[Z("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)]))}const Hc=Ji({name:"svg-spinners-tadpole",render:jc}),Vc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Wc(t,e){return se(),Ae("svg",Vc,e[0]||(e[0]=[Z("g",{fill:"none"},[Z("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"1.5"}),Z("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"1.5",d:"M10.125 8.875a1.875 1.875 0 1 1 2.828 1.615c-.475.281-.953.708-.953 1.26V13"}),Z("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})],-1)]))}const _n=Ji({name:"solar-question-circle-linear",render:Wc});(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kn(){}Object.assign(kn,{default:kn,register:kn,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let i=e.length;for(;--i>=0&&e.item(i)!==this;);return i>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(i=>{const n=i instanceof Node;e.appendChild(n?i:document.createTextNode(i))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,i=window.getComputedStyle(e,null),n=parseInt(i.getPropertyValue("border-top-width")),c=parseInt(i.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,p=this.offsetTop-e.offsetTop+this.clientHeight-n>e.scrollTop+e.clientHeight,m=this.offsetLeft-e.offsetLeft<e.scrollLeft,h=this.offsetLeft-e.offsetLeft+this.clientWidth-c>e.scrollLeft+e.clientWidth,g=o&&!p;(o||p)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-n+this.clientHeight/2),(m||h)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-c+this.clientWidth/2),(o||p||m||h)&&!t&&this.scrollIntoView(g)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let Uc=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,i)=>(i&=63,i<36?e+=i.toString(36):i<62?e+=(i-26).toString(36).toUpperCase():i>62?e+="-":e+="_",e),"");var bs=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(bs||{});const oe={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Gc={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function yi(t,e,i="log",n,c="color: inherit"){if(!("console"in window)||!window.console[i])return;const o=["info","log","warn","error"].includes(i),p=[];switch(yi.logLevel){case"ERROR":if(i!=="error")return;break;case"WARN":if(!["error","warn"].includes(i))return;break;case"INFO":if(!o||t)return;break}n&&p.push(n);const m="Editor.js 2.30.7";t&&(o?(p.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,c),e=`%c${m}%c ${e}`):e=`( ${m} )${e}`);try{o?n?console[i](`${e} %o`,...p):console[i](e,...p):console[i](e)}catch{}}yi.logLevel="VERBOSE";function Kc(t){yi.logLevel=t}const de=yi.bind(window,!1),He=yi.bind(window,!0);function Lt(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function we(t){return Lt(t)==="function"||Lt(t)==="asyncfunction"}function $e(t){return Lt(t)==="object"}function lt(t){return Lt(t)==="string"}function Yc(t){return Lt(t)==="boolean"}function Zr(t){return Lt(t)==="number"}function Jr(t){return Lt(t)==="undefined"}function Ve(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function ws(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function Xc(t,e=()=>{},i=()=>{}){async function n(c,o,p){try{await c.function(c.data),await o(Jr(c.data)?{}:c.data)}catch{p(Jr(c.data)?{}:c.data)}}return t.reduce(async(c,o)=>(await c,n(o,e,i)),Promise.resolve())}function _s(t){return Array.prototype.slice.call(t)}function ji(t,e){return function(){const i=this,n=arguments;window.setTimeout(()=>t.apply(i,n),e)}}function Qc(t){return t.name.split(".").pop()}function Zc(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function qr(t,e,i){let n;return(...c)=>{const o=this,p=()=>{n=null,t.apply(o,c)};window.clearTimeout(n),n=window.setTimeout(p,e)}}function Nn(t,e,i=void 0){let n,c,o,p=null,m=0;i||(i={});const h=function(){m=i.leading===!1?0:Date.now(),p=null,o=t.apply(n,c),p||(n=c=null)};return function(){const g=Date.now();!m&&i.leading===!1&&(m=g);const a=e-(g-m);return n=this,c=arguments,a<=0||a>e?(p&&(clearTimeout(p),p=null),m=g,o=t.apply(n,c),p||(n=c=null)):!p&&i.trailing!==!1&&(p=setTimeout(h,a)),o}}function Jc(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(i=>window.navigator.appVersion.toLowerCase().indexOf(i)!==-1);return e&&(t[e]=!0),t}function Hi(t){return t[0].toUpperCase()+t.slice(1)}function Fn(t,...e){if(!e.length)return t;const i=e.shift();if($e(t)&&$e(i))for(const n in i)$e(i[n])?(t[n]||Object.assign(t,{[n]:{}}),Fn(t[n],i[n])):Object.assign(t,{[n]:i[n]});return Fn(t,...e)}function eo(t){const e=Jc();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function qc(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function ed(){return Uc(10)}function td(t){window.open(t,"_blank")}function id(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function jn(t,e,i){const n=`«${e}» is deprecated and will be removed in the next major release. Please use the «${i}» instead.`;t&&He(n,"warn")}function Xt(t,e,i){const n=i.value?"value":"get",c=i[n],o=`#${e}Cache`;if(i[n]=function(...p){return this[o]===void 0&&(this[o]=c.apply(this,...p)),this[o]},n==="get"&&i.set){const p=i.set;i.set=function(m){delete t[o],p.apply(this,m)}}return i}const ks=650;function Qt(){return window.matchMedia(`(max-width: ${ks}px)`).matches}const Hn=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function nd(t,e){const i=Array.isArray(t)||$e(t),n=Array.isArray(e)||$e(e);return i||n?JSON.stringify(t)===JSON.stringify(e):t===e}let U=class De{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,i=null,n={}){const c=document.createElement(e);if(Array.isArray(i)){const o=i.filter(p=>p!==void 0);c.classList.add(...o)}else i&&c.classList.add(i);for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(c[o]=n[o]);return c}static text(e){return document.createTextNode(e)}static append(e,i){Array.isArray(i)?i.forEach(n=>e.appendChild(n)):e.appendChild(i)}static prepend(e,i){Array.isArray(i)?(i=i.reverse(),i.forEach(n=>e.prepend(n))):e.prepend(i)}static swap(e,i){const n=document.createElement("div"),c=e.parentNode;c.insertBefore(n,e),c.insertBefore(e,i),c.insertBefore(i,n),c.removeChild(n)}static find(e=document,i){return e.querySelector(i)}static get(e){return document.getElementById(e)}static findAll(e=document,i){return e.querySelectorAll(i)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return _s(e.querySelectorAll(De.allInputsSelector)).reduce((i,n)=>De.isNativeInput(n)||De.containsOnlyInlineElements(n)?[...i,n]:[...i,...De.getDeepestBlockElements(n)],[])}static getDeepestNode(e,i=!1){const n=i?"lastChild":"firstChild",c=i?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[n]){let o=e[n];if(De.isSingleTag(o)&&!De.isNativeInput(o)&&!De.isLineBreakTag(o))if(o[c])o=o[c];else if(o.parentNode[c])o=o.parentNode[c];else return o.parentNode;return this.getDeepestNode(o,i)}return e}static isElement(e){return Zr(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Zr(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const i=["INPUT","TEXTAREA"];return e&&e.tagName?i.includes(e.tagName):!1}static canSetCaret(e){let i=!0;if(De.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":i=!1;break}else i=De.isContentEditable(e);return i}static isNodeEmpty(e,i){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("​",""),i&&(n=n.replace(new RegExp(i,"g"),"")),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,i){const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,i))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const i=De.make("div");return i.innerHTML=e,i.childElementCount>0}static getContentLength(e){return De.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let i;lt(e)?(i=document.createElement("div"),i.innerHTML=e):i=e;const n=c=>!De.blockElements.includes(c.tagName.toLowerCase())&&Array.from(c.children).every(n);return Array.from(i.children).every(n)}static getDeepestBlockElements(e){return De.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((i,n)=>[...i,...De.getDeepestBlockElements(n)],[])}static getHolder(e){return lt(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const i=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,c=window.pageYOffset||document.documentElement.scrollTop,o=i.top+c,p=i.left+n;return{top:o,left:p,bottom:o+i.height,right:p+i.width}}};function od(t){return!/[^\t\n\r ]/.test(t)}function rd(t){const e=window.getComputedStyle(t),i=parseFloat(e.fontSize),n=parseFloat(e.lineHeight)||i*1.2,c=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),p=parseFloat(e.marginTop),m=i*.8,h=(n-i)/2;return p+o+c+h+m}function Es(t){t.dataset.empty=U.isEmpty(t)?"true":"false"}const sd={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},ad={Text:"",Link:"",Bold:"",Italic:""},ld={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},cd={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},xs={ui:sd,toolNames:ad,tools:ld,blockTunes:cd},Cs=class zt{static ui(e,i){return zt._t(e,i)}static t(e,i){return zt._t(e,i)}static setDictionary(e){zt.currentDictionary=e}static _t(e,i){const n=zt.getNamespace(e);return!n||!n[i]?i:n[i]}static getNamespace(e){return e.split(".").reduce((i,n)=>!i||!Object.keys(i).length?{}:i[n],zt.currentDictionary)}};Cs.currentDictionary=xs;let Pe=Cs,Ts=class extends Error{},bi=class{constructor(){this.subscribers={}}on(e,i){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(i)}once(e,i){e in this.subscribers||(this.subscribers[e]=[]);const n=c=>{const o=i(c),p=this.subscribers[e].indexOf(n);return p!==-1&&this.subscribers[e].splice(p,1),o};this.subscribers[e].push(n)}emit(e,i){Ve(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((n,c)=>{const o=c(n);return o!==void 0?o:n},i)}off(e,i){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let n=0;n<this.subscribers[e].length;n++)if(this.subscribers[e][n]===i){delete this.subscribers[e][n];break}}destroy(){this.subscribers={}}};function rt(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},get focusable(){return t.focusable},call(e,i){return t.call(e,i)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()},getActiveToolboxEntry(){return t.getActiveToolboxEntry()}})}let wi=class{constructor(){this.allListeners=[]}on(e,i,n,c=!1){const o=id("l"),p={id:o,element:e,eventType:i,handler:n,options:c};if(!this.findOne(e,i,n))return this.allListeners.push(p),e.addEventListener(i,n,c),o}off(e,i,n,c){const o=this.findAll(e,i,n);o.forEach((p,m)=>{const h=this.allListeners.indexOf(o[m]);h>-1&&(this.allListeners.splice(h,1),p.element.removeEventListener(p.eventType,p.handler,p.options))})}offById(e){const i=this.findById(e);i&&i.element.removeEventListener(i.eventType,i.handler,i.options)}findOne(e,i,n){const c=this.findAll(e,i,n);return c.length>0?c[0]:null}findAll(e,i,n){let c;const o=e?this.findByEventTarget(e):[];return e&&i&&n?c=o.filter(p=>p.eventType===i&&p.handler===n):e&&i?c=o.filter(p=>p.eventType===i):c=o,c}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(i=>{if(i.element===e)return i})}findByType(e){return this.allListeners.filter(i=>{if(i.eventType===e)return i})}findByHandler(e){return this.allListeners.filter(i=>{if(i.handler===e)return i})}findById(e){return this.allListeners.find(i=>i.id===e)}},le=class Ss{constructor({config:e,eventsDispatcher:i}){if(this.nodes={},this.listeners=new wi,this.readOnlyMutableListeners={on:(n,c,o,p=!1)=>{this.mutableListenerIds.push(this.listeners.on(n,c,o,p))},clearAll:()=>{for(const n of this.mutableListenerIds)this.listeners.offById(n);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Ss)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=i}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const i=this.nodes[e];i instanceof HTMLElement&&i.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},ne=class dt{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const i=e.anchorNode;return i?U.isElement(i)?i:i.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(dt.get())}static isSelectionAtEditor(e){if(!e)return!1;let i=e.anchorNode||e.focusNode;i&&i.nodeType===Node.TEXT_NODE&&(i=i.parentNode);let n=null;return i&&i instanceof Element&&(n=i.closest(`.${dt.CSS.editorZone}`)),n?n.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let i=e.startContainer;i&&i.nodeType===Node.TEXT_NODE&&(i=i.parentNode);let n=null;return i&&i instanceof Element&&(n=i.closest(`.${dt.CSS.editorZone}`)),n?n.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!dt.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,i,n={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,i=e.createRange(),n.x=i.boundingLeft,n.y=i.boundingTop,n.width=i.boundingWidth,n.height=i.boundingHeight,n;if(!window.getSelection)return de("Method window.getSelection is not supported","warn"),n;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return de("Method SelectionUtils.rangeCount is not supported","warn"),n;if(e.rangeCount===0)return n;if(i=e.getRangeAt(0).cloneRange(),i.getBoundingClientRect&&(n=i.getBoundingClientRect()),n.x===0&&n.y===0){const c=document.createElement("span");if(c.getBoundingClientRect){c.appendChild(document.createTextNode("​")),i.insertNode(c),n=c.getBoundingClientRect();const o=c.parentNode;o.removeChild(c),o.normalize()}}return n}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,i=0){const n=document.createRange(),c=window.getSelection();return U.isNativeInput(e)?U.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=i,e.getBoundingClientRect()):void 0:(n.setStart(e,i),n.setEnd(e,i),c.removeAllRanges(),c.addRange(n),n.getBoundingClientRect())}static isRangeInsideContainer(e){const i=dt.range;return i===null?!1:e.contains(i.startContainer)}static addFakeCursor(){const e=dt.range;if(e===null)return;const i=U.make("span","codex-editor__fake-cursor");i.dataset.mutationFree="true",e.collapse(),e.insertNode(i)}static isFakeCursorInsideContainer(e){return U.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const i=U.find(e,".codex-editor__fake-cursor");i&&i.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=dt.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),i=document.createRange();i.selectNodeContents(e.focusNode),i.collapse(!1),e.removeAllRanges(),e.addRange(i)}findParentTag(e,i,n=10){const c=window.getSelection();let o=null;return!c||!c.anchorNode||!c.focusNode?null:([c.anchorNode,c.focusNode].forEach(p=>{let m=n;for(;m>0&&p.parentNode&&!(p.tagName===e&&(o=p,i&&p.classList&&!p.classList.contains(i)&&(o=null),o));)p=p.parentNode,m--}),o)}expandToTag(e){const i=window.getSelection();i.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),i.addRange(n)}};function dd(t,e){const{type:i,target:n,addedNodes:c,removedNodes:o}=t;return t.type==="attributes"&&t.attributeName==="data-empty"?!1:!!(e.contains(n)||i==="childList"&&(Array.from(c).some(p=>p===e)||Array.from(o).some(p=>p===e)))}const Vn="redactor dom changed",Ls="block changed",Ms="fake cursor is about to be toggled",As="fake cursor have been set",gi="editor mobile layout toggled";function Wn(t,e){if(!t.conversionConfig)return!1;const i=t.conversionConfig[e];return we(i)||lt(i)}function Vi(t,e){return Wn(t.tool,e)}function Is(t,e){return Object.entries(t).some(([i,n])=>e[i]&&nd(e[i],n))}async function $s(t,e){const i=(await t.save()).data,n=e.find(c=>c.name===t.name);return n!==void 0&&!Wn(n,"export")?[]:e.reduce((c,o)=>{if(!Wn(o,"import")||o.toolbox===void 0)return c;const p=o.toolbox.filter(m=>{if(Ve(m)||m.icon===void 0)return!1;if(m.data!==void 0){if(Is(m.data,i))return!1}else if(o.name===t.name)return!1;return!0});return c.push({...o,toolbox:p}),c},[])}function es(t,e){return t.mergeable?t.name===e.name?!0:Vi(e,"export")&&Vi(t,"import"):!1}function ud(t,e){const i=e==null?void 0:e.export;return we(i)?i(t):lt(i)?t[i]:(i!==void 0&&de("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function ts(t,e){const i=e==null?void 0:e.import;return we(i)?i(t):lt(i)?{[i]:t}:(i!==void 0&&de("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var ye=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(ye||{}),st=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(st||{});let at=class ut extends bi{constructor({id:e=ed(),data:i,tool:n,readOnly:c,tunesData:o},p){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(m=void 0)=>{const h=m===void 0,g=m instanceof InputEvent;!h&&!g&&this.detectToolRootChange(m);let a;h||g?a=!0:a=!(m.length>0&&m.every(l=>{const{addedNodes:d,removedNodes:u,target:s}=l;return[...Array.from(d),...Array.from(u),s].some(r=>(U.isElement(r)||(r=r.parentElement),r&&r.closest('[data-mutation-free="true"]')!==null))})),a&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=n.name,this.id=e,this.settings=n.settings,this.config=n.settings.config||{},this.editorEventBus=p||null,this.blockAPI=new rt(this),this.tool=n,this.toolInstance=n.create(i,this.blockAPI,c),this.tunes=n.tunes,this.composeTunes(o),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=U.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const i=this.inputs.findIndex(n=>n===e||n.contains(e));i!==-1&&(this.inputIndex=i)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ve(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return we(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=U.isEmpty(this.pluginsContent,"/"),i=!this.hasMedia;return e&&i}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var i,n;this.holder.classList.toggle(ut.CSS.selected,e);const c=e===!0&&ne.isRangeInsideContainer(this.holder),o=e===!1&&ne.isFakeCursorInsideContainer(this.holder);(c||o)&&((i=this.editorEventBus)==null||i.emit(Ms,{state:e}),c?ne.addFakeCursor():ne.removeFakeCursor(this.holder),(n=this.editorEventBus)==null||n.emit(As,{state:e}))}get selected(){return this.holder.classList.contains(ut.CSS.selected)}set stretched(e){this.holder.classList.toggle(ut.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(ut.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(ut.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,i){if(we(this.toolInstance[e])){e==="appendCallback"&&de("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,i)}catch(n){de(`Error during '${e}' call: ${n.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),i=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,p])=>{if(we(p.save))try{i[o]=p.save()}catch(m){de(`Tune ${p.constructor.name} save method throws an Error %o`,"warn",m)}});const n=window.performance.now();let c;return Promise.resolve(e).then(o=>(c=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:i,time:c-n})).catch(o=>{de(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(e){let i=!0;return this.toolInstance.validate instanceof Function&&(i=await this.toolInstance.validate(e)),i}getTunes(){const e=[],i=[],n=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return U.isElement(n)?e.push({type:ye.Html,element:n}):Array.isArray(n)?e.push(...n):e.push(n),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(c=>c.render()).forEach(c=>{U.isElement(c)?i.push({type:ye.Html,element:c}):Array.isArray(c)?i.push(...c):i.push(c)}),{toolTunes:e,commonTunes:i}}updateCurrentInput(){this.currentInput=U.isNativeInput(document.activeElement)||!ne.anchorNode?document.activeElement:ne.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),we(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const i=await this.data,n=e;return n==null?void 0:n.find(c=>Is(c.data,i))}async exportDataAsString(){const e=await this.data;return ud(e,this.tool.conversionConfig)}compose(){const e=U.make("div",ut.CSS.wrapper),i=U.make("div",ut.CSS.content),n=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=n,i.appendChild(this.toolRenderedElement);let c=i;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if(we(o.wrap))try{c=o.wrap(c)}catch(p){de(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",p)}}),e.appendChild(c),e}composeTunes(e){Array.from(this.tunes.values()).forEach(i=>{(i.isInternal?this.defaultTunesInstances:this.tunesInstances).set(i.name,i.create(e[i.name],this.blockAPI))}),Object.entries(e).forEach(([i,n])=>{this.tunesInstances.has(i)||(this.unavailableTunesData[i]=n)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),U.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),U.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=i=>{const{mutations:n}=i;n.some(c=>dd(c,this.toolRenderedElement))&&this.didMutated(n)},(e=this.editorEventBus)==null||e.on(Vn,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Vn,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(i=>{if(Array.from(i.removedNodes).includes(this.toolRenderedElement)){const n=i.addedNodes[i.addedNodes.length-1];this.toolRenderedElement=n}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(Es)}};class hd extends le{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,i={},n={},c,o,p,m)=>{const h=this.Editor.BlockManager.insert({id:m,tool:e,data:i,index:c,needToFocus:o,replace:p});return new rt(h)},this.composeBlockData=async e=>{const i=this.Editor.Tools.blockTools.get(e);return new at({tool:i,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,i,n)=>{const{BlockManager:c}=this.Editor,o=c.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const p=await c.update(o,i,n);return new rt(p)},this.convert=async(e,i,n)=>{var c,o;const{BlockManager:p,Tools:m}=this.Editor,h=p.getBlockById(e);if(!h)throw new Error(`Block with id "${e}" not found`);const g=m.blockTools.get(h.name),a=m.blockTools.get(i);if(!a)throw new Error(`Block Tool with type "${i}" not found`);const l=((c=g==null?void 0:g.conversionConfig)==null?void 0:c.export)!==void 0,d=((o=a.conversionConfig)==null?void 0:o.import)!==void 0;if(l&&d){const u=await p.convert(h,i,n);return new rt(u)}else{const u=[l?!1:Hi(h.name),d?!1:Hi(i)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${h.name}" to "${i}" is not possible. ${u} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,i=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(i);const n=e.map(({id:c,type:o,data:p})=>this.Editor.BlockManager.composeBlock({id:c,tool:o||this.config.defaultBlock,data:p}));return this.Editor.BlockManager.insertMany(n,i),n.map(c=>new rt(c))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,i)=>this.swap(e,i),move:(e,i)=>this.move(e,i),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,i=!0)=>this.stretchBlock(e,i),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const i=this.Editor.BlockManager.getBlockById(e);if(!i){He("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(i)}getBlockByIndex(e){const i=this.Editor.BlockManager.getBlockByIndex(e);if(i===void 0){He("There is no block at index `"+e+"`","warn");return}return new rt(i)}getById(e){const i=this.Editor.BlockManager.getBlockById(e);return i===void 0?(He("There is no block with id `"+e+"`","warn"),null):new rt(i)}getBlockByElement(e){const i=this.Editor.BlockManager.getBlock(e);if(i===void 0){He("There is no block corresponding to element `"+e+"`","warn");return}return new rt(i)}swap(e,i){de("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,i)}move(e,i){this.Editor.BlockManager.move(e,i)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const i=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(i)}catch(i){He(i,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,i=!0){jn(!0,"blocks.stretchBlock()","BlockAPI");const n=this.Editor.BlockManager.getBlockByIndex(e);n&&(n.stretched=i)}insertNewBlock(){de("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}function pd(t,e){return typeof t=="number"?e.BlockManager.getBlockByIndex(t):typeof t=="string"?e.BlockManager.getBlockById(t):e.BlockManager.getBlockById(t.id)}class fd extends le{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,i=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,i),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,i=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,i),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,i=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,i),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,i=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,i),!0):!1,this.setToBlock=(e,i=this.Editor.Caret.positions.DEFAULT,n=0)=>{const c=pd(e,this.Editor);return c===void 0?!1:(this.Editor.Caret.setToBlock(c,i,n),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class gd extends le{get methods(){return{emit:(e,i)=>this.emit(e,i),off:(e,i)=>this.off(e,i),on:(e,i)=>this.on(e,i)}}on(e,i){this.eventsDispatcher.on(e,i)}emit(e,i){this.eventsDispatcher.emit(e,i)}off(e,i){this.eventsDispatcher.off(e,i)}}let md=class Os extends le{static getNamespace(e,i){return i?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{He("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,i){return Object.assign(this.methods,{t:n=>Pe.t(Os.getNamespace(e,i),n)})}};class vd extends le{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,i){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,i)})}}class yd extends le{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class bd extends le{get methods(){return{on:(e,i,n,c)=>this.on(e,i,n,c),off:(e,i,n,c)=>this.off(e,i,n,c),offById:e=>this.offById(e)}}on(e,i,n,c){return this.listeners.on(e,i,n,c)}off(e,i,n,c){this.listeners.off(e,i,n,c)}offById(e){this.listeners.offById(e)}}var Rs={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(window,function(){return function(i){var n={};function c(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return i[o].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=i,c.c=n,c.d=function(o,p,m){c.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:m})},c.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.t=function(o,p){if(1&p&&(o=c(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var h in o)c.d(m,h,(function(g){return o[g]}).bind(null,h));return m},c.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return c.d(p,"a",p),p},c.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},c.p="/",c(c.s=0)}([function(i,n,c){c(1),i.exports=function(){var o=c(6),p="cdx-notify--bounce-in",m=null;return{show:function(h){if(h.message){(function(){if(m)return!0;m=o.getWrapper(),document.body.appendChild(m)})();var g=null,a=h.time||8e3;switch(h.type){case"confirm":g=o.confirm(h);break;case"prompt":g=o.prompt(h);break;default:g=o.alert(h),window.setTimeout(function(){g.remove()},a)}m.appendChild(g),g.classList.add(p)}}}}()},function(i,n,c){var o=c(2);typeof o=="string"&&(o=[[i.i,o,""]]);var p={hmr:!0,transform:void 0,insertInto:void 0};c(4)(o,p),o.locals&&(i.exports=o.locals)},function(i,n,c){(i.exports=c(3)(!1)).push([i.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(i,n){i.exports=function(c){var o=[];return o.toString=function(){return this.map(function(p){var m=function(h,g){var a=h[1]||"",l=h[3];if(!l)return a;if(g&&typeof btoa=="function"){var d=(s=l,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),u=l.sources.map(function(r){return"/*# sourceURL="+l.sourceRoot+r+" */"});return[a].concat(u).concat([d]).join(`
`)}var s;return[a].join(`
`)}(p,c);return p[2]?"@media "+p[2]+"{"+m+"}":m}).join("")},o.i=function(p,m){typeof p=="string"&&(p=[[null,p,""]]);for(var h={},g=0;g<this.length;g++){var a=this[g][0];typeof a=="number"&&(h[a]=!0)}for(g=0;g<p.length;g++){var l=p[g];typeof l[0]=="number"&&h[l[0]]||(m&&!l[2]?l[2]=m:m&&(l[2]="("+l[2]+") and ("+m+")"),o.push(l))}},o}},function(i,n,c){var o,p,m={},h=(o=function(){return window&&document&&document.all&&!window.atob},function(){return p===void 0&&(p=o.apply(this,arguments)),p}),g=function(A){var M={};return function(L){if(typeof L=="function")return L();if(M[L]===void 0){var R=(function(_){return document.querySelector(_)}).call(this,L);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}M[L]=R}return M[L]}}(),a=null,l=0,d=[],u=c(5);function s(A,M){for(var L=0;L<A.length;L++){var R=A[L],_=m[R.id];if(_){_.refs++;for(var b=0;b<_.parts.length;b++)_.parts[b](R.parts[b]);for(;b<R.parts.length;b++)_.parts.push(x(R.parts[b],M))}else{var E=[];for(b=0;b<R.parts.length;b++)E.push(x(R.parts[b],M));m[R.id]={id:R.id,refs:1,parts:E}}}}function r(A,M){for(var L=[],R={},_=0;_<A.length;_++){var b=A[_],E=M.base?b[0]+M.base:b[0],S={css:b[1],media:b[2],sourceMap:b[3]};R[E]?R[E].parts.push(S):L.push(R[E]={id:E,parts:[S]})}return L}function f(A,M){var L=g(A.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=d[d.length-1];if(A.insertAt==="top")R?R.nextSibling?L.insertBefore(M,R.nextSibling):L.appendChild(M):L.insertBefore(M,L.firstChild),d.push(M);else if(A.insertAt==="bottom")L.appendChild(M);else{if(typeof A.insertAt!="object"||!A.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var _=g(A.insertInto+" "+A.insertAt.before);L.insertBefore(M,_)}}function v(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A);var M=d.indexOf(A);M>=0&&d.splice(M,1)}function y(A){var M=document.createElement("style");return A.attrs.type===void 0&&(A.attrs.type="text/css"),C(M,A.attrs),f(A,M),M}function C(A,M){Object.keys(M).forEach(function(L){A.setAttribute(L,M[L])})}function x(A,M){var L,R,_,b;if(M.transform&&A.css){if(!(b=M.transform(A.css)))return function(){};A.css=b}if(M.singleton){var E=l++;L=a||(a=y(M)),R=T.bind(null,L,E,!1),_=T.bind(null,L,E,!0)}else A.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(S){var I=document.createElement("link");return S.attrs.type===void 0&&(S.attrs.type="text/css"),S.attrs.rel="stylesheet",C(I,S.attrs),f(S,I),I}(M),R=(function(S,I,O){var D=O.css,P=O.sourceMap,B=I.convertToAbsoluteUrls===void 0&&P;(I.convertToAbsoluteUrls||B)&&(D=u(D)),P&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(P))))+" */");var F=new Blob([D],{type:"text/css"}),W=S.href;S.href=URL.createObjectURL(F),W&&URL.revokeObjectURL(W)}).bind(null,L,M),_=function(){v(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(M),R=(function(S,I){var O=I.css,D=I.media;if(D&&S.setAttribute("media",D),S.styleSheet)S.styleSheet.cssText=O;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(O))}}).bind(null,L),_=function(){v(L)});return R(A),function(S){if(S){if(S.css===A.css&&S.media===A.media&&S.sourceMap===A.sourceMap)return;R(A=S)}else _()}}i.exports=function(A,M){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(M=M||{}).attrs=typeof M.attrs=="object"?M.attrs:{},M.singleton||typeof M.singleton=="boolean"||(M.singleton=h()),M.insertInto||(M.insertInto="head"),M.insertAt||(M.insertAt="bottom");var L=r(A,M);return s(L,M),function(R){for(var _=[],b=0;b<L.length;b++){var E=L[b];(S=m[E.id]).refs--,_.push(S)}for(R&&s(r(R,M),M),b=0;b<_.length;b++){var S;if((S=_[b]).refs===0){for(var I=0;I<S.parts.length;I++)S.parts[I]();delete m[S.id]}}}};var w,k=(w=[],function(A,M){return w[A]=M,w.filter(Boolean).join(`
`)});function T(A,M,L,R){var _=L?"":R.css;if(A.styleSheet)A.styleSheet.cssText=k(M,_);else{var b=document.createTextNode(_),E=A.childNodes;E[M]&&A.removeChild(E[M]),E.length?A.insertBefore(b,E[M]):A.appendChild(b)}}},function(i,n){i.exports=function(c){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!c||typeof c!="string")return c;var p=o.protocol+"//"+o.host,m=p+o.pathname.replace(/\/[^\/]*$/,"/");return c.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(h,g){var a,l=g.trim().replace(/^"(.*)"$/,function(d,u){return u}).replace(/^'(.*)'$/,function(d,u){return u});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(l)?h:(a=l.indexOf("//")===0?l:l.indexOf("/")===0?p+l:m+l.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(i,n,c){var o,p,m,h,g,a,l,d,u;i.exports=(o="cdx-notifies",p="cdx-notify",m="cdx-notify__cross",h="cdx-notify__button--confirm",g="cdx-notify__button--cancel",a="cdx-notify__input",l="cdx-notify__button",d="cdx-notify__btns-wrapper",{alert:u=function(s){var r=document.createElement("DIV"),f=document.createElement("DIV"),v=s.message,y=s.style;return r.classList.add(p),y&&r.classList.add(p+"--"+y),r.innerHTML=v,f.classList.add(m),f.addEventListener("click",r.remove.bind(r)),r.appendChild(f),r},confirm:function(s){var r=u(s),f=document.createElement("div"),v=document.createElement("button"),y=document.createElement("button"),C=r.querySelector("."+m),x=s.cancelHandler,w=s.okHandler;return f.classList.add(d),v.innerHTML=s.okText||"Confirm",y.innerHTML=s.cancelText||"Cancel",v.classList.add(l),y.classList.add(l),v.classList.add(h),y.classList.add(g),x&&typeof x=="function"&&(y.addEventListener("click",x),C.addEventListener("click",x)),w&&typeof w=="function"&&v.addEventListener("click",w),v.addEventListener("click",r.remove.bind(r)),y.addEventListener("click",r.remove.bind(r)),f.appendChild(v),f.appendChild(y),r.appendChild(f),r},prompt:function(s){var r=u(s),f=document.createElement("div"),v=document.createElement("button"),y=document.createElement("input"),C=r.querySelector("."+m),x=s.cancelHandler,w=s.okHandler;return f.classList.add(d),v.innerHTML=s.okText||"Ok",v.classList.add(l),v.classList.add(h),y.classList.add(a),s.placeholder&&y.setAttribute("placeholder",s.placeholder),s.default&&(y.value=s.default),s.inputType&&(y.type=s.inputType),x&&typeof x=="function"&&C.addEventListener("click",x),w&&typeof w=="function"&&v.addEventListener("click",function(){w(y.value)}),v.addEventListener("click",r.remove.bind(r)),f.appendChild(y),f.appendChild(v),r.appendChild(f),r},getWrapper:function(){var s=document.createElement("DIV");return s.classList.add(o),s}})}])})})(Rs);var wd=Rs.exports;const _d=qi(wd);class kd{show(e){_d.show(e)}}class Ed extends le{constructor({config:e,eventsDispatcher:i}){super({config:e,eventsDispatcher:i}),this.notifier=new kd}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class xd extends le{get methods(){const e=()=>this.isEnabled;return{toggle:i=>this.toggle(i),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Ds={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(zc,function(){function i(l){var d=l.tags,u=Object.keys(d),s=u.map(function(r){return typeof d[r]}).every(function(r){return r==="object"||r==="boolean"||r==="function"});if(!s)throw new Error("The configuration was invalid");this.config=l}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function c(l){return n.indexOf(l.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function p(l){return o.indexOf(l.nodeName)!==-1}i.prototype.clean=function(l){const d=document.implementation.createHTMLDocument(),u=d.createElement("div");return u.innerHTML=l,this._sanitize(d,u),u.innerHTML},i.prototype._sanitize=function(l,d){var u=m(l,d),s=u.firstChild();if(s)do{if(s.nodeType===Node.TEXT_NODE)if(s.data.trim()===""&&(s.previousElementSibling&&c(s.previousElementSibling)||s.nextElementSibling&&c(s.nextElementSibling))){d.removeChild(s),this._sanitize(l,d);break}else continue;if(s.nodeType===Node.COMMENT_NODE){d.removeChild(s),this._sanitize(l,d);break}var r=p(s),f;r&&(f=Array.prototype.some.call(s.childNodes,c));var v=!!d.parentNode,y=c(d)&&c(s)&&v,C=s.nodeName.toLowerCase(),x=h(this.config,C,s),w=r&&f;if(w||g(s,x)||!this.config.keepNestedBlockElements&&y){if(!(s.nodeName==="SCRIPT"||s.nodeName==="STYLE"))for(;s.childNodes.length>0;)d.insertBefore(s.childNodes[0],s);d.removeChild(s),this._sanitize(l,d);break}for(var k=0;k<s.attributes.length;k+=1){var T=s.attributes[k];a(T,x,s)&&(s.removeAttribute(T.name),k=k-1)}this._sanitize(l,s)}while(s=u.nextSibling())};function m(l,d){return l.createTreeWalker(d,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function h(l,d,u){return typeof l.tags[d]=="function"?l.tags[d](u):l.tags[d]}function g(l,d){return typeof d>"u"?!0:typeof d=="boolean"?!d:!1}function a(l,d,u){var s=l.name.toLowerCase();return d===!0?!1:typeof d[s]=="function"?!d[s](l.value,u):typeof d[s]>"u"||d[s]===!1?!0:typeof d[s]=="string"?d[s]!==l.value:!1}return i})})(Ds);var Cd=Ds.exports;const Td=qi(Cd);function to(t,e){return t.map(i=>{const n=we(e)?e(i.tool):e;return Ve(n)||(i.data=io(i.data,n)),i})}function Je(t,e={}){const i={tags:e};return new Td(i).clean(t)}function io(t,e){return Array.isArray(t)?Sd(t,e):$e(t)?Ld(t,e):lt(t)?Md(t,e):t}function Sd(t,e){return t.map(i=>io(i,e))}function Ld(t,e){const i={};for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const c=t[n],o=Ad(e[n])?e[n]:e;i[n]=io(c,o)}return i}function Md(t,e){return $e(e)?Je(t,e):e===!1?Je(t,{}):t}function Ad(t){return $e(t)||Yc(t)||we(t)}class Id extends le{get methods(){return{clean:(e,i)=>this.clean(e,i)}}clean(e,i){return Je(e,i)}}class $d extends le{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(He(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class Od extends le{constructor(){super(...arguments),this.selectionUtils=new ne}get methods(){return{findParentTag:(e,i)=>this.findParentTag(e,i),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,i){return this.selectionUtils.findParentTag(e,i)}expandToTag(e){this.selectionUtils.expandToTag(e)}}class Rd extends le{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class Dd extends le{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Pd extends le{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){He("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){He("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Ps={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(i,n){t.exports=n()})(window,function(){return function(i){var n={};function c(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return i[o].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=i,c.c=n,c.d=function(o,p,m){c.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:m})},c.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.t=function(o,p){if(1&p&&(o=c(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var h in o)c.d(m,h,(function(g){return o[g]}).bind(null,h));return m},c.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return c.d(p,"a",p),p},c.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},c.p="",c(c.s=0)}([function(i,n,c){i.exports=c(1)},function(i,n,c){c.r(n),c.d(n,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(m,h,g){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const a=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},g);if(a.hidingDelay&&(this.hidingDelay=a.hidingDelay),this.nodes.content.innerHTML="",typeof h=="string")this.nodes.content.appendChild(document.createTextNode(h));else{if(!(h instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof h+" given.");this.nodes.content.appendChild(h)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),a.placement){case"top":this.placeTop(m,a);break;case"left":this.placeLeft(m,a);break;case"right":this.placeRight(m,a);break;case"bottom":default:this.placeBottom(m,a)}a&&a.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},a.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(m=!1){if(this.hidingDelay&&!m)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(m,h,g){m.addEventListener("mouseenter",()=>{this.show(m,h,g)}),m.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const m="codex-tooltips-style";if(document.getElementById(m))return;const h=c(2),g=this.make("style",null,{textContent:h.toString(),id:m});this.prepend(document.head,g)}placeBottom(m,h){const g=m.getBoundingClientRect(),a=g.left+m.clientWidth/2-this.nodes.wrapper.offsetWidth/2,l=g.bottom+window.pageYOffset+this.offsetTop+h.marginTop;this.applyPlacement("bottom",a,l)}placeTop(m,h){const g=m.getBoundingClientRect(),a=g.left+m.clientWidth/2-this.nodes.wrapper.offsetWidth/2,l=g.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",a,l)}placeLeft(m,h){const g=m.getBoundingClientRect(),a=g.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-h.marginLeft,l=g.top+window.pageYOffset+m.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",a,l)}placeRight(m,h){const g=m.getBoundingClientRect(),a=g.right+this.offsetRight+h.marginRight,l=g.top+window.pageYOffset+m.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",a,l)}applyPlacement(m,h,g){this.nodes.wrapper.classList.add(this.CSS.placement[m]),this.nodes.wrapper.style.left=h+"px",this.nodes.wrapper.style.top=g+"px"}make(m,h=null,g={}){const a=document.createElement(m);Array.isArray(h)?a.classList.add(...h):h&&a.classList.add(h);for(const l in g)g.hasOwnProperty(l)&&(a[l]=g[l]);return a}append(m,h){Array.isArray(h)?h.forEach(g=>m.appendChild(g)):m.appendChild(h)}prepend(m,h){Array.isArray(h)?(h=h.reverse()).forEach(g=>m.prepend(g)):m.prepend(h)}}},function(i,n){i.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Ps);var Bd=Ps.exports;const Nd=qi(Bd);let Ye=null;function no(){Ye||(Ye=new Nd)}function Fd(t,e,i){no(),Ye==null||Ye.show(t,e,i)}function Wi(t=!1){no(),Ye==null||Ye.hide(t)}function zi(t,e,i){no(),Ye==null||Ye.onHover(t,e,i)}function jd(){Ye==null||Ye.destroy(),Ye=null}class Hd extends le{constructor({config:e,eventsDispatcher:i}){super({config:e,eventsDispatcher:i})}get methods(){return{show:(e,i,n)=>this.show(e,i,n),hide:()=>this.hide(),onHover:(e,i,n)=>this.onHover(e,i,n)}}show(e,i,n){Fd(e,i,n)}hide(){Wi()}onHover(e,i,n){zi(e,i,n)}}class Vd extends le{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function Bs(t,e){const i={};return Object.entries(t).forEach(([n,c])=>{if($e(c)){const o=e?`${e}.${n}`:n;Object.values(c).every(p=>lt(p))?i[n]=o:i[n]=Bs(c,o);return}i[n]=c}),i}const je=Bs(xs);function Wd(t,e){const i={};return Object.keys(t).forEach(n=>{const c=e[n];c!==void 0?i[c]=t[n]:i[n]=t[n]}),i}const Ns=class ri{constructor(e,i){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=i}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(ri.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(ri.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(this.items.length===0)return this.cursor;let i=this.cursor;return i===-1?i=e===ri.directions.RIGHT?-1:0:this.items[i].classList.remove(this.focusedCssClass),e===ri.directions.RIGHT?i=(i+1)%this.items.length:i=(this.items.length+i-1)%this.items.length,U.canSetCaret(this.items[i])&&ji(()=>ne.setCursor(this.items[i]),50)(),this.items[i].classList.add(this.focusedCssClass),i}};Ns.directions={RIGHT:"right",LEFT:"left"};let ti=Ns,Ui=class zn{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=i=>{if(this.isEventReadyForHandling(i))switch(zn.usedKeys.includes(i.keyCode)&&i.preventDefault(),i.keyCode){case oe.TAB:this.handleTabPress(i);break;case oe.LEFT:case oe.UP:this.flipLeft();break;case oe.RIGHT:case oe.DOWN:this.flipRight();break;case oe.ENTER:this.handleEnterPress(i);break}},this.iterator=new ti(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||zn.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[oe.TAB,oe.LEFT,oe.RIGHT,oe.ENTER,oe.UP,oe.DOWN]}activate(e,i){this.activated=!0,e&&this.iterator.setItems(e),i!==void 0&&this.iterator.setCursor(i),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(i=>i!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?ti.directions.LEFT:ti.directions.RIGHT){case ti.directions.RIGHT:this.flipRight();break;case ti.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),we(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}};const zd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',Ud='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Gd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',Kd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',Yd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',Xd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Qd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Zd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',is='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Jd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',qd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Fs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',eu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',tu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',iu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',nu="__",ou="--";function bt(t){return(e,i)=>[[t,e].filter(n=>!!n).join(nu),i].filter(n=>!!n).join(ou)}const ii=bt("ce-hint"),ni={root:ii(),alignedStart:ii(null,"align-left"),alignedCenter:ii(null,"align-center"),title:ii("title"),description:ii("description")};class ru{constructor(e){this.nodes={root:U.make("div",[ni.root,e.alignment==="center"?ni.alignedCenter:ni.alignedStart]),title:U.make("div",ni.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=U.make("div",ni.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let oo=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Wi()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,i;this.params!==void 0&&"onActivate"in this.params&&((i=(e=this.params).onActivate)==null||i.call(e,this.params))}addHint(e,i){const n=new ru(i);zi(e,n.getElement(),{placement:i.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const Fe=bt("ce-popover-item"),Ee={container:Fe(),active:Fe(null,"active"),disabled:Fe(null,"disabled"),focused:Fe(null,"focused"),hidden:Fe(null,"hidden"),confirmationState:Fe(null,"confirmation"),noHover:Fe(null,"no-hover"),noFocus:Fe(null,"no-focus"),title:Fe("title"),secondaryTitle:Fe("secondary-title"),icon:Fe("icon"),iconTool:Fe("icon","tool"),iconChevronRight:Fe("icon","chevron-right"),wobbleAnimation:bt("wobble")()};let Tt=class extends oo{constructor(e,i){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var n;(n=this.nodes.root)==null||n.classList.remove(Ee.noFocus)},this.removeSpecialHoverBehavior=()=>{var n;(n=this.nodes.root)==null||n.classList.remove(Ee.noHover)},this.onErrorAnimationEnd=()=>{var n,c;(n=this.nodes.icon)==null||n.classList.remove(Ee.wobbleAnimation),(c=this.nodes.icon)==null||c.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,i)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(Ee.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var i;(i=this.nodes.root)==null||i.classList.toggle(Ee.active,e)}toggleHidden(e){var i;(i=this.nodes.root)==null||i.classList.toggle(Ee.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,i){var n,c;const o=(i==null?void 0:i.wrapperTag)||"div",p=U.make(o,Ee.container,{type:o==="button"?"button":void 0});return e.name&&(p.dataset.itemName=e.name),this.nodes.icon=U.make("div",[Ee.icon,Ee.iconTool],{innerHTML:e.icon||Qd}),p.appendChild(this.nodes.icon),e.title!==void 0&&p.appendChild(U.make("div",Ee.title,{innerHTML:e.title||""})),e.secondaryLabel&&p.appendChild(U.make("div",Ee.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&p.appendChild(U.make("div",[Ee.icon,Ee.iconChevronRight],{innerHTML:Kd})),this.isActive&&p.classList.add(Ee.active),e.isDisabled&&p.classList.add(Ee.disabled),e.hint!==void 0&&((n=i==null?void 0:i.hint)==null?void 0:n.enabled)!==!1&&this.addHint(p,{...e.hint,position:((c=i==null?void 0:i.hint)==null?void 0:c.position)||"right"}),p}enableConfirmationMode(e){if(this.nodes.root===null)return;const i={...this.params,...e,confirmation:"confirmation"in e?e.confirmation:void 0},n=this.make(i);this.nodes.root.innerHTML=n.innerHTML,this.nodes.root.classList.add(Ee.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Ee.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,i,n;(e=this.nodes.root)==null||e.classList.add(Ee.noHover),(i=this.nodes.root)==null||i.classList.add(Ee.noFocus),(n=this.nodes.root)==null||n.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var i;if(!("confirmation"in e)||e.confirmation===void 0)try{(i=e.onActivate)==null||i.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,i,n;(e=this.nodes.icon)!=null&&e.classList.contains(Ee.wobbleAnimation)||((i=this.nodes.icon)==null||i.classList.add(Ee.wobbleAnimation),(n=this.nodes.icon)==null||n.addEventListener("animationend",this.onErrorAnimationEnd))}};const En=bt("ce-popover-item-separator"),xn={container:En(),line:En("line"),hidden:En(null,"hidden")};let js=class extends oo{constructor(){super(),this.nodes={root:U.make("div",xn.container),line:U.make("div",xn.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var i;(i=this.nodes.root)==null||i.classList.toggle(xn.hidden,e)}};var qe=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(qe||{});const Re=bt("ce-popover"),xe={popover:Re(),popoverContainer:Re("container"),popoverOpenTop:Re(null,"open-top"),popoverOpenLeft:Re(null,"open-left"),popoverOpened:Re(null,"opened"),search:Re("search"),nothingFoundMessage:Re("nothing-found-message"),nothingFoundMessageDisplayed:Re("nothing-found-message","displayed"),items:Re("items"),overlay:Re("overlay"),overlayHidden:Re("overlay","hidden"),popoverNested:Re(null,"nested"),getPopoverNestedClass:t=>Re(null,`nested-level-${t.toString()}`),popoverInline:Re(null,"inline"),popoverHeader:Re("header")};var Kt=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(Kt||{});const ns=bt("ce-popover-item-html"),os={root:ns(),hidden:ns(null,"hidden")};let mi=class extends oo{constructor(e,i){var n,c;super(e),this.nodes={root:U.make("div",os.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((n=i==null?void 0:i.hint)==null?void 0:n.enabled)!==!1&&this.addHint(this.nodes.root,{...e.hint,position:((c=i==null?void 0:i.hint)==null?void 0:c.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(e){var i;(i=this.nodes.root)==null||i.classList.toggle(os.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll(`button, ${U.allInputsSelector}`);return Array.from(e)}},Hs=class extends bi{constructor(e,i={}){super(),this.params=e,this.itemsRenderParams=i,this.listeners=new wi,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages={...this.messages,...e.messages}),this.nodes={},this.nodes.popoverContainer=U.make("div",[xe.popoverContainer]),this.nodes.nothingFoundMessage=U.make("div",[xe.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=U.make("div",[xe.items]),this.items.forEach(n=>{const c=n.getElement();c!==null&&this.nodes.items.appendChild(c)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",n=>this.handleClick(n)),this.nodes.popover=U.make("div",[xe.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof Tt)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(xe.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(xe.popoverOpened),this.nodes.popover.classList.remove(xe.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(qe.Closed)}destroy(){var e;this.items.forEach(i=>i.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){const i=this.items.find(n=>n.name===e);this.handleItemClick(i)}buildItems(e){return e.map(i=>{switch(i.type){case ye.Separator:return new js;case ye.Html:return new mi(i,this.itemsRenderParams[ye.Html]);default:return new Tt(i,this.itemsRenderParams[ye.Default])}})}getTargetItem(e){return this.items.filter(i=>i instanceof Tt||i instanceof mi).find(i=>{const n=i.getElement();return n===null?!1:e.composedPath().includes(n)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(i=>i!==e).forEach(i=>i.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(qe.ClosedOnActivate))}}handleClick(e){const i=this.getTargetItem(e);i!==void 0&&this.handleItemClick(i)}toggleItemActivenessIfNeeded(e){if(e instanceof Tt&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){const i=this.itemsDefault.filter(n=>n.toggle===e.toggle);if(i.length===1){e.toggleActive();return}i.forEach(n=>{n.toggleActive(n===e)})}}};var Gi=(t=>(t.Search="search",t))(Gi||{});const Cn=bt("cdx-search-field"),Tn={wrapper:Cn(),icon:Cn("icon"),input:Cn("input")};class su extends bi{constructor({items:e,placeholder:i}){super(),this.listeners=new wi,this.items=e,this.wrapper=U.make("div",Tn.wrapper);const n=U.make("div",Tn.icon,{innerHTML:eu});this.input=U.make("input",Tn.input,{placeholder:i,tabIndex:-1}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Gi.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Gi.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var i,n;const c=((i=e.title)==null?void 0:i.toLowerCase())||"",o=(n=this.searchQuery)==null?void 0:n.toLowerCase();return o!==void 0?c.includes(o):!1}}var au=Object.defineProperty,lu=Object.getOwnPropertyDescriptor,cu=(t,e,i,n)=>{for(var c=lu(e,i),o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=p(e,i,c)||c);return c&&au(e,i,c),c};const Vs=class Ws extends Hs{constructor(e,i){super(e,i),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var n;super.hide(),this.destroyNestedPopoverIfExists(),(n=this.flipper)==null||n.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const n=this.itemsDefault.find(c=>c.isFocused);n==null||n.onFocus()},this.onSearch=n=>{var c;const o=n.query==="",p=n.items.length===0;this.items.forEach(h=>{let g=!1;h instanceof Tt?g=!n.items.includes(h):(h instanceof js||h instanceof mi)&&(g=p||!o),h.toggleHidden(g)}),this.toggleNothingFoundMessage(p);const m=n.query===""?this.flippableElements:n.items.map(h=>h.getElement());(c=this.flipper)!=null&&c.isActivated&&(this.flipper.deactivate(),this.flipper.activate(m))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(xe.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",n=>this.handleHover(n)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new Ui({items:this.flippableElements,focusedItemClass:Ee.focused,allowedKeys:[oe.TAB,oe.UP,oe.DOWN,oe.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(Kt.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(xe.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(xe.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const i=this.getTargetItem(e);i!==void 0&&this.previouslyHoveredItem!==i&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=i,i.hasChildren&&this.showNestedPopoverForItem(i))}setTriggerItemPosition(e,i){const n=i.getElement(),c=(n?n.offsetTop:0)-this.scrollTop,o=this.offsetTop+c;e.style.setProperty(Kt.TriggerItemTop,o+"px")}destroyNestedPopoverIfExists(){var e,i;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(qe.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(i=this.nestedPopoverTriggerItem)==null||i.onChildrenClose())}showNestedPopoverForItem(e){var i;this.nestedPopover=new Ws({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(qe.ClosedOnActivate,this.hide);const n=this.nestedPopover.getElement();return this.nodes.popover.appendChild(n),this.setTriggerItemPosition(n,e),n.style.setProperty(Kt.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(i=this.flipper)==null||i.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),i=this.scopeElement.getBoundingClientRect(),n=this.size.height,c=e.top+n,o=e.top-n,p=Math.min(window.innerHeight,i.bottom);return o<i.top||c<=p}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const e=this.nodes.popover.getBoundingClientRect(),i=this.scopeElement.getBoundingClientRect(),n=this.size.width,c=e.right+n,o=e.left-n,p=Math.min(window.innerWidth,i.right);return o<i.left||c<=p}get size(){var e;const i={height:0,width:0};if(this.nodes.popover===null)return i;const n=this.nodes.popover.cloneNode(!0);n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(xe.popoverOpened),(e=n.querySelector("."+xe.popoverNested))==null||e.remove(),document.body.appendChild(n);const c=n.querySelector("."+xe.popoverContainer);return i.height=c.offsetHeight,i.width=c.offsetWidth,n.remove(),i}get flippableElements(){return this.items.map(e=>{if(e instanceof Tt)return e.getElement();if(e instanceof mi)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new su({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Gi.Search,this.onSearch);const e=this.search.getElement();e.classList.add(xe.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(xe.nothingFoundMessageDisplayed,e)}};cu([Xt],Vs.prototype,"size");let ro=Vs;class du extends ro{constructor(e){const i=!Qt();super({...e,class:xe.popoverInline},{[ye.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:i}},[ye.Html]:{hint:{position:"top",alignment:"center",enabled:i}}}),this.items.forEach(n=>{!(n instanceof Tt)&&!(n instanceof mi)||n.hasChildren&&n.isChildrenOpen&&this.showNestedItems(n)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Kt.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,i){const n=i.getElement(),c=n?n.offsetLeft:0,o=this.offsetLeft+c;e.style.setProperty(Kt.TriggerItemLeft,o+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){const i=super.showNestedPopoverForItem(e);return i.getElement().classList.add(xe.getPopoverNestedClass(i.nestingLevel)),i}handleItemClick(e){var i;e!==this.nestedPopoverTriggerItem&&((i=this.nestedPopoverTriggerItem)==null||i.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const zs=class si{constructor(){this.scrollPosition=null}lock(){Hn?this.lockHard():document.body.classList.add(si.CSS.scrollLocked)}unlock(){Hn?this.unlockHard():document.body.classList.remove(si.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(si.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(si.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};zs.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let uu=zs;const Sn=bt("ce-popover-header"),Ln={root:Sn(),text:Sn("text"),backButton:Sn("back-button")};class hu{constructor({text:e,onBackButtonClick:i}){this.listeners=new wi,this.text=e,this.onBackButtonClick=i,this.nodes={root:U.make("div",[Ln.root]),backButton:U.make("button",[Ln.backButton]),text:U.make("div",[Ln.text])},this.nodes.backButton.innerHTML=Gd,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class pu{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let Us=class extends Hs{constructor(e){super(e,{[ye.Default]:{hint:{enabled:!1}},[ye.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new uu,this.history=new pu,this.isHidden=!0,this.nodes.overlay=U.make("div",[xe.overlay,xe.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(xe.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(xe.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,i){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),i!==void 0){this.header=new hu({text:i,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const n=this.header.getElement();n!==null&&this.nodes.popoverContainer.insertBefore(n,this.nodes.popoverContainer.firstChild)}this.items.forEach(n=>{var c;return(c=n.getElement())==null?void 0:c.remove()}),this.items=this.buildItems(e),this.items.forEach(n=>{var c;const o=n.getElement();o!==null&&((c=this.nodes.items)==null||c.appendChild(o))})}};class fu extends le{constructor(){super(...arguments),this.opened=!1,this.selection=new ne,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,ne.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(qe.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=U.make("div",[this.CSS.settings]),this.eventsDispatcher.on(gi,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(gi,this.close)}async open(e=this.Editor.BlockManager.currentBlock){var i;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:n,commonTunes:c}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const o=Qt()?Us:ro;this.popover=new o({searchable:!0,items:await this.getTunesItems(e,c,n),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Pe.ui(je.ui.popover,"Nothing found"),search:Pe.ui(je.ui.popover,"Filter")}}),this.popover.on(qe.Closed,this.onPopoverClose),(i=this.nodes.wrapper)==null||i.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,i,n){const c=[];n!==void 0&&n.length>0&&(c.push(...n),c.push({type:ye.Separator}));const o=Array.from(this.Editor.Tools.blockTools.values()),p=(await $s(e,o)).reduce((m,h)=>(h.toolbox.forEach(g=>{m.push({icon:g.icon,title:Pe.t(je.toolNames,g.title),name:h.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:a,Caret:l,Toolbar:d}=this.Editor,u=await a.convert(e,h.name,g.data);d.close(),l.setToBlock(u,l.positions.END)}})}),m),[]);return p.length>0&&(c.push({icon:Fs,name:"convert-to",title:Pe.ui(je.ui.popover,"Convert to"),children:{searchable:!0,items:p}}),c.push({type:ye.Separator})),c.push(...i),c.map(m=>this.resolveTuneAliases(m))}resolveTuneAliases(e){if(e.type===ye.Separator||e.type===ye.Html)return e;const i=Wd(e,{label:"title"});return e.confirmation&&(i.confirmation=this.resolveTuneAliases(e.confirmation)),i}}var Gs={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(i,n){t.exports=n()})(window,function(){return function(i){var n={};function c(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return i[o].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=i,c.c=n,c.d=function(o,p,m){c.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:m})},c.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.t=function(o,p){if(1&p&&(o=c(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var h in o)c.d(m,h,(function(g){return o[g]}).bind(null,h));return m},c.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return c.d(p,"a",p),p},c.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},c.p="",c(c.s=0)}([function(i,n,c){function o(h,g){for(var a=0;a<g.length;a++){var l=g[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}function p(h,g,a){return g&&o(h.prototype,g),a&&o(h,a),h}c.r(n);var m=function(){function h(g){var a=this;(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,h),this.commands={},this.keys={},this.name=g.name,this.parseShortcutName(g.name),this.element=g.on,this.callback=g.callback,this.executeShortcut=function(l){a.execute(l)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return p(h,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),p(h,[{key:"parseShortcutName",value:function(g){g=g.split("+");for(var a=0;a<g.length;a++){g[a]=g[a].toUpperCase();var l=!1;for(var d in h.supportedCommands)if(h.supportedCommands[d].includes(g[a])){l=this.commands[d]=!0;break}l||(this.keys[g[a]]=!0)}for(var u in h.supportedCommands)this.commands[u]||(this.commands[u]=!1)}},{key:"execute",value:function(g){var a,l={CMD:g.ctrlKey||g.metaKey,SHIFT:g.shiftKey,ALT:g.altKey},d=!0;for(a in this.commands)this.commands[a]!==l[a]&&(d=!1);var u,s=!0;for(u in this.keys)s=s&&g.keyCode===h.keyCodes[u];d&&s&&this.callback(g)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),h}();n.default=m}]).default})})(Gs);var gu=Gs.exports;const mu=qi(gu);class vu{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const i=new mu({name:e.name,on:e.on,callback:e.handler}),n=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...n,i])}remove(e,i){const n=this.findShortcut(e,i);if(!n)return;n.remove();const c=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,c.filter(o=>o!==n))}findShortcut(e,i){return(this.registeredShortcuts.get(e)||[]).find(({name:n})=>n===i)}}const Yt=new vu;var yu=Object.defineProperty,bu=Object.getOwnPropertyDescriptor,Ks=(t,e,i,n)=>{for(var c=bu(e,i),o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=p(e,i,c)||c);return c&&yu(e,i,c),c},Ai=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Ai||{});const so=class Ys extends bi{constructor({api:e,tools:i,i18nLabels:n}){super(),this.opened=!1,this.listeners=new wi,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=i,this.i18nLabels=n,this.enableShortcuts(),this.nodes={toolbox:U.make("div",Ys.CSS.toolbox)},this.initPopover(),this.api.events.on(gi,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(qe.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(gi,this.handleMobileLayoutToggle)}toolButtonActivated(e,i){this.insertNewBlock(e,i)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const i=Qt()?Us:ro;this.popover=new i({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(qe.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(qe.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach(i=>{i.toolbox&&e.push(i)}),e}get toolboxItemsToBeDisplayed(){const e=(i,n)=>({icon:i.icon,title:Pe.t(je.toolNames,i.title||Hi(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,i.data)},secondaryLabel:n.shortcut?eo(n.shortcut):""});return this.toolsToBeDisplayed.reduce((i,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(c=>{i.push(e(c,n))}):n.toolbox!==void 0&&i.push(e(n.toolbox,n)),i),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const i=e.shortcut;i&&this.enableShortcutForTool(e.name,i)})}enableShortcutForTool(e,i){Yt.add({name:i,on:this.api.ui.nodes.redactor,handler:async n=>{n.preventDefault();const c=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(c);if(o)try{const p=await this.api.blocks.convert(o.id,e);this.api.caret.setToBlock(p,"end");return}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{const i=e.shortcut;i&&Yt.remove(this.api.ui.nodes.redactor,i)})}async insertNewBlock(e,i){const n=this.api.blocks.getCurrentBlockIndex(),c=this.api.blocks.getBlockByIndex(n);if(!c)return;const o=c.isEmpty?n:n+1;let p;if(i){const h=await this.api.blocks.composeBlockData(e);p=Object.assign(h,i)}const m=this.api.blocks.insert(e,p,void 0,o,void 0,c.isEmpty);m.call(st.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:m}),this.api.toolbar.close()}};Ks([Xt],so.prototype,"toolsToBeDisplayed");Ks([Xt],so.prototype,"toolboxItemsToBeDisplayed");let wu=so;const Xs="block hovered";async function _u(t,e){const i=navigator.keyboard;if(!i)return e;try{return(await i.getLayoutMap()).get(t)||e}catch(n){return console.error(n),e}}class ku extends le{constructor({config:e,eventsDispatcher:i}){super({config:e,eventsDispatcher:i}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var i;(i=this.toolboxInstance)==null||i.close()},open:()=>{if(this.toolboxInstance===null){de("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){de("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var i;return(i=this.toolboxInstance)==null?void 0:i.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){de("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const i=e.holder,{isMobile:n}=this.Editor.UI;let c;const o=20,p=e.firstInput,m=i.getBoundingClientRect(),h=p!==void 0?p.getBoundingClientRect():null,g=h!==null?h.top-m.top:null,a=g!==null?g>o:void 0;if(n)c=i.offsetTop+i.offsetHeight;else if(p===void 0||a){const l=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);c=i.offsetTop+l}else{const l=rd(p),d=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);c=i.offsetTop+l-d+8+g}this.nodes.wrapper.style.top=`${Math.floor(c)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,i;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(i=this.toolboxInstance)==null||i.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=U.make("div",this.CSS.toolbar),["content","actions"].forEach(o=>{this.nodes[o]=U.make("div",this.CSS[o])}),U.append(this.nodes.wrapper,this.nodes.content),U.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=U.make("div",this.CSS.plusButton,{innerHTML:qd}),U.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Wi(!0),this.plusButtonClicked()},!1);const e=U.make("div");e.appendChild(document.createTextNode(Pe.ui(je.ui.toolbar.toolbox,"Add"))),e.appendChild(U.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),zi(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=U.make("span",this.CSS.settingsToggler,{innerHTML:Jd}),U.append(this.nodes.actions,this.nodes.settingsToggler);const i=U.make("div"),n=U.text(Pe.ui(je.ui.blockTunes.toggler,"Click to tune")),c=await _u("Slash","/");i.appendChild(n),i.appendChild(U.make("div",this.CSS.plusButtonShortcut,{textContent:eo(`CMD + ${c}`)})),zi(this.nodes.settingsToggler,i,{hidingDelay:400}),U.append(this.nodes.actions,this.makeToolbox()),U.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),U.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new wu({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Pe.ui(je.ui.popover,"Filter"),nothingFound:Pe.ui(je.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Ai.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ai.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Ai.BlockAdded,({block:e})=>{const{BlockManager:i,Caret:n}=this.Editor,c=i.getBlockById(e.id);c.inputs.length===0&&(c===i.lastBlock?(i.insertAtEnd(),n.setToBlock(i.lastBlock)):n.setToBlock(i.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var i;e.stopPropagation(),this.settingsTogglerClicked(),(i=this.toolboxInstance)!=null&&i.opened&&this.toolboxInstance.close(),Wi(!0)},!0),Qt()||this.eventsDispatcher.on(Xs,e=>{var i;this.Editor.BlockSettings.opened||(i=this.toolboxInstance)!=null&&i.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var St=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(St||{}),Ii=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Ii||{}),Qs=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Qs||{}),Ut=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Ut||{}),ao=(t=>(t.IsInline="isInline",t.Title="title",t))(ao||{}),Un=(t=>(t.IsTune="isTune",t))(Un||{});let lo=class{constructor({name:e,constructable:i,config:n,api:c,isDefault:o,isInternal:p=!1,defaultPlaceholder:m}){this.api=c,this.name=e,this.constructable=i,this.config=n,this.isDefault=o,this.isInternal=p,this.defaultPlaceholder=m}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(we(this.constructable.reset))return this.constructable.reset()}prepare(){if(we(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===St.Inline}isBlock(){return this.type===St.Block}isTune(){return this.type===St.Tune}};class Eu extends le{constructor({config:e,eventsDispatcher:i}){super({config:e,eventsDispatcher:i}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Qt()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1){e&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,i;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([n,c])=>{const o=this.getToolShortcut(n);o&&Yt.remove(this.Editor.UI.nodes.redactor,o),we(c.clear)&&c.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(i=this.popover)==null||i.destroy(),this.popover=null))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=U.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),U.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();const i=await this.getInlineTools();this.popover=new du({items:i,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Pe.ui(je.ui.popover,"Nothing found"),search:Pe.ui(je.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()}move(e){const i=ne.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),c={x:i.x-n.x,y:i.y+i.height-n.top+this.toolbarVerticalMargin};c.x+e+n.x>this.Editor.UI.contentRect.right&&(c.x=this.Editor.UI.contentRect.right-e-n.x),this.nodes.wrapper.style.left=Math.floor(c.x)+"px",this.nodes.wrapper.style.top=Math.floor(c.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],i=ne.get(),n=ne.text;if(!i||!i.anchorNode||i.isCollapsed||n.length<1)return!1;const c=U.isElement(i.anchorNode)?i.anchorNode:i.anchorNode.parentElement;if(c===null||i&&e.includes(c.tagName)||c.closest('[contenteditable="true"]')===null)return!1;const o=this.Editor.BlockManager.getBlock(i.anchorNode);return o?o.tool.inlineTools.size!==0:!1}async getInlineTools(){const e=ne.get(),i=this.Editor.BlockManager.getBlock(e.anchorNode),n=Array.from(i.tool.inlineTools.values()),c=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let o=0;o<n.length;o++){const p=n[o],m=p.create(),h=await m.render();this.toolsInstances.set(p.name,m);const g=this.getToolShortcut(p.name);if(g)try{this.enableShortcuts(p.name,g)}catch{}const a=g!==void 0?eo(g):void 0,l=Pe.t(je.toolNames,p.title||Hi(p.name));[h].flat().forEach(d=>{var u,s;const r={name:p.name,onActivate:()=>{this.toolClicked(m)},hint:{title:l,description:a}};if(U.isElement(d)){const f={...r,element:d,type:ye.Html};if(we(m.renderActions)){const v=m.renderActions();f.children={isOpen:(u=m.checkState)==null?void 0:u.call(m,ne.get()),isFlippable:!1,items:[{type:ye.Html,element:v}]}}else(s=m.checkState)==null||s.call(m,ne.get());c.push(f)}else if(d.type===ye.Html)c.push({...r,...d,type:ye.Html});else if(d.type===ye.Separator)c.push({type:ye.Separator});else{const f={...r,...d,type:ye.Default};"children"in f&&o!==0&&c.push({type:ye.Separator}),c.push(f),"children"in f&&o<n.length-1&&c.push({type:ye.Separator})}})}return c}getToolShortcut(e){const{Tools:i}=this.Editor,n=i.inlineTools.get(e),c=i.internal.inlineTools;return Array.from(c.keys()).includes(e)?this.inlineTools[e][Qs.Shortcut]:n==null?void 0:n.shortcut}enableShortcuts(e,i){Yt.add({name:i,handler:n=>{var c;const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(n.preventDefault(),(c=this.popover)==null||c.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var i;const n=ne.range;(i=e.surround)==null||i.call(e,n),this.checkToolsState()}checkToolsState(){var e;(e=this.toolsInstances)==null||e.forEach(i=>{var n;(n=i.checkState)==null||n.call(i,ne.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([i,n])=>{e[i]=n.create()}),e}}function Zs(){const t=window.getSelection();if(t===null)return[null,0];let e=t.focusNode,i=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[i]?(e=e.childNodes[i],i=0):(e=e.childNodes[i-1],i=e.textContent.length)),[e,i])}function Js(t,e,i,n){const c=document.createRange();n==="left"?(c.setStart(t,0),c.setEnd(e,i)):(c.setStart(e,i),c.setEnd(t,t.childNodes.length));const o=c.cloneContents(),p=document.createElement("div");p.appendChild(o);const m=p.textContent||"";return od(m)}function $i(t){const e=U.getDeepestNode(t);if(e===null||U.isEmpty(t))return!0;if(U.isNativeInput(e))return e.selectionEnd===0;if(U.isEmpty(t))return!0;const[i,n]=Zs();return i===null?!1:Js(t,i,n,"left")}function Oi(t){const e=U.getDeepestNode(t,!0);if(e===null)return!0;if(U.isNativeInput(e))return e.selectionEnd===e.value.length;const[i,n]=Zs();return i===null?!1:Js(t,i,n,"right")}class xu extends le{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case oe.BACKSPACE:this.backspace(e);break;case oe.DELETE:this.delete(e);break;case oe.ENTER:this.enter(e);break;case oe.DOWN:case oe.RIGHT:this.arrowRightAndDown(e);break;case oe.UP:case oe.LEFT:this.arrowLeftAndUp(e);break;case oe.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&ws(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const i=this.Editor.BlockManager.getBlockByChildNode(e.target);i.dropTarget=!0}dragLeave(e){const i=this.Editor.BlockManager.getBlockByChildNode(e.target);i.dropTarget=!1}handleCommandC(e){const{BlockSelection:i}=this.Editor;i.anyBlockSelected&&i.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:i,BlockManager:n,Caret:c}=this.Editor;i.anyBlockSelected&&i.copySelectedBlocks(e).then(()=>{const o=n.removeSelectedBlocks(),p=n.insertDefaultBlockAtIndex(o,!0);c.setToBlock(p,c.positions.START),i.clearSelection(e)})}tabPressed(e){const{InlineToolbar:i,Caret:n}=this.Editor;i.opened||(e.shiftKey?n.navigatePrevious(!0):n.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:i,UI:n}=this.Editor,c=i.currentBlock;if(c===void 0||c.tool.isLineBreaksEnabled||n.someToolbarOpened&&n.someFlipperButtonFocused||e.shiftKey&&!Hn)return;let o=c;c.currentInput!==void 0&&$i(c.currentInput)&&!c.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):c.currentInput&&Oi(c.currentInput)?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:i,Caret:n}=this.Editor,{currentBlock:c,previousBlock:o}=i;if(!(c===void 0||!ne.isCollapsed||!c.currentInput||!$i(c.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),c.currentInput!==c.firstInput){n.navigatePrevious();return}if(o!==null){if(o.isEmpty){i.removeBlock(o);return}if(c.isEmpty){i.removeBlock(c);const p=i.currentBlock;n.setToBlock(p,n.positions.END);return}es(o,c)?this.mergeBlocks(o,c):n.setToBlock(o,n.positions.END)}}}delete(e){const{BlockManager:i,Caret:n}=this.Editor,{currentBlock:c,nextBlock:o}=i;if(!(!ne.isCollapsed||!Oi(c.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),c.currentInput!==c.lastInput){n.navigateNext();return}if(o!==null){if(o.isEmpty){i.removeBlock(o);return}if(c.isEmpty){i.removeBlock(c),n.setToBlock(o,n.positions.START);return}es(c,o)?this.mergeBlocks(c,o):n.setToBlock(o,n.positions.START)}}}mergeBlocks(e,i){const{BlockManager:n,Caret:c,Toolbar:o}=this.Editor;c.createShadow(e.lastInput),n.mergeBlocks(e,i).then(()=>{c.restoreCaret(e.pluginsContent),o.close()})}arrowRightAndDown(e){const i=Ui.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===oe.TAB);if(this.Editor.UI.someToolbarOpened&&i)return;this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,c=((n==null?void 0:n.currentInput)!==void 0?Oi(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===oe.DOWN&&c){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===oe.DOWN||e.keyCode===oe.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}ji(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Ui.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===oe.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:i}=this.Editor.BlockManager,n=((i==null?void 0:i.currentInput)!==void 0?$i(i.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===oe.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===oe.UP||e.keyCode===oe.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}ji(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const i=e.keyCode===oe.ENTER&&this.Editor.Toolbar.toolbox.opened,n=e.keyCode===oe.ENTER&&this.Editor.BlockSettings.opened,c=e.keyCode===oe.ENTER&&this.Editor.InlineToolbar.opened,o=e.keyCode===oe.TAB;return!(e.shiftKey||o||i||n||c)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}let Mn=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return _s(this.workingArea.children)}static set(e,i,n){return isNaN(Number(i))?(Reflect.set(e,i,n),!0):(e.insert(+i,n),!0)}static get(e,i){return isNaN(Number(i))?Reflect.get(e,i):e.get(+i)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,i){const n=this.blocks[i];U.swap(this.blocks[e].holder,n.holder),this.blocks[i]=this.blocks[e],this.blocks[e]=n}move(e,i){const n=this.blocks.splice(i,1)[0],c=e-1,o=Math.max(0,c),p=this.blocks[o];e>0?this.insertToDOM(n,"afterend",p):this.insertToDOM(n,"beforebegin",p),this.blocks.splice(e,0,n);const m=this.composeBlockEvent("move",{fromIndex:i,toIndex:e});n.call(st.MOVED,m)}insert(e,i,n=!1){if(!this.length){this.push(i);return}e>this.length&&(e=this.length),n&&(this.blocks[e].holder.remove(),this.blocks[e].call(st.REMOVED));const c=n?1:0;if(this.blocks.splice(e,c,i),e>0){const o=this.blocks[e-1];this.insertToDOM(i,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(i,"beforebegin",o):this.insertToDOM(i)}}replace(e,i){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(i.holder),this.blocks[e]=i}insertMany(e,i){const n=new DocumentFragment;for(const c of e)n.appendChild(c.holder);if(this.length>0){if(i>0){const c=Math.min(i-1,this.length-1);this.blocks[c].holder.after(n)}else i===0&&this.workingArea.prepend(n);this.blocks.splice(i,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(n);e.forEach(c=>c.call(st.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(st.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(st.REMOVED)),this.blocks.length=0}insertAfter(e,i){const n=this.blocks.indexOf(e);this.insert(n+1,i)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,i,n){i?n.holder.insertAdjacentElement(i,e.holder):this.workingArea.appendChild(e.holder),e.call(st.RENDERED)}composeBlockEvent(e,i){return new CustomEvent(e,{detail:i})}};const rs="block-removed",ss="block-added",Cu="block-moved",as="block-changed";class Tu{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((i,n)=>{this.completed=this.completed.then(e).then(i).catch(n)})}}class Su extends le{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Mn(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Mn.set,get:Mn.get}),this.listeners.on(document,"copy",i=>this.Editor.BlockEvents.handleCommandC(i))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:i={},id:n=void 0,tunes:c={}}){const o=this.Editor.ReadOnly.isEnabled,p=this.Editor.Tools.blockTools.get(e),m=new at({id:n,data:i,tool:p,api:this.Editor.API,readOnly:o,tunesData:c},this.eventsDispatcher);return o||window.requestIdleCallback(()=>{this.bindBlockEvents(m)},{timeout:2e3}),m}insert({id:e=void 0,tool:i=this.config.defaultBlock,data:n={},index:c,needToFocus:o=!0,replace:p=!1,tunes:m={}}={}){let h=c;h===void 0&&(h=this.currentBlockIndex+(p?0:1));const g=this.composeBlock({id:e,tool:i,data:n,tunes:m});return p&&this.blockDidMutated(rs,this.getBlockByIndex(h),{index:h}),this._blocks.insert(h,g,p),this.blockDidMutated(ss,g,{index:h}),o?this.currentBlockIndex=h:h<=this.currentBlockIndex&&this.currentBlockIndex++,g}insertMany(e,i=0){this._blocks.insertMany(e,i)}async update(e,i,n){if(!i&&!n)return e;const c=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},c,i??{}),tunes:n??e.tunes}),p=this.getBlockIndex(e);return this._blocks.replace(p,o),this.blockDidMutated(as,o,{index:p}),o}replace(e,i,n){const c=this.getBlockIndex(e);return this.insert({tool:i,data:n,index:c,replace:!0})}paste(e,i,n=!1){const c=this.insert({tool:e,replace:n});try{window.requestIdleCallback(()=>{c.call(st.ON_PASTE,i)})}catch(o){de(`${e}: onPaste callback call is failed`,"error",o)}return c}insertDefaultBlockAtIndex(e,i=!1){const n=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=n,this.blockDidMutated(ss,n,{index:e}),i?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,n}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,i){let n;if(e.name===i.name&&e.mergeable){const c=await i.data;if(Ve(c)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[o]=to([c],e.tool.sanitizeConfig);n=o}else if(e.mergeable&&Vi(i,"export")&&Vi(e,"import")){const c=await i.exportDataAsString(),o=Je(c,e.tool.sanitizeConfig);n=ts(o,e.tool.conversionConfig)}n!==void 0&&(await e.mergeWith(n),this.removeBlock(i),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e,i=!0){return new Promise(n=>{const c=this._blocks.indexOf(e);if(!this.validateIndex(c))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(c),this.blockDidMutated(rs,e,{index:c}),this.currentBlockIndex>=c&&this.currentBlockIndex--,this.blocks.length?c===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),i&&this.insert()),n()})}removeSelectedBlocks(){let e;for(let i=this.blocks.length-1;i>=0;i--)this.blocks[i].selected&&(this.removeBlock(this.blocks[i]),e=i);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),i=U.make("div");i.appendChild(e);const n={text:U.isEmpty(i)?"":i.innerHTML};return this.insert({data:n})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(i=>i.id===e)}getBlock(e){U.isElement(e)||(e=e.parentNode);const i=this._blocks.nodes,n=e.closest(`.${at.CSS.wrapper}`),c=i.indexOf(n);if(c>=0)return this._blocks[c]}setCurrentBlockByChildNode(e){U.isElement(e)||(e=e.parentNode);const i=e.closest(`.${at.CSS.wrapper}`);if(!i)return;const n=i.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(n!=null&&n.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(i),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;U.isElement(e)||(e=e.parentNode);const i=e.closest(`.${at.CSS.wrapper}`);return this.blocks.find(n=>n.holder===i)}swap(e,i){this._blocks.swap(e,i),this.currentBlockIndex=i}move(e,i=this.currentBlockIndex){if(isNaN(e)||isNaN(i)){de("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(i)){de("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,i),this.currentBlockIndex=e,this.blockDidMutated(Cu,this.currentBlock,{fromIndex:i,toIndex:e})}async convert(e,i,n){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const c=this.Editor.Tools.blockTools.get(i);if(!c)throw new Error(`Could not convert Block. Tool «${i}» not found.`);const o=await e.exportDataAsString(),p=Je(o,c.sanitizeConfig);let m=ts(p,c.conversionConfig);return n&&(m=Object.assign(m,n)),this.replace(e,c.name,m)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(e=!1){const i=new Tu;this.blocks.forEach(n=>{i.add(async()=>{await this.removeBlock(n,!1)})}),await i.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:i}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",n=>{i.keydown(n)}),this.readOnlyMutableListeners.on(e.holder,"keyup",n=>{i.keyup(n)}),this.readOnlyMutableListeners.on(e.holder,"dragover",n=>{i.dragOver(n)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",n=>{i.dragLeave(n)}),e.on("didMutated",n=>this.blockDidMutated(as,n,{index:this.getBlockIndex(n)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,i,n){const c=new CustomEvent(e,{detail:{target:new rt(i),...n}});return this.eventsDispatcher.emit(Ls,{event:c}),i}}class Lu extends le{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(i=>i.selected===!0)}set allBlocksSelected(e){const{BlockManager:i}=this.Editor;i.blocks.forEach(n=>{n.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(i=>i.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new ne,Yt.add({name:"CMD+A",handler:e=>{const{BlockManager:i,ReadOnly:n}=this.Editor;if(n.isEnabled){e.preventDefault(),this.selectAllBlocks();return}i.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){ne.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:i}=this.Editor;let n;isNaN(e)?n=i.currentBlock:n=i.getBlockByIndex(e),n.selected=!1,this.clearCache()}clearSelection(e,i=!1){const{BlockManager:n,Caret:c,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const p=e&&e instanceof KeyboardEvent,m=p&&ws(e.keyCode);if(this.anyBlockSelected&&p&&m&&!ne.isSelectionExists){const h=n.removeSelectedBlocks();n.insertDefaultBlockAtIndex(h,!0),c.setToBlock(n.currentBlock),ji(()=>{const g=e.key;c.insertContentAtCaretPosition(g.length>1?"":g)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}i&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const i=U.make("div");this.selectedBlocks.forEach(o=>{const p=Je(o.holder.innerHTML,this.sanitizerConfig),m=U.make("p");m.innerHTML=p,i.appendChild(m)});const n=Array.from(i.childNodes).map(o=>o.textContent).join(`

`),c=i.innerHTML;return e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/html",c),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(e){const{BlockManager:i}=this.Editor,n=i.getBlockByIndex(e);n!==void 0&&this.selectBlock(n)}selectBlock(e){this.selection.save(),ne.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Yt.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),U.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const i=this.Editor.BlockManager.getBlock(e.target),n=i.inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(i),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),ne.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let Mu=class Gn extends le{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,i=this.positions.DEFAULT,n=0){var c;const{BlockManager:o,BlockSelection:p}=this.Editor;if(p.clearSelection(),!e.focusable){(c=window.getSelection())==null||c.removeAllRanges(),p.selectBlock(e),o.currentBlock=e;return}let m;switch(i){case this.positions.START:m=e.firstInput;break;case this.positions.END:m=e.lastInput;break;default:m=e.currentInput}if(!m)return;const h=U.getDeepestNode(m,i===this.positions.END),g=U.getContentLength(h);switch(!0){case i===this.positions.START:n=0;break;case i===this.positions.END:case n>g:n=g;break}this.set(h,n),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=m}setToInput(e,i=this.positions.DEFAULT,n=0){const{currentBlock:c}=this.Editor.BlockManager,o=U.getDeepestNode(e);switch(i){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,U.getContentLength(o));break;default:n&&this.set(o,n)}c.currentInput=e}set(e,i=0){const{top:n,bottom:c}=ne.setCursor(e,i),{innerHeight:o}=window;n<0?window.scrollBy(0,n-30):c>o&&window.scrollBy(0,c-o+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const i=this.Editor.BlockManager.insertAtEnd();this.setToBlock(i)}}extractFragmentFromCaretPosition(){const e=ne.get();if(e.rangeCount){const i=e.getRangeAt(0),n=this.Editor.BlockManager.currentBlock.currentInput;if(i.deleteContents(),n)if(U.isNativeInput(n)){const c=n,o=document.createDocumentFragment(),p=c.value.substring(0,c.selectionStart),m=c.value.substring(c.selectionStart);return o.textContent=m,c.value=p,o}else{const c=i.cloneRange();return c.selectNodeContents(n),c.setStart(i.endContainer,i.endOffset),c.extractContents()}}}navigateNext(e=!1){const{BlockManager:i}=this.Editor,{currentBlock:n,nextBlock:c}=i;if(n===void 0)return!1;const{nextInput:o,currentInput:p}=n,m=p!==void 0?Oi(p):void 0;let h=c;const g=e||m||!n.focusable;if(o&&g)return this.setToInput(o,this.positions.START),!0;if(h===null){if(n.tool.isDefault||!g)return!1;h=i.insertAtEnd()}return g?(this.setToBlock(h,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:i,previousBlock:n}=this.Editor.BlockManager;if(!i)return!1;const{previousInput:c,currentInput:o}=i,p=o!==void 0?$i(o):void 0,m=e||p||!i.focusable;return c&&m?(this.setToInput(c,this.positions.END),!0):n!==null&&m?(this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const i=document.createElement("span");i.classList.add(Gn.CSS.shadowCaret),e.insertAdjacentElement("beforeend",i)}restoreCaret(e){const i=e.querySelector(`.${Gn.CSS.shadowCaret}`);if(!i)return;new ne().expandToTag(i);const n=document.createRange();n.selectNode(i),n.extractContents()}insertContentAtCaretPosition(e){const i=document.createDocumentFragment(),n=document.createElement("div"),c=ne.get(),o=ne.range;n.innerHTML=e,Array.from(n.childNodes).forEach(g=>i.appendChild(g)),i.childNodes.length===0&&i.appendChild(new Text);const p=i.lastChild;o.deleteContents(),o.insertNode(i);const m=document.createRange(),h=p.nodeType===Node.TEXT_NODE?p:p.firstChild;h!==null&&h.textContent!==null&&m.setStart(h,h.textContent.length),c.removeAllRanges(),c.addRange(m)}};class Au extends le{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:i,BlockSelection:n}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const c=i.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=i.getBlockByChildNode(e.target);if(!(!c||!o)&&o!==c){if(c===this.firstSelectedBlock){ne.get().removeAllRanges(),c.selected=!0,o.selected=!0,n.clearCache();return}if(o===this.firstSelectedBlock){c.selected=!1,o.selected=!1,n.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(c,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==Gc.LEFT)return;const{BlockManager:i}=this.Editor;this.firstSelectedBlock=i.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:i,BlockSelection:n}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=i.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,n.clearCache(),ne.get().removeAllRanges());const c=i.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=i.blocks[c];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,n.clearCache()):(this.lastSelectedBlock.selected=!1,n.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:i,BlockSelection:n,Caret:c}=this.Editor,o=i.blocks.indexOf(this.firstSelectedBlock),p=i.blocks.indexOf(this.lastSelectedBlock);if(n.anyBlockSelected&&o>-1&&p>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case oe.DOWN:case oe.RIGHT:c.setToBlock(i.blocks[Math.max(o,p)],c.positions.END);break;case oe.UP:case oe.LEFT:c.setToBlock(i.blocks[Math.min(o,p)],c.positions.START);break;default:c.setToBlock(i.blocks[Math.max(o,p)],c.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:i}=this.Editor;ne.isCollapsed||this.Editor.BlockSelection.clearSelection(e),i.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,i){const{BlockManager:n,BlockSelection:c}=this.Editor,o=n.blocks.indexOf(e),p=n.blocks.indexOf(i),m=e.selected!==i.selected;for(let h=Math.min(o,p);h<=Math.max(o,p);h++){const g=n.blocks[h];g!==this.firstSelectedBlock&&g!==(m?e:i)&&(n.blocks[h].selected=!n.blocks[h].selected,c.clearCache())}}}class Iu extends le{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async i=>{await this.processDrop(i)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",i=>{this.processDragOver(i)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:i,Paste:n,Caret:c}=this.Editor;e.preventDefault(),i.blocks.forEach(p=>{p.dropTarget=!1}),ne.isAtEditor&&!ne.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=i.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,c.positions.END);else{const p=i.setCurrentBlockByChildNode(i.lastBlock.holder);this.Editor.Caret.setToBlock(p,c.positions.END)}await n.processDataTransfer(e.dataTransfer,!0)}processDragStart(){ne.isAtEditor&&!ne.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}const $u=180,Ou=400;class Ru extends le{constructor({config:e,eventsDispatcher:i}){super({config:e,eventsDispatcher:i}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=Ou,this.mutationObserver=new MutationObserver(n=>{this.redactorChanged(n)}),this.eventsDispatcher.on(Ls,n=>{this.particularBlockChanged(n.event)}),this.eventsDispatcher.on(Ms,()=>{this.disable()}),this.eventsDispatcher.on(As,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!we(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let i;this.batchingOnChangeQueue.size===1?i=this.batchingOnChangeQueue.values().next().value:i=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,i),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Vn,{mutations:e})}}const qs=class ea extends le{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const i=e.create({},{},!1);if(e.pasteConfig===!1){this.exceptionList.push(e.name);return}if(!we(i.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(i){de(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",i)}},this.handlePasteEvent=async e=>{const{BlockManager:i,Toolbar:n}=this.Editor,c=i.setCurrentBlockByChildNode(e.target);!c||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||c&&this.exceptionList.includes(c.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,i=!1){const{Tools:n}=this.Editor,c=e.types;if((c.includes?c.includes("Files"):c.contains("Files"))&&!Ve(this.toolsFiles)){await this.processFiles(e.files);return}const o=e.getData(this.MIME_TYPE),p=e.getData("text/plain");let m=e.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}i&&p.trim()&&m.trim()&&(m="<p>"+(m.trim()?m:p)+"</p>");const h=Object.keys(this.toolsTags).reduce((l,d)=>(l[d.toLowerCase()]=this.toolsTags[d].sanitizationConfig??{},l),{}),g=Object.assign({},h,n.getAllInlineToolsSanitizeConfig(),{br:{}}),a=Je(m,g);!a.trim()||a.trim()===p||!U.isHTMLString(a)?await this.processText(p):await this.processText(a,!0)}async processText(e,i=!1){const{Caret:n,BlockManager:c}=this.Editor,o=i?this.processHTML(e):this.processPlain(e);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const p=c.currentBlock&&c.currentBlock.tool.isDefault&&c.currentBlock.isEmpty;o.map(async(m,h)=>this.insertBlock(m,h===0&&p)),c.currentBlock&&n.setToBlock(c.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return lt(e)?[e]:$e(e)?Object.keys(e):[]}getTagsConfig(e){if(e.pasteConfig===!1)return;const i=e.pasteConfig.tags||[],n=[];i.forEach(c=>{const o=this.collectTagNames(c);n.push(...o),o.forEach(p=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,p)){de(`Paste handler for «${e.name}» Tool on «${p}» tag is skipped because it is already used by «${this.toolsTags[p].tool.name}» Tool.`,"warn");return}const m=$e(c)?c[p]:null;this.toolsTags[p.toUpperCase()]={tool:e,sanitizationConfig:m}})}),this.tagsByTool[e.name]=n.map(c=>c.toUpperCase())}getFilesConfig(e){if(e.pasteConfig===!1)return;const{files:i={}}=e.pasteConfig;let{extensions:n,mimeTypes:c}=i;!n&&!c||(n&&!Array.isArray(n)&&(de(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),n=[]),c&&!Array.isArray(c)&&(de(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),c=[]),c&&(c=c.filter(o=>Zc(o)?!0:(de(`MIME type value «${o}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[e.name]={extensions:n||[],mimeTypes:c||[]})}getPatternsConfig(e){e.pasteConfig===!1||!e.pasteConfig.patterns||Ve(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach(([i,n])=>{n instanceof RegExp||de(`Pattern ${n} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:i,pattern:n,tool:e})})}isNativeBehaviour(e){return U.isNativeInput(e)}async processFiles(e){const{BlockManager:i}=this.Editor;let n;n=await Promise.all(Array.from(e).map(o=>this.processFile(o))),n=n.filter(o=>!!o);const c=i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;n.forEach((o,p)=>{i.paste(o.type,o.event,p===0&&c)})}async processFile(e){const i=Qc(e),n=Object.entries(this.toolsFiles).find(([o,{mimeTypes:p,extensions:m}])=>{const[h,g]=e.type.split("/"),a=m.find(d=>d.toLowerCase()===i.toLowerCase()),l=p.find(d=>{const[u,s]=d.split("/");return u===h&&(s===g||s==="*")});return!!a||!!l});if(!n)return;const[c]=n;return{event:this.composePasteEvent("file",{file:e}),type:c}}processHTML(e){const{Tools:i}=this.Editor,n=U.make("DIV");return n.innerHTML=e,this.getNodes(n).map(c=>{let o,p=i.defaultTool,m=!1;switch(c.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=U.make("div"),o.appendChild(c);break;case Node.ELEMENT_NODE:o=c,m=!0,this.toolsTags[o.tagName]&&(p=this.toolsTags[o.tagName].tool);break}const{tags:h}=p.pasteConfig||{tags:[]},g=h.reduce((d,u)=>(this.collectTagNames(u).forEach(s=>{const r=$e(u)?u[s]:null;d[s.toLowerCase()]=r||{}}),d),{}),a=Object.assign({},g,p.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const d=Je(o.outerHTML,a);o=U.make("div",void 0,{innerHTML:d}).firstChild}else o.innerHTML=Je(o.innerHTML,a);const l=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:m,tool:p.name,event:l}}).filter(c=>{const o=U.isEmpty(c.content),p=U.isSingleTag(c.content);return!o||p})}processPlain(e){const{defaultBlock:i}=this.config;if(!e)return[];const n=i;return e.split(/\r?\n/).filter(c=>c.trim()).map(c=>{const o=U.make("div");o.textContent=c;const p=this.composePasteEvent("tag",{data:o});return{content:o,tool:n,isBlock:!1,event:p}})}async processSingleBlock(e){const{Caret:i,BlockManager:n}=this.Editor,{currentBlock:c}=n;if(!c||e.tool!==c.name||!U.containsOnlyInlineElements(e.content.innerHTML)){this.insertBlock(e,(c==null?void 0:c.tool.isDefault)&&c.isEmpty);return}i.insertContentAtCaretPosition(e.content.innerHTML)}async processInlinePaste(e){const{BlockManager:i,Caret:n}=this.Editor,{content:c}=e;if(i.currentBlock&&i.currentBlock.tool.isDefault&&c.textContent.length<ea.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(c.textContent);if(o){const p=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty,m=i.paste(o.tool,o.event,p);n.setToBlock(m,n.positions.END);return}}if(i.currentBlock&&i.currentBlock.currentInput){const o=i.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Je(c.innerHTML,o))}else this.insertBlock(e)}async processPattern(e){const i=this.toolsPatterns.find(n=>{const c=n.pattern.exec(e);return c?e===c.shift():!1});return i?{event:this.composePasteEvent("pattern",{key:i.key,data:e}),tool:i.tool.name}:void 0}insertBlock(e,i=!1){const{BlockManager:n,Caret:c}=this.Editor,{currentBlock:o}=n;let p;if(i&&o&&o.isEmpty){p=n.paste(e.tool,e.event,!0),c.setToBlock(p,c.positions.END);return}p=n.paste(e.tool,e.event),c.setToBlock(p,c.positions.END)}insertEditorJSData(e){const{BlockManager:i,Caret:n,Tools:c}=this.Editor;to(e,o=>c.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:p},m)=>{let h=!1;m===0&&(h=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty);const g=i.insert({tool:o,data:p,replace:h});n.setToBlock(g,n.positions.END)})}processElementNode(e,i,n){const c=Object.keys(this.toolsTags),o=e,{tool:p}=this.toolsTags[o.tagName]||{},m=this.tagsByTool[p==null?void 0:p.name]||[],h=c.includes(o.tagName),g=U.blockElements.includes(o.tagName.toLowerCase()),a=Array.from(o.children).some(({tagName:d})=>c.includes(d)&&!m.includes(d)),l=Array.from(o.children).some(({tagName:d})=>U.blockElements.includes(d.toLowerCase()));if(!g&&!h&&!a)return n.appendChild(o),[...i,n];if(h&&!a||g&&!l&&!a)return[...i,n,o]}getNodes(e){const i=Array.from(e.childNodes);let n;const c=(o,p)=>{if(U.isEmpty(p)&&!U.isSingleTag(p))return o;const m=o[o.length-1];let h=new DocumentFragment;switch(m&&U.isFragment(m)&&(h=o.pop()),p.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(p,o,h),n)return n;break;case Node.TEXT_NODE:return h.appendChild(p),[...o,h];default:return[...o,h]}return[...o,...Array.from(p.childNodes).reduce(c,[])]};return i.reduce(c,[])}composePasteEvent(e,i){return new CustomEvent(e,{detail:i})}};qs.PATTERN_PROCESSING_MAX_LENGTH=450;let Du=qs;class Pu extends le{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:i}=e,n=[];Array.from(i.entries()).forEach(([c,o])=>{o.isReadOnlySupported||n.push(c)}),this.toolsDontSupportReadOnly=n,this.config.readOnly&&n.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(e=!this.readOnlyEnabled,i=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;if(i)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const c=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(c.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new Ts(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let Bu=class Ri extends le{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,i){const n=document.elementFromPoint(e-window.pageXOffset,i-window.pageYOffset);n.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const c=[`.${at.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=n.closest("."+this.Editor.UI.CSS.editorWrapper),p=c.some(m=>!!n.closest(m));!o||p||(this.mousedown=!0,this.startX=e,this.startY=i)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",i=>{this.processMouseDown(i)},!1),this.listeners.on(document.body,"mousemove",Nn(i=>{this.processMouseMove(i)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Nn(i=>{this.processScroll(i)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(U.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,i=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),n=U.make("div",Ri.CSS.overlay,{}),c=U.make("div",Ri.CSS.overlayContainer,{}),o=U.make("div",Ri.CSS.rect,{});return c.appendChild(o),n.appendChild(c),i.appendChild(n),this.overlayRectangle=o,{container:i,overlay:n}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const i=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-i,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:i,leftPos:n,index:c}=this.genInfoForMouseSelection(),o=this.startX>i&&this.mouseX>i,p=this.startX<n&&this.mouseX<n;this.rectCrossesBlocks=!(o||p),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),c!==void 0&&(this.trySelectNextBlock(c),this.inverseSelection(),ne.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const i of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(i);if(!this.rectCrossesBlocks&&e)for(const i of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(i)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,i=this.mouseY-window.pageYOffset,n=document.elementFromPoint(e,i),c=this.Editor.BlockManager.getBlockByChildNode(n);let o;c!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(a=>a.holder===c.holder));const p=this.Editor.BlockManager.lastBlock.holder.querySelector("."+at.CSS.content),m=Number.parseInt(window.getComputedStyle(p).width,10)/2,h=e-m,g=e+m;return{index:o,leftPos:h,rightPos:g}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const i=this.stackOfSelected[this.stackOfSelected.length-1]===e,n=this.stackOfSelected.length,c=1,o=-1,p=0;if(i)return;const m=this.stackOfSelected[n-1]-this.stackOfSelected[n-2]>0;let h=p;n>1&&(h=m?c:o);const g=e>this.stackOfSelected[n-1]&&h===c,a=e<this.stackOfSelected[n-1]&&h===o,l=!(g||a||h===p);if(!l&&(e>this.stackOfSelected[n-1]||this.stackOfSelected[n-1]===void 0)){let s=this.stackOfSelected[n-1]+1||e;for(s;s<=e;s++)this.addBlockInSelection(s);return}if(!l&&e<this.stackOfSelected[n-1]){for(let s=this.stackOfSelected[n-1]-1;s>=e;s--)this.addBlockInSelection(s);return}if(!l)return;let d=n-1,u;for(e>this.stackOfSelected[n-1]?u=()=>e>this.stackOfSelected[d]:u=()=>e<this.stackOfSelected[d];u();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[d]),this.stackOfSelected.pop(),d--}};class Nu extends le{async render(e){return new Promise(i=>{const{Tools:n,BlockManager:c}=this.Editor;if(e.length===0)c.insert();else{const o=e.map(({type:p,data:m,tunes:h,id:g})=>{n.available.has(p)===!1&&(He(`Tool «${p}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),m=this.composeStubDataForTool(p,m,g),p=n.stubTool);let a;try{a=c.composeBlock({id:g,tool:p,data:m,tunes:h})}catch(l){de(`Block «${p}» skipped because of plugins error`,"error",{data:m,error:l}),m=this.composeStubDataForTool(p,m,g),p=n.stubTool,a=c.composeBlock({id:g,tool:p,data:m,tunes:h})}return a});c.insertMany(o)}window.requestIdleCallback(()=>{i()},{timeout:2e3})})}composeStubDataForTool(e,i,n){const{Tools:c}=this.Editor;let o=e;if(c.unavailable.has(e)){const p=c.unavailable.get(e).toolbox;p!==void 0&&p[0].title!==void 0&&(o=p[0].title)}return{savedData:{id:n,type:e,data:i},title:o}}}class Fu extends le{async save(){const{BlockManager:e,Tools:i}=this.Editor,n=e.blocks,c=[];try{n.forEach(m=>{c.push(this.getSavedData(m))});const o=await Promise.all(c),p=await to(o,m=>i.blockTools.get(m).sanitizeConfig);return this.makeOutput(p)}catch(o){He("Saving failed due to the Error %o","error",o)}}async getSavedData(e){const i=await e.save(),n=i&&await e.validate(i.data);return{...i,isValid:n}}makeOutput(e){const i=[];return e.forEach(({id:n,tool:c,data:o,tunes:p,isValid:m})=>{if(!m){de(`Block «${c}» skipped because saved data is invalid`);return}if(c===this.Editor.Tools.stubTool){i.push(o);return}const h={id:n,type:c,data:o,...!Ve(p)&&{tunes:p}};i.push(h)}),{time:+new Date,blocks:i,version:"2.30.7"}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ju='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function Hu(t){const e=document.createElement("div");e.innerHTML=t.trim();const i=document.createDocumentFragment();return i.append(...Array.from(e.childNodes)),i}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let Vu=class ta{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:i,api:n,readOnly:c}){this.api=n,this.readOnly=c,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=i.placeholder?i.placeholder:ta.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=i.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:i}=this._element;i===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const i=Hu(e.text);this._element.appendChild(i),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const i={text:e.detail.data.innerHTML};this._data=i,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:ju,title:"Text"}}},co=class{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:zd,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}};co.isInline=!0;co.title="Bold";let uo=class{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Zd,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}};uo.isInline=!0;uo.title="Italic";let ho=class{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new ne}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=is,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const i=this.selection.findParentTag("A");if(i){this.selection.expandToTag(i),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=tu,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const i=e.getAttribute("href");this.nodes.input.value=i!=="null"?i:"",this.selection.save()}else this.nodes.button.innerHTML=is,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const i=new ne;i.save(),this.selection.restore(),this.selection.removeFakeBackground(),i.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let i=this.nodes.input.value||"";if(!i.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(i)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),de("Incorrect Link pasted","warn",i);return}i=this.prepareLink(i),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(i),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const i=/^\/[^/\s]/.test(e),n=e.substring(0,1)==="#",c=/^\/\/[^/\s]/.test(e);return!i&&!n&&!c&&(e="http://"+e),e}insertLink(e){const i=this.selection.findParentTag("A");i&&this.selection.expandToTag(i),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}};ho.isInline=!0;ho.title="Link";class ia{constructor({api:e}){this.i18nAPI=e.i18n,this.blocksAPI=e.blocks,this.selectionAPI=e.selection,this.toolsAPI=e.tools,this.caretAPI=e.caret}async render(){const e=ne.get(),i=this.blocksAPI.getBlockByElement(e.anchorNode);if(i===void 0)return[];const n=this.toolsAPI.getBlockTools(),c=await $s(i,n);if(c.length===0)return[];const o=c.reduce((g,a)=>{var l;return(l=a.toolbox)==null||l.forEach(d=>{g.push({icon:d.icon,title:Pe.t(je.toolNames,d.title),name:a.name,closeOnActivate:!0,onActivate:async()=>{const u=await this.blocksAPI.convert(i.id,a.name,d.data);this.caretAPI.setToBlock(u,"end")}})}),g},[]),p=await i.getActiveToolboxEntry(),m=p!==void 0?p.icon:Fs,h=!Qt();return{icon:m,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:h,items:o,onOpen:()=>{h&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{h&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}ia.isInline=!0;class na{constructor({data:e,api:i}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=i,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=U.make("div",this.CSS.wrapper),i=iu,n=U.make("div",this.CSS.info),c=U.make("div",this.CSS.title,{textContent:this.title}),o=U.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=i,n.appendChild(c),n.appendChild(o),e.appendChild(n),e}}na.isReadOnlySupported=!0;class Wu extends lo{constructor(){super(...arguments),this.type=St.Inline}get title(){return this.constructable[ao.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class zu extends lo{constructor(){super(...arguments),this.type=St.Tune}create(e,i){return new this.constructable({api:this.api,config:this.settings,block:i,data:e})}}let Xe=class Gt extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,i])=>i.isBlock());return new Gt(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,i])=>i.isInline());return new Gt(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,i])=>i.isTune());return new Gt(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,i])=>i.isInternal);return new Gt(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,i])=>!i.isInternal);return new Gt(e)}};var Uu=Object.defineProperty,Gu=Object.getOwnPropertyDescriptor,oa=(t,e,i,n)=>{for(var c=Gu(e,i),o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=p(e,i,c)||c);return c&&Uu(e,i,c),c};let po=class extends lo{constructor(){super(...arguments),this.type=St.Block,this.inlineTools=new Xe,this.tunes=new Xe}create(e,i,n){return new this.constructable({data:e,block:i,readOnly:n,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Ut.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Ut.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Ut.Toolbox],i=this.config[Ii.Toolbox];if(!Ve(e)&&i!==!1)return i?Array.isArray(e)?Array.isArray(i)?i.map((n,c)=>{const o=e[c];return o?{...o,...n}:n}):[i]:Array.isArray(i)?i:[{...e,...i}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Ut.ConversionConfig]}get enabledInlineTools(){return this.config[Ii.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ii.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Ut.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,i=this.baseSanitizeConfig;if(Ve(e))return i;const n={};for(const c in e)if(Object.prototype.hasOwnProperty.call(e,c)){const o=e[c];$e(o)?n[c]=Object.assign({},i,o):n[c]=o}return n}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(i=>Object.assign(e,i.sanitizeConfig)),Array.from(this.tunes.values()).forEach(i=>Object.assign(e,i.sanitizeConfig)),e}};oa([Xt],po.prototype,"sanitizeConfig");oa([Xt],po.prototype,"baseSanitizeConfig");class Ku{constructor(e,i,n){this.api=n,this.config=e,this.editorConfig=i}get(e){const{class:i,isInternal:n=!1,...c}=this.config[e],o=this.getConstructor(i),p=i[Un.IsTune];return new o({name:e,constructable:i,config:c,api:this.api.getMethodsForTool(e,p),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:n})}getConstructor(e){switch(!0){case e[ao.IsInline]:return Wu;case e[Un.IsTune]:return zu;default:return po}}}class ra{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Ud,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(e+1);if(!i)throw new Error("Unable to move Block down since it is already the last");const n=i.holder,c=n.getBoundingClientRect();let o=Math.abs(window.innerHeight-n.offsetHeight);c.top<window.innerHeight&&(o=window.scrollY+n.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}ra.isTune=!0;class sa{constructor({api:e}){this.api=e}render(){return{icon:Xd,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}sa.isTune=!0;class aa{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:Yd,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(e),n=this.api.blocks.getBlockByIndex(e-1);if(e===0||!i||!n)throw new Error("Unable to move Block up since it is already the first");const c=i.holder,o=n.holder,p=c.getBoundingClientRect(),m=o.getBoundingClientRect();let h;m.top>0?h=Math.abs(p.top)-Math.abs(m.top):h=Math.abs(p.top)+m.height,window.scrollBy(0,-1*h),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}aa.isTune=!0;var Yu=Object.defineProperty,Xu=Object.getOwnPropertyDescriptor,Qu=(t,e,i,n)=>{for(var c=Xu(e,i),o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=p(e,i,c)||c);return c&&Yu(e,i,c),c};class la extends le{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Xe,this.toolsUnavailable=new Xe}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Fn({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new Ku(e,this.config,this.Editor.API);const i=this.getListOfPrepareFunctions(e);if(i.length===0)return Promise.resolve();await Xc(i,n=>{this.toolPrepareMethodSuccess(n)},n=>{this.toolPrepareMethodFallback(n)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(i=>{Object.assign(e,i.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{we(e.reset)&&await e.reset()})}get internalTools(){return{convertTo:{class:ia,isInternal:!0},link:{class:ho,isInternal:!0},bold:{class:co,isInternal:!0},italic:{class:uo,isInternal:!0},paragraph:{class:Vu,inlineToolbar:!0,isInternal:!0},stub:{class:na,isInternal:!0},moveUp:{class:aa,isInternal:!0},delete:{class:sa,isInternal:!0},moveDown:{class:ra,isInternal:!0}}}toolPrepareMethodSuccess(e){const i=this.factory.get(e.toolName);if(i.isInline()){const n=["render"].filter(c=>!i.create()[c]);if(n.length){de(`Incorrect Inline Tool: ${i.name}. Some of required methods is not implemented %o`,"warn",n),this.toolsUnavailable.set(i.name,i);return}}this.toolsAvailable.set(i.name,i)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const i=[];return Object.entries(e).forEach(([n,c])=>{i.push({function:we(c.class.prepare)?c.class.prepare:()=>{},data:{toolName:n,config:c.config}})}),i}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Xe(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(i=>[i,this.inlineTools.get(i)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Xe(["convertTo",...e.enabledInlineTools].map(i=>[i,this.inlineTools.get(i)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const i=new Xe(e.enabledBlockTunes.map(n=>[n,this.blockTunes.get(n)]));e.tunes=new Xe([...i,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const i=new Xe(this.config.tunes.map(n=>[n,this.blockTunes.get(n)]));e.tunes=new Xe([...i,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const i=this.config.tools[e];if(!we(i)&&!we(i.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const i in this.config.tools)$e(this.config.tools[i])?e[i]=this.config.tools[i]:e[i]={class:this.config.tools[i]};return e}}Qu([Xt],la.prototype,"getAllInlineToolsSanitizeConfig");const Zu=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class Ju extends le{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=qr(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${at.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:i,InlineToolbar:n}=this.Editor;return!!(i.opened||n.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,i])=>i.flipper instanceof Ui).some(([e,i])=>i.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:i,InlineToolbar:n}=this.Editor;i.close(),n.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<ks;e!==this.isMobile&&this.eventsDispatcher.emit(gi,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=U.getHolder(this.config.holder),this.nodes.wrapper=U.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=U.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(U.get(e))return;const i=U.make("style",null,{id:e,textContent:Zu.toString()});this.config.style&&!Ve(this.config.style)&&this.config.style.nonce&&i.setAttribute("nonce",this.config.style.nonce),U.prepend(document.head,i)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",i=>{this.redactorClicked(i)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",i=>{this.documentTouched(i)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",i=>{this.documentTouched(i)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",i=>{this.documentKeydown(i)},!0),this.readOnlyMutableListeners.on(document,"mousedown",i=>{this.documentClicked(i)},!0);const e=qr(()=>{this.selectionChanged()},$u);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Nn(i=>{const n=i.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||n&&e!==n&&(e=n,this.eventsDispatcher.emit(Xs,{block:this.Editor.BlockManager.getBlockByChildNode(n)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case oe.ENTER:this.enterPressed(e);break;case oe.BACKSPACE:case oe.DELETE:this.backspacePressed(e);break;case oe.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:i}=this.Editor.BlockManager,n=e.target.closest(`.${this.CSS.editorWrapper}`),c=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(i!==void 0&&n===null){this.Editor.BlockEvents.keydown(e);return}n||i&&c||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:i,BlockSelection:n,Caret:c}=this.Editor;if(n.anyBlockSelected&&!ne.isSelectionExists){const o=i.removeSelectedBlocks(),p=i.insertDefaultBlockAtIndex(o,!0);c.setToBlock(p,c.positions.START),n.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:i,BlockSelection:n}=this.Editor;if(this.someToolbarOpened)return;const c=i.currentBlockIndex>=0;if(n.anyBlockSelected&&!ne.isSelectionExists){n.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&c&&e.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var i,n;if(!e.isTrusted)return;const c=e.target;this.nodes.holder.contains(c)||ne.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const o=(i=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:i.contains(c),p=(n=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:n.contains(c),m=o||p;if(this.Editor.BlockSettings.opened&&!m){this.Editor.BlockSettings.close();const h=this.Editor.BlockManager.getBlockByChildNode(c);this.Editor.Toolbar.moveAndOpen(h)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let i=e.target;if(i===this.nodes.redactor){const n=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,c=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;i=document.elementFromPoint(n,c)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(i)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!ne.isCollapsed)return;const i=e.target,n=e.metaKey||e.ctrlKey;if(U.isAnchor(i)&&n){e.stopImmediatePropagation(),e.stopPropagation();const c=i.getAttribute("href"),o=qc(c);td(o);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const i=this.Editor.BlockManager.getBlockByIndex(-1),n=U.offset(i.holder).bottom,c=e.pageY,{BlockSelection:o}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!o.anyBlockSelected&&n<c){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:p,Caret:m,Toolbar:h}=this.Editor;(!p.lastBlock.tool.isDefault||!p.lastBlock.isEmpty)&&p.insertAtEnd(),m.setToTheLastBlock(),h.moveAndOpen(p.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:i}=this.Editor,n=ne.anchorElement;if(e.isCrossBlockSelectionStarted&&i.anyBlockSelected&&ne.get().removeAllRanges(),!n){ne.range||this.Editor.InlineToolbar.close();return}const c=n.closest(`.${at.CSS.content}`);(c===null||c.closest(`.${ne.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(n)||this.Editor.InlineToolbar.close(),n.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(i){const n=i.target;Es(n)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}const qu={BlocksAPI:hd,CaretAPI:fd,EventsAPI:gd,I18nAPI:md,API:vd,InlineToolbarAPI:yd,ListenersAPI:bd,NotifierAPI:Ed,ReadOnlyAPI:xd,SanitizerAPI:Id,SaverAPI:$d,SelectionAPI:Od,ToolsAPI:Rd,StylesAPI:Dd,ToolbarAPI:Pd,TooltipAPI:Hd,UiAPI:Vd,BlockSettings:fu,Toolbar:ku,InlineToolbar:Eu,BlockEvents:xu,BlockManager:Su,BlockSelection:Lu,Caret:Mu,CrossBlockSelection:Au,DragNDrop:Iu,ModificationsObserver:Ru,Paste:Du,ReadOnly:Pu,RectangleSelection:Bu,Renderer:Nu,Saver:Fu,Tools:la,UI:Ju};class eh{constructor(e){this.moduleInstances={},this.eventsDispatcher=new bi;let i,n;this.isReady=new Promise((c,o)=>{i=c,n=o}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:c,Caret:o,UI:p,ModificationsObserver:m}=this.moduleInstances;p.checkEmptiness(),m.enable(),this.configuration.autofocus&&o.setToBlock(c.blocks[0],o.positions.START),i()}).catch(c=>{de(`Editor.js is not ready because of ${c}`,"error"),n(c)})}set configuration(e){var i,n;$e(e)?this.config={...e}:this.config={holder:e},jn(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=bs.VERBOSE),Kc(this.config.logLevel),jn(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const c={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ve(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[c]}),this.config.readOnly=this.config.readOnly||!1,(i=this.config.i18n)!=null&&i.messages&&Pe.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((n=this.config.i18n)==null?void 0:n.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:i}=this.config;if(e&&i)throw Error("«holderId» and «holder» param can't assign at the same time.");if(lt(i)&&!U.get(i))throw Error(`element with ID «${i}» is missing. Pass correct holder's ID.`);if(i&&$e(i)&&!U.isElement(i))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,i)=>e.then(async()=>{try{await this.moduleInstances[i].prepare()}catch(n){if(n instanceof Ts)throw new Error(n.message);de(`Module ${i} was skipped because of %o`,"warn",n)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(qu).forEach(([e,i])=>{try{this.moduleInstances[e]=new i({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(n){de("[constructModules]",`Module ${e} skipped because`,"error",n)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const i={};for(const n in this.moduleInstances)n!==e&&(i[n]=this.moduleInstances[n]);return i}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class th{static get version(){return"2.30.7"}constructor(e){let i=()=>{};$e(e)&&we(e.onReady)&&(i=e.onReady);const n=new eh(e);this.isReady=n.isReady.then(()=>{this.exportAPI(n),i()})}exportAPI(e){const i=["configuration"],n=()=>{Object.values(e.moduleInstances).forEach(c=>{we(c.destroy)&&c.destroy(),c.listeners.removeAll()}),jd(),e=null;for(const c in this)Object.prototype.hasOwnProperty.call(this,c)&&delete this[c];Object.setPrototypeOf(this,null)};i.forEach(c=>{this[c]=e[c]}),this.destroy=n,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([c,o])=>{Object.entries(o).forEach(([p,m])=>{this[m]=e.moduleInstances.API.methods[c][p]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ih='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',nh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',oh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',rh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',sh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',ah='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',lh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let ch=class{constructor({data:e,config:i,api:n,readOnly:c}){this.api=n,this.readOnly=c,this._settings=i,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){const i={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(i.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(i.level=parseInt(e.level.toString()))),i}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const i=this.getTag();i.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(i,this._element),this._element=i}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(i=>i.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(i=>i.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:ih},{number:2,tag:"H2",svg:nh},{number:3,tag:"H3",svg:oh},{number:4,tag:"H4",svg:rh},{number:5,tag:"H5",svg:sh},{number:6,tag:"H6",svg:ah}];return this._settings.levels?e.filter(i=>this._settings.levels.includes(i.number)):e}onPaste(e){const i=e.detail;if("data"in i){const n=i.data;let c=this.defaultLevel.number;switch(n.tagName){case"H1":c=1;break;case"H2":c=2;break;case"H3":c=3;break;case"H4":c=4;break;case"H5":c=5;break;case"H6":c=6;break}this._settings.levels&&(c=this._settings.levels.reduce((o,p)=>Math.abs(p-c)<Math.abs(o-c)?p:o)),this.data={level:c,text:n.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:lh,title:"Heading"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const dh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function uh(t){const e=document.createElement("div");e.innerHTML=t.trim();const i=document.createDocumentFragment();return i.append(...Array.from(e.childNodes)),i}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let hh=class ca{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:i,api:n,readOnly:c}){this.api=n,this.readOnly=c,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=i.placeholder?i.placeholder:ca.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=i.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;const{textContent:i}=this._element;i===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const i=uh(e.text);this._element.appendChild(i),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const i={text:e.detail.data.innerHTML};this._data=i,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:dh,title:"Text"}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-underline{text-decoration:underline}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ph='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>',da=class ai{constructor(e){this.tag="U",this.api=e.api,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"cdx-underline"}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;const i=this.api.selection.findParentTag(this.tag,ai.CSS);i?this.unwrap(i):this.wrap(e)}wrap(e){const i=document.createElement(this.tag);i.classList.add(ai.CSS),i.appendChild(e.extractContents()),e.insertNode(i),this.api.selection.expandToTag(i)}unwrap(e){var i;this.api.selection.expandToTag(e);const n=window.getSelection();if(!n)return;const c=n.getRangeAt(0);if(!c)return;const o=c.extractContents();o&&((i=e.parentNode)==null||i.removeChild(e),c.insertNode(o),n.removeAllRanges(),n.addRange(c))}checkState(){var e;const i=this.api.selection.findParentTag(this.tag,ai.CSS);return(e=this.button)==null||e.classList.toggle(this.iconClasses.active,!!i),!!i}get toolboxIcon(){return ph}static get sanitize(){return{u:{class:ai.CSS}}}};da.isInline=!0;let fh=da;(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const gh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';let mh=class li{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let i=this.api.selection.findParentTag(this.tag,li.CSS);i?this.unwrap(i):this.wrap(e)}wrap(e){let i=document.createElement(this.tag);i.classList.add(li.CSS),i.appendChild(e.extractContents()),e.insertNode(i),this.api.selection.expandToTag(i)}unwrap(e){var i;this.api.selection.expandToTag(e);const n=window.getSelection();if(!n)return;const c=n.getRangeAt(0),o=c.extractContents();(i=e.parentNode)==null||i.removeChild(e),c.insertNode(o),n.removeAllRanges(),n.addRange(c)}checkState(){const e=this.api.selection.findParentTag(this.tag,li.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return gh}static get sanitize(){return{code:{class:li.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const vh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',yh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',bh='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';var Ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var c=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,c.get?c:{enumerable:!0,get:function(){return t[n]}})}),i}var Di={},fo={},go={};Object.defineProperty(go,"__esModule",{value:!0});go.allInputsSelector=_h;function _h(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=go;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(fo);var At={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.isNativeInput=kh;function kh(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=mo;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(At);var ua={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.append=Eh;function Eh(t,e){Array.isArray(e)?e.forEach(function(i){t.appendChild(i)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=vo;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(ua);var yo={},bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.blockElements=xh;function xh(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=bo;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(yo);var ha={},wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.calculateBaseline=Ch;function Ch(t){var e=window.getComputedStyle(t),i=parseFloat(e.fontSize),n=parseFloat(e.lineHeight)||i*1.2,c=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),p=parseFloat(e.marginTop),m=i*.8,h=(n-i)/2,g=p+o+c+h+m;return g}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=wo;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(ha);var pa={},_o={},ko={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.isContentEditable=Th;function Th(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=Eo;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(ko);Object.defineProperty(_o,"__esModule",{value:!0});_o.canSetCaret=Mh;var Sh=At,Lh=ko;function Mh(t){var e=!0;if((0,Sh.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,Lh.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=_o;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(pa);var en={},xo={};function Ah(t,e,i){const n=i.value!==void 0?"value":"get",c=i[n],o=`#${e}Cache`;if(i[n]=function(...p){return this[o]===void 0&&(this[o]=c.apply(this,p)),this[o]},n==="get"&&i.set){const p=i.set;i.set=function(m){delete t[o],p.apply(this,m)}}return i}function fa(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(i=>window.navigator.appVersion.toLowerCase().indexOf(i)!==-1);return e!==void 0&&(t[e]=!0),t}function Co(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function Ih(t){return!Co(t)}const $h=()=>typeof window<"u"&&window.navigator!==null&&Co(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Oh(t){const e=fa();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function Rh(t){return t[0].toUpperCase()+t.slice(1)}function Dh(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const i=window.getSelection(),n=document.createRange();if(n.selectNode(e),i===null)throw new Error("Cannot copy text to clipboard");i.removeAllRanges(),i.addRange(n),document.execCommand("copy"),document.body.removeChild(e)}function Ph(t,e,i){let n;return(...c)=>{const o=this,p=()=>{n=void 0,i!==!0&&t.apply(o,c)},m=i===!0&&n!==void 0;window.clearTimeout(n),n=window.setTimeout(p,e),m&&t.apply(o,c)}}function vt(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Bh(t){return vt(t)==="boolean"}function ga(t){return vt(t)==="function"||vt(t)==="asyncfunction"}function Nh(t){return ga(t)&&/^\s*class\s+/.test(t.toString())}function Fh(t){return vt(t)==="number"}function Pi(t){return vt(t)==="object"}function jh(t){return Promise.resolve(t)===t}function Hh(t){return vt(t)==="string"}function Vh(t){return vt(t)==="undefined"}function Kn(t,...e){if(!e.length)return t;const i=e.shift();if(Pi(t)&&Pi(i))for(const n in i)Pi(i[n])?(t[n]===void 0&&Object.assign(t,{[n]:{}}),Kn(t[n],i[n])):Object.assign(t,{[n]:i[n]});return Kn(t,...e)}function Wh(t,e,i){const n=`«${e}» is deprecated and will be removed in the next major release. Please use the «${i}» instead.`;t&&console.warn(n)}function zh(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function Uh(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const Gh={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Kh={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class Yh{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((i,n)=>{this.completed=this.completed.then(e).then(i).catch(n)})}}function Xh(t,e,i=void 0){let n,c,o,p=null,m=0;i||(i={});const h=function(){m=i.leading===!1?0:Date.now(),p=null,o=t.apply(n,c),p===null&&(n=c=null)};return function(){const g=Date.now();!m&&i.leading===!1&&(m=g);const a=e-(g-m);return n=this,c=arguments,a<=0||a>e?(p&&(clearTimeout(p),p=null),m=g,o=t.apply(n,c),p===null&&(n=c=null)):!p&&i.trailing!==!1&&(p=setTimeout(h,a)),o}}const Qh=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:Yh,beautifyShortcut:Oh,cacheable:Ah,capitalize:Rh,copyTextToClipboard:Dh,debounce:Ph,deepMerge:Kn,deprecationAssert:Wh,getUserOS:fa,getValidUrl:zh,isBoolean:Bh,isClass:Nh,isEmpty:Ih,isFunction:ga,isIosDevice:$h,isNumber:Fh,isObject:Pi,isPrintableKey:Uh,isPromise:jh,isString:Hh,isUndefined:Vh,keyCodes:Gh,mouseButtons:Kh,notEmpty:Co,throttle:Xh,typeOf:vt},Symbol.toStringTag,{value:"Module"})),To=wh(Qh);Object.defineProperty(xo,"__esModule",{value:!0});xo.containsOnlyInlineElements=qh;var Zh=To,Jh=yo;function qh(t){var e;(0,Zh.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var i=function(n){return!(0,Jh.blockElements)().includes(n.tagName.toLowerCase())&&Array.from(n.children).every(i)};return Array.from(e.children).every(i)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=xo;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(en);var ma={},So={},tn={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.make=ep;function ep(t,e,i){var n;e===void 0&&(e=null),i===void 0&&(i={});var c=document.createElement(t);if(Array.isArray(e)){var o=e.filter(function(m){return m!==void 0});(n=c.classList).add.apply(n,o)}else e!==null&&c.classList.add(e);for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(c[p]=i[p]);return c}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=Lo;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(tn);Object.defineProperty(So,"__esModule",{value:!0});So.fragmentToString=ip;var tp=tn;function ip(t){var e=(0,tp.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=So;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(ma);var va={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.getContentLength=op;var np=At;function op(t){var e,i;return(0,np.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(i=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=Mo;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(va);var Ao={},Io={},ls=Ki&&Ki.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,c=e.length,o;n<c;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Io,"__esModule",{value:!0});Io.getDeepestBlockElements=ya;var rp=en;function ya(t){return(0,rp.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,i){return ls(ls([],e,!0),ya(i),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=Io;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Ao);var ba={},$o={},nn={},Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.isLineBreakTag=sp;function sp(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=Oo;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(nn);var on={},Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.isSingleTag=ap;function ap(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=Ro;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(on);Object.defineProperty($o,"__esModule",{value:!0});$o.getDeepestNode=wa;var lp=At,cp=nn,dp=on;function wa(t,e){e===void 0&&(e=!1);var i=e?"lastChild":"firstChild",n=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[i]){var c=t[i];if((0,dp.isSingleTag)(c)&&!(0,lp.isNativeInput)(c)&&!(0,cp.isLineBreakTag)(c))if(c[n])c=c[n];else if(c.parentNode!==null&&c.parentNode[n])c=c.parentNode[n];else return c.parentNode;return wa(c,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=$o;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(ba);var _a={},Do={},Ci=Ki&&Ki.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,c=e.length,o;n<c;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Do,"__esModule",{value:!0});Do.findAllInputs=gp;var up=en,hp=Ao,pp=fo,fp=At;function gp(t){return Array.from(t.querySelectorAll((0,pp.allInputsSelector)())).reduce(function(e,i){return(0,fp.isNativeInput)(i)||(0,up.containsOnlyInlineElements)(i)?Ci(Ci([],e,!0),[i],!1):Ci(Ci([],e,!0),(0,hp.getDeepestBlockElements)(i),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=Do;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(_a);var ka={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.isCollapsedWhitespaces=mp;function mp(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=Po;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(ka);var Bo={},No={};Object.defineProperty(No,"__esModule",{value:!0});No.isElement=yp;var vp=To;function yp(t){return(0,vp.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=No;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Bo);var Ea={},Fo={},jo={},Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.isLeaf=bp;function bp(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=Ho;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(jo);var Vo={},Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.isNodeEmpty=xp;var wp=nn,_p=Bo,kp=At,Ep=on;function xp(t,e){var i="";return(0,Ep.isSingleTag)(t)&&!(0,wp.isLineBreakTag)(t)?!1:((0,_p.isElement)(t)&&(0,kp.isNativeInput)(t)?i=t.value:t.textContent!==null&&(i=t.textContent.replace("​","")),e!==void 0&&(i=i.replace(new RegExp(e,"g"),"")),i.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=Wo;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Vo);Object.defineProperty(Fo,"__esModule",{value:!0});Fo.isEmpty=Sp;var Cp=jo,Tp=Vo;function Sp(t,e){t.normalize();for(var i=[t];i.length>0;){var n=i.shift();if(n){if(t=n,(0,Cp.isLeaf)(t)&&!(0,Tp.isNodeEmpty)(t,e))return!1;i.push.apply(i,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=Fo;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(Ea);var xa={},zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.isFragment=Mp;var Lp=To;function Mp(t){return(0,Lp.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=zo;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(xa);var Ca={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.isHTMLString=Ip;var Ap=tn;function Ip(t){var e=(0,Ap.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=Uo;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Ca);var Ta={},Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.offset=$p;function $p(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,c=e.top+n,o=e.left+i;return{top:c,left:o,bottom:c+e.height,right:o+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Go;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(Ta);var Sa={},Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.prepend=Op;function Op(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(i){return t.prepend(i)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=Ko;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(Sa);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=fo;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var i=At;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return i.isNativeInput}});var n=ua;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return n.append}});var c=yo;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return c.blockElements}});var o=ha;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var p=pa;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return p.canSetCaret}});var m=en;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return m.containsOnlyInlineElements}});var h=ma;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return h.fragmentToString}});var g=va;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return g.getContentLength}});var a=Ao;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return a.getDeepestBlockElements}});var l=ba;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return l.getDeepestNode}});var d=_a;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return d.findAllInputs}});var u=ka;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return u.isCollapsedWhitespaces}});var s=ko;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return s.isContentEditable}});var r=Bo;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return r.isElement}});var f=Ea;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return f.isEmpty}});var v=xa;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return v.isFragment}});var y=Ca;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return y.isHTMLString}});var C=jo;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return C.isLeaf}});var x=Vo;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return x.isNodeEmpty}});var w=nn;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return w.isLineBreakTag}});var k=on;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return k.isSingleTag}});var T=tn;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return T.make}});var A=Ta;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return A.offset}});var M=Sa;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return M.prepend}})})(Di);var La=(t=>(t.Left="left",t.Center="center",t))(La||{});let Rp=class Bi{constructor({data:e,config:i,api:n,readOnly:c,block:o}){const{DEFAULT_ALIGNMENT:p}=Bi;this.api=n,this.readOnly=c,this.quotePlaceholder=n.i18n.t((i==null?void 0:i.quotePlaceholder)??Bi.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=n.i18n.t((i==null?void 0:i.captionPlaceholder)??Bi.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(La).includes(e.alignment)?e.alignment:(i==null?void 0:i.defaultAlignment)??p},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=o}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:bh,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:yh},{name:"center",icon:vh}]}render(){const e=Di.make("blockquote",[this.css.baseClass,this.css.wrapper]),i=Di.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),n=Di.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return i.dataset.placeholder=this.quotePlaceholder,n.dataset.placeholder=this.captionPlaceholder,e.appendChild(i),e.appendChild(n),e}save(e){const i=e.querySelector(`.${this.css.text}`),n=e.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:(i==null?void 0:i.innerHTML)??"",caption:(n==null?void 0:n.innerHTML)??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=i=>i&&i[0].toUpperCase()+i.slice(1);return this.settings.map(i=>({icon:i.icon,label:this.api.i18n.t(`Align ${e(i.name)}`),onActivate:()=>this._toggleTune(i.name),isActive:this.data.alignment===i.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e,this.block.dispatchChange()}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Dp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let Pp=class ci{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let i=this.api.selection.findParentTag(this.tag,ci.CSS);i?this.unwrap(i):this.wrap(e)}wrap(e){let i=document.createElement(this.tag);i.classList.add(ci.CSS),i.appendChild(e.extractContents()),e.insertNode(i),this.api.selection.expandToTag(i)}unwrap(e){this.api.selection.expandToTag(e);let i=window.getSelection(),n=i.getRangeAt(0),c=n.extractContents();e.parentNode.removeChild(e),n.insertNode(c),i.removeAllRanges(),i.addRange(n)}checkState(){const e=this.api.selection.findParentTag(this.tag,ci.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return Dp}static get sanitize(){return{mark:{class:ci.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Bp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */class Np{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:e,config:i,api:n}){this.api=n,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._element=this.drawView(),this.data=e}drawView(){let e=document.createElement("div");return e.classList.add(this._CSS.wrapper,this._CSS.block),e}render(){return this._element}save(e){return{}}static get toolbox(){return{icon:Bp,title:"Delimiter"}}static get pasteConfig(){return{tags:["HR"]}}onPaste(e){this.data={}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Fp={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const i={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let n=e.slice(1).split("&").map(c=>{const[o,p]=c.split("=");return!t&&o==="v"?(t=p,null):!i[o]||p==="LL"||p.startsWith("RDMM")||p.startsWith("FL")?null:`${i[o]}=${p}`}).filter(c=>!!c);return t+"?"+n.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/^https:\/\/(?:www\.)?instagram\.com\/(?:reel|p)\/(.*)/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400,id:t=>{var e;return(e=t==null?void 0:t[0])==null?void 0:e.split("/")[0]}},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function Yn(t,e,i){var n,c,o,p,m;e==null&&(e=100);function h(){var a=Date.now()-p;a<e&&a>=0?n=setTimeout(h,e-a):(n=null,i||(m=t.apply(o,c),o=c=null))}var g=function(){o=this,c=arguments,p=Date.now();var a=i&&!n;return n||(n=setTimeout(h,e)),a&&(m=t.apply(o,c),o=c=null),m};return g.clear=function(){n&&(clearTimeout(n),n=null)},g.flush=function(){n&&(m=t.apply(o,c),o=c=null,clearTimeout(n),n=null)},g}Yn.debounce=Yn;var jp=Yn;let Hp=class xt{constructor({data:e,api:i,readOnly:n}){this.api=i,this._data={},this.element=null,this.readOnly=n,this.data=e}set data(e){var i;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:c,embed:o,width:p,height:m,caption:h=""}=e;this._data={service:n||this.data.service,source:c||this.data.source,embed:o||this.data.embed,width:p||this.data.width,height:m||this.data.height,caption:h||this.data.caption||""};const g=this.element;g&&((i=g.parentNode)==null||i.replaceChild(this.render(),g))}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const m=document.createElement("div");return this.element=m,m}const{html:e}=xt.services[this.data.service],i=document.createElement("div"),n=document.createElement("div"),c=document.createElement("template"),o=this.createPreloader();i.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),n.classList.add(this.CSS.input,this.CSS.caption),i.appendChild(o),n.contentEditable=(!this.readOnly).toString(),n.dataset.placeholder=this.api.i18n.t("Enter a caption"),n.innerHTML=this.data.caption||"",c.innerHTML=e,c.content.firstChild.setAttribute("src",this.data.embed),c.content.firstChild.classList.add(this.CSS.content);const p=this.embedIsReady(i);return c.content.firstChild&&i.appendChild(c.content.firstChild),i.appendChild(n),p.then(()=>{i.classList.remove(this.CSS.containerLoading)}),this.element=i,i}createPreloader(){const e=document.createElement("preloader"),i=document.createElement("div");return i.textContent=this.data.source,e.classList.add(this.CSS.preloader),i.classList.add(this.CSS.url),e.appendChild(i),e}save(){return this.data}onPaste(e){var i;const{key:n,data:c}=e.detail,{regex:o,embedUrl:p,width:m,height:h,id:g=d=>d.shift()||""}=xt.services[n],a=(i=o.exec(c))==null?void 0:i.slice(1),l=a?p.replace(/<%= remote_id %>/g,g(a)):"";this.data={service:n,source:c,embed:l,width:m,height:h}}static prepare({config:e={}}){const{services:i={}}=e;let n=Object.entries(Fp);const c=Object.entries(i).filter(([p,m])=>typeof m=="boolean"&&m===!0).map(([p])=>p),o=Object.entries(i).filter(([p,m])=>typeof m=="object").filter(([p,m])=>xt.checkServiceConfig(m)).map(([p,m])=>{const{regex:h,embedUrl:g,html:a,height:l,width:d,id:u}=m;return[p,{regex:h,embedUrl:g,html:a,height:l,width:d,id:u}]});c.length&&(n=n.filter(([p])=>c.includes(p))),n=n.concat(o),xt.services=n.reduce((p,[m,h])=>m in p?(p[m]=Object.assign({},p[m],h),p):(p[m]=h,p),{}),xt.patterns=n.reduce((p,[m,h])=>(h&&typeof h!="boolean"&&(p[m]=h.regex),p),{})}static checkServiceConfig(e){const{regex:i,embedUrl:n,html:c,height:o,width:p,id:m}=e;let h=!!(i&&i instanceof RegExp)&&!!(n&&typeof n=="string")&&!!(c&&typeof c=="string");return h=h&&(m!==void 0?m instanceof Function:!0),h=h&&(o!==void 0?Number.isFinite(o):!0),h=h&&(p!==void 0?Number.isFinite(p):!0),h}static get pasteConfig(){return{patterns:xt.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let i;return new Promise((n,c)=>{i=new MutationObserver(jp.debounce(n,450)),i.observe(e,{childList:!0,subtree:!0})}).then(()=>{i.disconnect()})}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Vp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',cs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',ds='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',us='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',Wp='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',zp='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',Up='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',Gp='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',Kp='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',Yp='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var c=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,c.get?c:{enumerable:!0,get:function(){return t[n]}})}),i}var ge={},Yo={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.allInputsSelector=Qp;function Qp(){var t=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+t.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.allInputsSelector=void 0;var e=Xo;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Yo);var It={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.isNativeInput=Zp;function Zp(t){var e=["INPUT","TEXTAREA"];return t&&t.tagName?e.includes(t.tagName):!1}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeInput=void 0;var e=Qo;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(It);var Ma={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.append=Jp;function Jp(t,e){Array.isArray(e)?e.forEach(function(i){t.appendChild(i)}):t.appendChild(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.append=void 0;var e=Zo;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return e.append}})})(Ma);var Jo={},qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.blockElements=qp;function qp(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.blockElements=void 0;var e=qo;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Jo);var Aa={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.calculateBaseline=ef;function ef(t){var e=window.getComputedStyle(t),i=parseFloat(e.fontSize),n=parseFloat(e.lineHeight)||i*1.2,c=parseFloat(e.paddingTop),o=parseFloat(e.borderTopWidth),p=parseFloat(e.marginTop),m=i*.8,h=(n-i)/2,g=p+o+c+h+m;return g}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBaseline=void 0;var e=er;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(Aa);var Ia={},tr={},ir={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.isContentEditable=tf;function tf(t){return t.contentEditable==="true"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isContentEditable=void 0;var e=nr;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(ir);Object.defineProperty(tr,"__esModule",{value:!0});tr.canSetCaret=rf;var nf=It,of=ir;function rf(t){var e=!0;if((0,nf.isNativeInput)(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,of.isContentEditable)(t);return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.canSetCaret=void 0;var e=tr;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(Ia);var rn={},or={};function sf(t,e,i){const n=i.value!==void 0?"value":"get",c=i[n],o=`#${e}Cache`;if(i[n]=function(...p){return this[o]===void 0&&(this[o]=c.apply(this,p)),this[o]},n==="get"&&i.set){const p=i.set;i.set=function(m){delete t[o],p.apply(this,m)}}return i}function $a(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(i=>window.navigator.appVersion.toLowerCase().indexOf(i)!==-1);return e!==void 0&&(t[e]=!0),t}function rr(t){return t!=null&&t!==""&&(typeof t!="object"||Object.keys(t).length>0)}function af(t){return!rr(t)}const lf=()=>typeof window<"u"&&window.navigator!==null&&rr(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function cf(t){const e=$a();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function df(t){return t[0].toUpperCase()+t.slice(1)}function uf(t){const e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=t,document.body.appendChild(e);const i=window.getSelection(),n=document.createRange();if(n.selectNode(e),i===null)throw new Error("Cannot copy text to clipboard");i.removeAllRanges(),i.addRange(n),document.execCommand("copy"),document.body.removeChild(e)}function hf(t,e,i){let n;return(...c)=>{const o=this,p=()=>{n=void 0,i!==!0&&t.apply(o,c)},m=i===!0&&n!==void 0;window.clearTimeout(n),n=window.setTimeout(p,e),m&&t.apply(o,c)}}function yt(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function pf(t){return yt(t)==="boolean"}function Oa(t){return yt(t)==="function"||yt(t)==="asyncfunction"}function ff(t){return Oa(t)&&/^\s*class\s+/.test(t.toString())}function gf(t){return yt(t)==="number"}function Ni(t){return yt(t)==="object"}function mf(t){return Promise.resolve(t)===t}function vf(t){return yt(t)==="string"}function yf(t){return yt(t)==="undefined"}function Xn(t,...e){if(!e.length)return t;const i=e.shift();if(Ni(t)&&Ni(i))for(const n in i)Ni(i[n])?(t[n]===void 0&&Object.assign(t,{[n]:{}}),Xn(t[n],i[n])):Object.assign(t,{[n]:i[n]});return Xn(t,...e)}function bf(t,e,i){const n=`«${e}» is deprecated and will be removed in the next major release. Please use the «${i}» instead.`;t&&console.warn(n)}function wf(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function _f(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}const kf={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Ef={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class xf{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((i,n)=>{this.completed=this.completed.then(e).then(i).catch(n)})}}function Cf(t,e,i=void 0){let n,c,o,p=null,m=0;i||(i={});const h=function(){m=i.leading===!1?0:Date.now(),p=null,o=t.apply(n,c),p===null&&(n=c=null)};return function(){const g=Date.now();!m&&i.leading===!1&&(m=g);const a=e-(g-m);return n=this,c=arguments,a<=0||a>e?(p&&(clearTimeout(p),p=null),m=g,o=t.apply(n,c),p===null&&(n=c=null)):!p&&i.trailing!==!1&&(p=setTimeout(h,a)),o}}const Tf=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:xf,beautifyShortcut:cf,cacheable:sf,capitalize:df,copyTextToClipboard:uf,debounce:hf,deepMerge:Xn,deprecationAssert:bf,getUserOS:$a,getValidUrl:wf,isBoolean:pf,isClass:ff,isEmpty:af,isFunction:Oa,isIosDevice:lf,isNumber:gf,isObject:Ni,isPrintableKey:_f,isPromise:mf,isString:vf,isUndefined:yf,keyCodes:kf,mouseButtons:Ef,notEmpty:rr,throttle:Cf,typeOf:yt},Symbol.toStringTag,{value:"Module"})),sr=Xp(Tf);Object.defineProperty(or,"__esModule",{value:!0});or.containsOnlyInlineElements=Mf;var Sf=sr,Lf=Jo;function Mf(t){var e;(0,Sf.isString)(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;var i=function(n){return!(0,Lf.blockElements)().includes(n.tagName.toLowerCase())&&Array.from(n.children).every(i)};return Array.from(e.children).every(i)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.containsOnlyInlineElements=void 0;var e=or;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(rn);var Ra={},ar={},sn={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.make=Af;function Af(t,e,i){var n;e===void 0&&(e=null),i===void 0&&(i={});var c=document.createElement(t);if(Array.isArray(e)){var o=e.filter(function(m){return m!==void 0});(n=c.classList).add.apply(n,o)}else e!==null&&c.classList.add(e);for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(c[p]=i[p]);return c}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.make=void 0;var e=lr;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return e.make}})})(sn);Object.defineProperty(ar,"__esModule",{value:!0});ar.fragmentToString=$f;var If=sn;function $f(t){var e=(0,If.make)("div");return e.appendChild(t),e.innerHTML}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentToString=void 0;var e=ar;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(Ra);var Da={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.getContentLength=Rf;var Of=It;function Rf(t){var e,i;return(0,Of.isNativeInput)(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:(i=(e=t.textContent)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContentLength=void 0;var e=cr;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(Da);var dr={},ur={},hs=Yi&&Yi.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,c=e.length,o;n<c;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ur,"__esModule",{value:!0});ur.getDeepestBlockElements=Pa;var Df=rn;function Pa(t){return(0,Df.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce(function(e,i){return hs(hs([],e,!0),Pa(i),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestBlockElements=void 0;var e=ur;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(dr);var Ba={},hr={},an={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.isLineBreakTag=Pf;function Pf(t){return["BR","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLineBreakTag=void 0;var e=pr;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(an);var ln={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.isSingleTag=Bf;function Bf(t){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleTag=void 0;var e=fr;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(ln);Object.defineProperty(hr,"__esModule",{value:!0});hr.getDeepestNode=Na;var Nf=It,Ff=an,jf=ln;function Na(t,e){e===void 0&&(e=!1);var i=e?"lastChild":"firstChild",n=e?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[i]){var c=t[i];if((0,jf.isSingleTag)(c)&&!(0,Nf.isNativeInput)(c)&&!(0,Ff.isLineBreakTag)(c))if(c[n])c=c[n];else if(c.parentNode!==null&&c.parentNode[n])c=c.parentNode[n];else return c.parentNode;return Na(c,e)}return t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDeepestNode=void 0;var e=hr;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(Ba);var Fa={},gr={},Ti=Yi&&Yi.__spreadArray||function(t,e,i){if(i||arguments.length===2)for(var n=0,c=e.length,o;n<c;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(gr,"__esModule",{value:!0});gr.findAllInputs=Uf;var Hf=rn,Vf=dr,Wf=Yo,zf=It;function Uf(t){return Array.from(t.querySelectorAll((0,Wf.allInputsSelector)())).reduce(function(e,i){return(0,zf.isNativeInput)(i)||(0,Hf.containsOnlyInlineElements)(i)?Ti(Ti([],e,!0),[i],!1):Ti(Ti([],e,!0),(0,Vf.getDeepestBlockElements)(i),!0)},[])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAllInputs=void 0;var e=gr;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(Fa);var ja={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.isCollapsedWhitespaces=Gf;function Gf(t){return!/[^\t\n\r ]/.test(t)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsedWhitespaces=void 0;var e=mr;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(ja);var vr={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.isElement=Yf;var Kf=sr;function Yf(t){return(0,Kf.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.ELEMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=void 0;var e=yr;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(vr);var Ha={},br={},wr={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.isLeaf=Xf;function Xf(t){return t===null?!1:t.childNodes.length===0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLeaf=void 0;var e=_r;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(wr);var kr={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.isNodeEmpty=eg;var Qf=an,Zf=vr,Jf=It,qf=ln;function eg(t,e){var i="";return(0,qf.isSingleTag)(t)&&!(0,Qf.isLineBreakTag)(t)?!1:((0,Zf.isElement)(t)&&(0,Jf.isNativeInput)(t)?i=t.value:t.textContent!==null&&(i=t.textContent.replace("​","")),e!==void 0&&(i=i.replace(new RegExp(e,"g"),"")),i.trim().length===0)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeEmpty=void 0;var e=Er;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(kr);Object.defineProperty(br,"__esModule",{value:!0});br.isEmpty=ng;var tg=wr,ig=kr;function ng(t,e){t.normalize();for(var i=[t];i.length>0;){var n=i.shift();if(n){if(t=n,(0,tg.isLeaf)(t)&&!(0,ig.isNodeEmpty)(t,e))return!1;i.push.apply(i,Array.from(t.childNodes))}}return!0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var e=br;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(Ha);var Va={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.isFragment=rg;var og=sr;function rg(t){return(0,og.isNumber)(t)?!1:!!t&&!!t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFragment=void 0;var e=xr;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(Va);var Wa={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isHTMLString=ag;var sg=sn;function ag(t){var e=(0,sg.make)("div");return e.innerHTML=t,e.childElementCount>0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLString=void 0;var e=Cr;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Wa);var za={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.offset=lg;function lg(t){var e=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,c=e.top+n,o=e.left+i;return{top:c,left:o,bottom:c+e.height,right:o+e.width}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offset=void 0;var e=Tr;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return e.offset}})})(za);var Ua={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.prepend=cg;function cg(t,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(i){return t.prepend(i)})):t.prepend(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=void 0;var e=Sr;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(Ua);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.offset=t.make=t.isLineBreakTag=t.isSingleTag=t.isNodeEmpty=t.isLeaf=t.isHTMLString=t.isFragment=t.isEmpty=t.isElement=t.isContentEditable=t.isCollapsedWhitespaces=t.findAllInputs=t.isNativeInput=t.allInputsSelector=t.getDeepestNode=t.getDeepestBlockElements=t.getContentLength=t.fragmentToString=t.containsOnlyInlineElements=t.canSetCaret=t.calculateBaseline=t.blockElements=t.append=void 0;var e=Yo;Object.defineProperty(t,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var i=It;Object.defineProperty(t,"isNativeInput",{enumerable:!0,get:function(){return i.isNativeInput}});var n=Ma;Object.defineProperty(t,"append",{enumerable:!0,get:function(){return n.append}});var c=Jo;Object.defineProperty(t,"blockElements",{enumerable:!0,get:function(){return c.blockElements}});var o=Aa;Object.defineProperty(t,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var p=Ia;Object.defineProperty(t,"canSetCaret",{enumerable:!0,get:function(){return p.canSetCaret}});var m=rn;Object.defineProperty(t,"containsOnlyInlineElements",{enumerable:!0,get:function(){return m.containsOnlyInlineElements}});var h=Ra;Object.defineProperty(t,"fragmentToString",{enumerable:!0,get:function(){return h.fragmentToString}});var g=Da;Object.defineProperty(t,"getContentLength",{enumerable:!0,get:function(){return g.getContentLength}});var a=dr;Object.defineProperty(t,"getDeepestBlockElements",{enumerable:!0,get:function(){return a.getDeepestBlockElements}});var l=Ba;Object.defineProperty(t,"getDeepestNode",{enumerable:!0,get:function(){return l.getDeepestNode}});var d=Fa;Object.defineProperty(t,"findAllInputs",{enumerable:!0,get:function(){return d.findAllInputs}});var u=ja;Object.defineProperty(t,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return u.isCollapsedWhitespaces}});var s=ir;Object.defineProperty(t,"isContentEditable",{enumerable:!0,get:function(){return s.isContentEditable}});var r=vr;Object.defineProperty(t,"isElement",{enumerable:!0,get:function(){return r.isElement}});var f=Ha;Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return f.isEmpty}});var v=Va;Object.defineProperty(t,"isFragment",{enumerable:!0,get:function(){return v.isFragment}});var y=Wa;Object.defineProperty(t,"isHTMLString",{enumerable:!0,get:function(){return y.isHTMLString}});var C=wr;Object.defineProperty(t,"isLeaf",{enumerable:!0,get:function(){return C.isLeaf}});var x=kr;Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return x.isNodeEmpty}});var w=an;Object.defineProperty(t,"isLineBreakTag",{enumerable:!0,get:function(){return w.isLineBreakTag}});var k=ln;Object.defineProperty(t,"isSingleTag",{enumerable:!0,get:function(){return k.isSingleTag}});var T=sn;Object.defineProperty(t,"make",{enumerable:!0,get:function(){return T.make}});var A=za;Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return A.offset}});var M=Ua;Object.defineProperty(t,"prepend",{enumerable:!0,get:function(){return M.prepend}})})(ge);const Ne="cdx-list",Oe={wrapper:Ne,item:`${Ne}__item`,itemContent:`${Ne}__item-content`,itemChildren:`${Ne}__item-children`};class Qe{static get CSS(){return{...Oe,orderedList:`${Ne}-ordered`}}constructor(e,i){this.config=i,this.readOnly=e}renderWrapper(e){let i;return e===!0?i=ge.make("ol",[Qe.CSS.wrapper,Qe.CSS.orderedList]):i=ge.make("ol",[Qe.CSS.orderedList,Qe.CSS.itemChildren]),i}renderItem(e,i){const n=ge.make("li",Qe.CSS.item),c=ge.make("div",Qe.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return n.appendChild(c),n}getItemContent(e){const i=e.querySelector(`.${Qe.CSS.itemContent}`);return!i||ge.isEmpty(i)?"":i.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class Ze{static get CSS(){return{...Oe,unorderedList:`${Ne}-unordered`}}constructor(e,i){this.config=i,this.readOnly=e}renderWrapper(e){let i;return e===!0?i=ge.make("ul",[Ze.CSS.wrapper,Ze.CSS.unorderedList]):i=ge.make("ul",[Ze.CSS.unorderedList,Ze.CSS.itemChildren]),i}renderItem(e,i){const n=ge.make("li",Ze.CSS.item),c=ge.make("div",Ze.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return n.appendChild(c),n}getItemContent(e){const i=e.querySelector(`.${Ze.CSS.itemContent}`);return!i||ge.isEmpty(i)?"":i.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function kt(t){return t.nodeType===Node.ELEMENT_NODE}var fi={},Lr={},cn={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.getContenteditableSlice=ug;var dg=ge;function ug(t,e,i,n,c){var o;c===void 0&&(c=!1);var p=document.createRange();if(n==="left"?(p.setStart(t,0),p.setEnd(e,i)):(p.setStart(e,i),p.setEnd(t,t.childNodes.length)),c===!0){var m=p.extractContents();return(0,dg.fragmentToString)(m)}var h=p.cloneContents(),g=document.createElement("div");g.appendChild(h);var a=(o=g.textContent)!==null&&o!==void 0?o:"";return a}Object.defineProperty(cn,"__esModule",{value:!0});cn.checkContenteditableSliceForEmptiness=fg;var hg=ge,pg=dn;function fg(t,e,i,n){var c=(0,pg.getContenteditableSlice)(t,e,i,n);return(0,hg.isCollapsedWhitespaces)(c)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkContenteditableSliceForEmptiness=void 0;var e=cn;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Lr);var Ga={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getContenteditableSlice=void 0;var e=dn;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(Ga);var Ka={},Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.focus=mg;var gg=ge;function mg(t,e){var i,n;if(e===void 0&&(e=!0),(0,gg.isNativeInput)(t)){t.focus();var c=e?0:t.value.length;t.setSelectionRange(c,c)}else{var o=document.createRange(),p=window.getSelection();if(!p)return;var m=function(d,u){u===void 0&&(u=!1);var s=document.createTextNode("");u?d.insertBefore(s,d.firstChild):d.appendChild(s),o.setStart(s,0),o.setEnd(s,0)},h=function(d){return d!=null},g=t.childNodes,a=e?g[0]:g[g.length-1];if(h(a)){for(;h(a)&&a.nodeType!==Node.TEXT_NODE;)a=e?a.firstChild:a.lastChild;if(h(a)&&a.nodeType===Node.TEXT_NODE){var l=(n=(i=a.textContent)===null||i===void 0?void 0:i.length)!==null&&n!==void 0?n:0,c=e?0:l;o.setStart(a,c),o.setEnd(a,c)}else m(t,e)}else m(t);p.removeAllRanges(),p.addRange(o)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var e=Mr;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return e.focus}})})(Ka);var Ar={},un={};Object.defineProperty(un,"__esModule",{value:!0});un.getCaretNodeAndOffset=vg;function vg(){var t=window.getSelection();if(t===null)return[null,0];var e=t.focusNode,i=t.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[i]!==void 0?(e=e.childNodes[i],i=0):(e=e.childNodes[i-1],e.textContent!==null&&(i=e.textContent.length))),[e,i])}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretNodeAndOffset=void 0;var e=un;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Ar);var Ya={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.getRange=yg;function yg(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRange=void 0;var e=hn;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(Ya);var Xa={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.isCaretAtEndOfInput=_g;var ps=ge,bg=Ar,wg=Lr;function _g(t){var e=(0,ps.getDeepestNode)(t,!0);if(e===null)return!0;if((0,ps.isNativeInput)(e))return e.selectionEnd===e.value.length;var i=(0,bg.getCaretNodeAndOffset)(),n=i[0],c=i[1];return n===null?!1:(0,wg.checkContenteditableSliceForEmptiness)(t,n,c,"right")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtEndOfInput=void 0;var e=Ir;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(Xa);var Qa={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.isCaretAtStartOfInput=xg;var Si=ge,kg=un,Eg=cn;function xg(t){var e=(0,Si.getDeepestNode)(t);if(e===null||(0,Si.isEmpty)(t))return!0;if((0,Si.isNativeInput)(e))return e.selectionEnd===0;if((0,Si.isEmpty)(t))return!0;var i=(0,kg.getCaretNodeAndOffset)(),n=i[0],c=i[1];return n===null?!1:(0,Eg.checkContenteditableSliceForEmptiness)(t,n,c,"left")}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCaretAtStartOfInput=void 0;var e=$r;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(Qa);var Za={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.save=Sg;var Cg=ge,Tg=hn;function Sg(){var t=(0,Tg.getRange)(),e=(0,Cg.make)("span");if(e.id="cursor",e.hidden=!0,!!t)return t.insertNode(e),function(){var i=window.getSelection();i&&(t.setStartAfter(e),t.setEndAfter(e),i.removeAllRanges(),i.addRange(t),setTimeout(function(){e.remove()},150))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=void 0;var e=Or;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return e.save}})})(Za);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.isCaretAtStartOfInput=t.isCaretAtEndOfInput=t.getRange=t.getCaretNodeAndOffset=t.focus=t.getContenteditableSlice=t.checkContenteditableSliceForEmptiness=void 0;var e=Lr;Object.defineProperty(t,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var i=Ga;Object.defineProperty(t,"getContenteditableSlice",{enumerable:!0,get:function(){return i.getContenteditableSlice}});var n=Ka;Object.defineProperty(t,"focus",{enumerable:!0,get:function(){return n.focus}});var c=Ar;Object.defineProperty(t,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return c.getCaretNodeAndOffset}});var o=Ya;Object.defineProperty(t,"getRange",{enumerable:!0,get:function(){return o.getRange}});var p=Xa;Object.defineProperty(t,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return p.isCaretAtEndOfInput}});var m=Qa;Object.defineProperty(t,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return m.isCaretAtStartOfInput}});var h=Za;Object.defineProperty(t,"save",{enumerable:!0,get:function(){return h.save}})})(fi);class Se{static get CSS(){return{...Oe,checklist:`${Ne}-checklist`,itemChecked:`${Ne}__checkbox--checked`,noHover:`${Ne}__checkbox--no-hover`,checkbox:`${Ne}__checkbox-check`,checkboxContainer:`${Ne}__checkbox`}}constructor(e,i){this.config=i,this.readOnly=e}renderWrapper(e){let i;return e===!0?(i=ge.make("ul",[Se.CSS.wrapper,Se.CSS.checklist]),i.addEventListener("click",n=>{const c=n.target;if(c){const o=c.closest(`.${Se.CSS.checkboxContainer}`);o&&o.contains(c)&&this.toggleCheckbox(o)}})):i=ge.make("ul",[Se.CSS.checklist,Se.CSS.itemChildren]),i}renderItem(e,i){const n=ge.make("li",[Se.CSS.item,Se.CSS.item]),c=ge.make("div",Se.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),o=ge.make("span",Se.CSS.checkbox),p=ge.make("div",Se.CSS.checkboxContainer);return i.checked===!0&&p.classList.add(Se.CSS.itemChecked),o.innerHTML=Vp,p.appendChild(o),n.appendChild(p),n.appendChild(c),n}getItemContent(e){const i=e.querySelector(`.${Se.CSS.itemContent}`);return!i||ge.isEmpty(i)?"":i.innerHTML}getItemMeta(e){const i=e.querySelector(`.${Se.CSS.checkboxContainer}`);return{checked:i?i.classList.contains(Se.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(Se.CSS.itemChecked),e.classList.add(Se.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(Se.CSS.noHover)}}function An(t,e="after"){const i=[];let n;function c(o){switch(e){case"after":return o.nextElementSibling;case"before":return o.previousElementSibling}}for(n=c(t);n!==null;)i.push(n),n=c(n);return i.length!==0?i:null}function ot(t,e=!0){let i=t;return t.classList.contains(Oe.item)&&(i=t.querySelector(`.${Oe.itemChildren}`)),i===null?[]:e?Array.from(i.querySelectorAll(`:scope > .${Oe.item}`)):Array.from(i.querySelectorAll(`.${Oe.item}`))}function Lg(t){return t.nextElementSibling===null}function Mg(t){return t.querySelector(`.${Oe.itemChildren}`)!==null}function ht(t){return t.querySelector(`.${Oe.itemChildren}`)}function In(t){let e=t;t.classList.contains(Oe.item)&&(e=ht(t)),e!==null&&ot(e).length===0&&e.remove()}function Fi(t){return t.querySelector(`.${Oe.itemContent}`)}function Dt(t,e=!0){const i=Fi(t);i&&fi.focus(i,e)}class $n{get currentItem(){const e=window.getSelection();if(!e)return null;let i=e.anchorNode;return!i||(kt(i)||(i=i.parentNode),!i)||!kt(i)?null:i.closest(`.${Oe.item}`)}get currentItemLevel(){const e=this.currentItem;if(e===null)return null;let i=e.parentNode,n=0;for(;i!==null&&i!==this.listWrapper;)kt(i)&&i.classList.contains(Oe.item)&&(n+=1),i=i.parentNode;return n+1}constructor({data:e,config:i,api:n,readOnly:c,block:o},p){this.config=i,this.data=e,this.readOnly=c,this.api=n,this.block=o,this.renderer=p}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){const i=e??this.listWrapper,n=p=>ot(p).map(m=>{const h=ht(m),g=this.renderer.getItemContent(m),a=this.renderer.getItemMeta(m),l=h?n(h):[];return{content:g,meta:a,items:l}}),c=i?n(i):[];let o={style:this.data.style,meta:{},items:c};return this.data.style==="ordered"&&(o.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),o}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){const i=this.block.holder.querySelectorAll(`.${Oe.item}`),n=i[i.length-1],c=Fi(n);if(n===null||c===null||(c.insertAdjacentHTML("beforeend",e.items[0].content),this.listWrapper===void 0))return;const o=ot(this.listWrapper);if(o.length===0)return;const p=o[o.length-1];let m=ht(p);const h=e.items.shift();h!==void 0&&(h.items.length!==0&&(m===null&&(m=this.renderer.renderWrapper(!1)),this.appendItems(h.items,m)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){const i=e.detail.data;this.data=this.pasteHandler(i);const n=this.listWrapper;n&&n.parentNode&&n.parentNode.replaceChild(this.render(),n)}pasteHandler(e){const{tagName:i}=e;let n="unordered",c;switch(i){case"OL":n="ordered",c="ol";break;case"UL":case"LI":n="unordered",c="ul"}const o={style:n,meta:{},items:[]};n==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const p=m=>Array.from(m.querySelectorAll(":scope > li")).map(h=>{const g=h.querySelector(`:scope > ${c}`),a=g?p(g):[];return{content:h.innerHTML??"",meta:{},items:a}});return o.items=p(e),o}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var i;const n=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||n===null)return;const c=((i=this.renderer)==null?void 0:i.getItemContent(n).trim().length)===0,o=n.parentNode===this.listWrapper,p=n.previousElementSibling===null,m=this.api.blocks.getCurrentBlockIndex();if(o&&c)if(Lg(n)&&!Mg(n)){p?this.convertItemToDefaultBlock(m,!0):this.convertItemToDefaultBlock();return}else{this.splitList(n);return}else if(c){this.unshiftItem(n);return}else this.splitItem(n)}backspace(e){const i=this.currentItem;if(i!==null&&fi.isCaretAtStartOfInput(i)){if(e.stopPropagation(),i.parentNode===this.listWrapper&&i.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(i)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!kt(e.parentNode))return;const i=e.parentNode.closest(`.${Oe.item}`);if(!i)return;let n=ht(e);if(e.parentElement===null)return;const c=An(e);c!==null&&(n===null&&(n=this.renderer.renderWrapper(!1)),c.forEach(o=>{n.appendChild(o)}),e.appendChild(n)),i.after(e),Dt(e,!1),In(i)}splitList(e){const i=ot(e),n=this.block,c=this.api.blocks.getCurrentBlockIndex();if(i.length!==0){const h=i[0];this.unshiftItem(h),Dt(e,!1)}if(e.previousElementSibling===null&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(c);return}const o=An(e);if(o===null)return;const p=this.renderer.renderWrapper(!0);o.forEach(h=>{p.appendChild(h)});const m=this.save(p);m.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(n==null?void 0:n.name,m,this.config,c+1),this.convertItemToDefaultBlock(c+1),p.remove()}splitItem(e){const[i,n]=fi.getCaretNodeAndOffset();if(i===null)return;const c=Fi(e);let o;c===null?o="":o=fi.getContenteditableSlice(c,i,n,"right",!0);const p=ht(e),m=this.renderItem(o);e==null||e.after(m),p&&m.appendChild(p),Dt(m)}mergeItemWithPrevious(e){const i=e.previousElementSibling,n=e.parentNode;if(n===null||!kt(n))return;const c=n.closest(`.${Oe.item}`);if(!i&&!c||i&&!kt(i))return;let o;if(i){const l=ot(i,!1);l.length!==0&&l.length!==0?o=l[l.length-1]:o=i}else o=c;const p=this.renderer.getItemContent(e);if(!o)return;Dt(o,!1);const m=Fi(o);if(m===null)return;m.insertAdjacentHTML("beforeend",p);const h=ot(e);if(h.length===0){e.remove(),In(o);return}const g=i||c,a=ht(g)??this.renderer.renderWrapper(!1);i?h.forEach(l=>{a.appendChild(l)}):h.forEach(l=>{a.prepend(l)}),ht(g)===null&&o.appendChild(a),e.remove()}addTab(e){var i;e.stopPropagation(),e.preventDefault();const n=this.currentItem;if(!n)return;if(((i=this.config)==null?void 0:i.maxLevel)!==void 0){const p=this.currentItemLevel;if(p!==null&&p===this.config.maxLevel)return}const c=n.previousSibling;if(c===null||!kt(c))return;const o=ht(c);if(o)o.appendChild(n),ot(n).forEach(p=>{o.appendChild(p)});else{const p=this.renderer.renderWrapper(!1);p.appendChild(n),ot(n).forEach(m=>{p.appendChild(m)}),c.appendChild(p)}In(n),Dt(n,!1)}convertItemToDefaultBlock(e,i){let n;const c=this.currentItem,o=c!==null?this.renderer.getItemContent(c):"";i===!0&&this.api.blocks.delete(),e!==void 0?n=this.api.blocks.insert(void 0,{text:o},void 0,e):n=this.api.blocks.insert(),c==null||c.remove(),this.api.caret.setToBlock(n,"start")}convertFirstItemToDefaultBlock(){const e=this.currentItem;if(e===null)return;const i=ot(e);if(i.length!==0){const p=i[0];this.unshiftItem(p),Dt(e)}const n=An(e),c=this.api.blocks.getCurrentBlockIndex(),o=n===null;this.convertItemToDefaultBlock(c,o)}renderItem(e,i){const n=i??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof Qe:return this.renderer.renderItem(e,n);case this.renderer instanceof Ze:return this.renderer.renderItem(e,n);default:return this.renderer.renderItem(e,n)}}appendItems(e,i){e.forEach(n=>{var c;const o=this.renderItem(n.content,n.meta);if(i.appendChild(o),n.items.length){const p=(c=this.renderer)==null?void 0:c.renderWrapper(!1);this.appendItems(n.items,p),o.appendChild(p)}})}}const Pt={wrapper:`${Ne}-start-with-field`,input:`${Ne}-start-with-field__input`,startWithElementWrapperInvalid:`${Ne}-start-with-field--invalid`};function Ag(t,{value:e,placeholder:i,attributes:n,sanitize:c}){const o=ge.make("div",Pt.wrapper),p=ge.make("input",Pt.input,{placeholder:i,tabIndex:-1,value:e});for(const m in n)p.setAttribute(m,n[m]);return o.appendChild(p),p.addEventListener("input",()=>{c!==void 0&&(p.value=c(p.value));const m=p.checkValidity();!m&&!o.classList.contains(Pt.startWithElementWrapperInvalid)&&o.classList.add(Pt.startWithElementWrapperInvalid),m&&o.classList.contains(Pt.startWithElementWrapperInvalid)&&o.classList.remove(Pt.startWithElementWrapperInvalid),m&&t(p.value)}),o}const Li=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),fs=new Map([["numeric",Wp],["lower-roman",zp],["upper-roman",Up],["lower-alpha",Kp],["upper-alpha",Gp]]);function Ig(t){return t.replace(/\D+/g,"")}function $g(t){return typeof t.items[0]=="string"}function Og(t){return typeof t.items[0]!="string"&&"text"in t.items[0]&&"checked"in t.items[0]&&typeof t.items[0].text=="string"&&typeof t.items[0].checked=="boolean"}function Rg(t){const e=[];return $g(t)?(t.items.forEach(i=>{e.push({content:i,meta:{},items:[]})}),{style:t.style,meta:{},items:e}):Og(t)?(t.items.forEach(i=>{e.push({content:i.text,meta:{checked:i.checked},items:[]})}),{style:"checklist",meta:{},items:e}):t}class Xi{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:ds,title:"Unordered List",data:{style:"unordered"}},{icon:us,title:"Ordered List",data:{style:"ordered"}},{icon:cs,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>Xi.joinRecursive(e),import:(e,i)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:(i==null?void 0:i.defaultStyle)!==void 0?i.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var i;this.data.style=e,this.changeTabulatorByStyle();const n=this.list.render();(i=this.listElement)==null||i.replaceWith(n),this.listElement=n}constructor({data:e,config:i,api:n,readOnly:c,block:o}){var p;this.api=n,this.readOnly=c,this.config=i,this.block=o,this.defaultListStyle=((p=this.config)==null?void 0:p.defaultStyle)||"unordered";const m={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?Rg(e):m,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(i=>`${i.content} ${Xi.joinRecursive(i)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){const e=[{label:this.api.i18n.t("Unordered"),icon:ds,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:us,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:cs,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const i=Ag(o=>this.changeStartWith(Number(o)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:o=>Ig(o)}),n=[{label:this.api.i18n.t("Start with"),icon:Yp,children:{items:[{element:i,type:"html"}]}}],c={label:this.api.i18n.t("Counter type"),icon:fs.get(this.data.meta.counterType),children:{items:[]}};Li.forEach((o,p)=>{c.children.items.push({title:this.api.i18n.t(p),icon:fs.get(Li.get(p)),isActive:this.data.meta.counterType===Li.get(p),closeOnActivate:!0,onActivate:()=>{this.changeCounters(Li.get(p))}})}),e.push({type:"separator"},...n,c)}return e}onPaste(e){const{tagName:i}=e.detail.data;switch(i){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var i;(i=this.list)==null||i.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var i;(i=this.list)==null||i.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new $n({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Qe(this.readOnly,this.config));break;case"unordered":this.list=new $n({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Ze(this.readOnly,this.config));break;case"checklist":this.list=new $n({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Se(this.readOnly,this.config));break}}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-file,.image-tool--loading .cdx-button{display:none}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Ja='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Dg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function Bt(t,e=null,i={}){const n=document.createElement(t);Array.isArray(e)?n.classList.add(...e):e!==null&&n.classList.add(e);for(const c in i)i.hasOwnProperty(c)&&(n[c]=i[c]);return n}var di=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(di||{});let Pg=class{constructor({api:e,config:i,onSelectFile:n,readOnly:c}){this.api=e,this.config=i,this.onSelectFile=n,this.readOnly=c,this.nodes={wrapper:Bt("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Bt("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Bt("div",this.CSS.imagePreloader),caption:Bt("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,i){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,i)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const i=/\.mp4$/.test(e)?"VIDEO":"IMG",n={src:e};let c="load";i==="VIDEO"&&(n.autoplay=!0,n.loop=!0,n.muted=!0,n.playsinline=!0,c="loadeddata"),this.nodes.imageEl=Bt(i,this.CSS.imageEl,n),this.nodes.imageEl.addEventListener(c,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const e=Bt("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${Ja} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const i in di)Object.prototype.hasOwnProperty.call(di,i)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${di[i]}`,e===di[i])}};function Bg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qa={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(window,function(){return function(i){var n={};function c(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return i[o].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=i,c.c=n,c.d=function(o,p,m){c.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:m})},c.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.t=function(o,p){if(1&p&&(o=c(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var h in o)c.d(m,h,(function(g){return o[g]}).bind(null,h));return m},c.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return c.d(p,"a",p),p},c.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},c.p="",c(c.s=3)}([function(i,n){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{typeof window=="object"&&(c=window)}i.exports=c},function(i,n,c){(function(o){var p=c(2),m=setTimeout;function h(){}function g(f){if(!(this instanceof g))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],r(f,this)}function a(f,v){for(;f._state===3;)f=f._value;f._state!==0?(f._handled=!0,g._immediateFn(function(){var y=f._state===1?v.onFulfilled:v.onRejected;if(y!==null){var C;try{C=y(f._value)}catch(x){return void d(v.promise,x)}l(v.promise,C)}else(f._state===1?l:d)(v.promise,f._value)})):f._deferreds.push(v)}function l(f,v){try{if(v===f)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var y=v.then;if(v instanceof g)return f._state=3,f._value=v,void u(f);if(typeof y=="function")return void r((C=y,x=v,function(){C.apply(x,arguments)}),f)}f._state=1,f._value=v,u(f)}catch(w){d(f,w)}var C,x}function d(f,v){f._state=2,f._value=v,u(f)}function u(f){f._state===2&&f._deferreds.length===0&&g._immediateFn(function(){f._handled||g._unhandledRejectionFn(f._value)});for(var v=0,y=f._deferreds.length;v<y;v++)a(f,f._deferreds[v]);f._deferreds=null}function s(f,v,y){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof v=="function"?v:null,this.promise=y}function r(f,v){var y=!1;try{f(function(C){y||(y=!0,l(v,C))},function(C){y||(y=!0,d(v,C))})}catch(C){if(y)return;y=!0,d(v,C)}}g.prototype.catch=function(f){return this.then(null,f)},g.prototype.then=function(f,v){var y=new this.constructor(h);return a(this,new s(f,v,y)),y},g.prototype.finally=p.a,g.all=function(f){return new g(function(v,y){if(!f||f.length===void 0)throw new TypeError("Promise.all accepts an array");var C=Array.prototype.slice.call(f);if(C.length===0)return v([]);var x=C.length;function w(T,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var M=A.then;if(typeof M=="function")return void M.call(A,function(L){w(T,L)},y)}C[T]=A,--x==0&&v(C)}catch(L){y(L)}}for(var k=0;k<C.length;k++)w(k,C[k])})},g.resolve=function(f){return f&&typeof f=="object"&&f.constructor===g?f:new g(function(v){v(f)})},g.reject=function(f){return new g(function(v,y){y(f)})},g.race=function(f){return new g(function(v,y){for(var C=0,x=f.length;C<x;C++)f[C].then(v,y)})},g._immediateFn=typeof o=="function"&&function(f){o(f)}||function(f){m(f,0)},g._unhandledRejectionFn=function(f){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",f)},n.a=g}).call(this,c(5).setImmediate)},function(i,n,c){n.a=function(o){var p=this.constructor;return this.then(function(m){return p.resolve(o()).then(function(){return m})},function(m){return p.resolve(o()).then(function(){return p.reject(m)})})}},function(i,n,c){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(r)}c(4);var p,m,h,g,a,l,d,u=c(8),s=(m=function(r){return new Promise(function(f,v){r=g(r),(r=a(r)).beforeSend&&r.beforeSend();var y=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");y.open(r.method,r.url),y.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r.headers).forEach(function(x){var w=r.headers[x];y.setRequestHeader(x,w)});var C=r.ratio;y.upload.addEventListener("progress",function(x){var w=Math.round(x.loaded/x.total*100),k=Math.ceil(w*C/100);r.progress(Math.min(k,100))},!1),y.addEventListener("progress",function(x){var w=Math.round(x.loaded/x.total*100),k=Math.ceil(w*(100-C)/100)+C;r.progress(Math.min(k,100))},!1),y.onreadystatechange=function(){if(y.readyState===4){var x=y.response;try{x=JSON.parse(x)}catch{}var w=u.parseHeaders(y.getAllResponseHeaders()),k={body:x,code:y.status,headers:w};d(y.status)?f(k):v(k)}},y.send(r.data)})},h=function(r){return r.method="POST",m(r)},g=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.url&&typeof r.url!="string")throw new Error("Url must be a string");if(r.url=r.url||"",r.method&&typeof r.method!="string")throw new Error("`method` must be a string or null");if(r.method=r.method?r.method.toUpperCase():"GET",r.headers&&o(r.headers)!=="object")throw new Error("`headers` must be an object or null");if(r.headers=r.headers||{},r.type&&(typeof r.type!="string"||!Object.values(p).includes(r.type)))throw new Error("`type` must be taken from module's «contentType» library");if(r.progress&&typeof r.progress!="function")throw new Error("`progress` must be a function or null");if(r.progress=r.progress||function(f){},r.beforeSend=r.beforeSend||function(f){},r.ratio&&typeof r.ratio!="number")throw new Error("`ratio` must be a number");if(r.ratio<0||r.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(r.ratio=r.ratio||90,r.accept&&typeof r.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(r.accept=r.accept||"*/*",r.multiple&&typeof r.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(r.multiple=r.multiple||!1,r.fieldName&&typeof r.fieldName!="string")throw new Error("`fieldName` must be a string");return r.fieldName=r.fieldName||"files",r},a=function(r){switch(r.method){case"GET":var f=l(r.data,p.URLENCODED);delete r.data,r.url=/\?/.test(r.url)?r.url+"&"+f:r.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var v=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||p.JSON}(r);(u.isFormData(r.data)||u.isFormElement(r.data))&&(v=p.FORM),r.data=l(r.data,v),v!==s.contentType.FORM&&(r.headers["content-type"]=v)}return r},l=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case p.URLENCODED:return u.urlEncode(r);case p.JSON:return u.jsonEncode(r);case p.FORM:return u.formEncode(r);default:return r}},d=function(r){return r>=200&&r<300},{contentType:p={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:m,get:function(r){return r.method="GET",m(r)},post:h,transport:function(r){return r=g(r),u.selectFiles(r).then(function(f){for(var v=new FormData,y=0;y<f.length;y++)v.append(r.fieldName,f[y],f[y].name);u.isObject(r.data)&&Object.keys(r.data).forEach(function(x){var w=r.data[x];v.append(x,w)});var C=r.beforeSend;return r.beforeSend=function(){return C(f)},r.data=v,h(r)})},selectFiles:function(r){return delete(r=g(r)).beforeSend,u.selectFiles(r)}});i.exports=s},function(i,n,c){c.r(n);var o=c(1);window.Promise=window.Promise||o.a},function(i,n,c){(function(o){var p=o!==void 0&&o||typeof self<"u"&&self||window,m=Function.prototype.apply;function h(g,a){this._id=g,this._clearFn=a}n.setTimeout=function(){return new h(m.call(setTimeout,p,arguments),clearTimeout)},n.setInterval=function(){return new h(m.call(setInterval,p,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(g){g&&g.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(p,this._id)},n.enroll=function(g,a){clearTimeout(g._idleTimeoutId),g._idleTimeout=a},n.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},n._unrefActive=n.active=function(g){clearTimeout(g._idleTimeoutId);var a=g._idleTimeout;a>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},a))},c(6),n.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,c(0))},function(i,n,c){(function(o,p){(function(m,h){if(!m.setImmediate){var g,a,l,d,u,s=1,r={},f=!1,v=m.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(m);y=y&&y.setTimeout?y:m,{}.toString.call(m.process)==="[object process]"?g=function(w){p.nextTick(function(){x(w)})}:function(){if(m.postMessage&&!m.importScripts){var w=!0,k=m.onmessage;return m.onmessage=function(){w=!1},m.postMessage("","*"),m.onmessage=k,w}}()?(d="setImmediate$"+Math.random()+"$",u=function(w){w.source===m&&typeof w.data=="string"&&w.data.indexOf(d)===0&&x(+w.data.slice(d.length))},m.addEventListener?m.addEventListener("message",u,!1):m.attachEvent("onmessage",u),g=function(w){m.postMessage(d+w,"*")}):m.MessageChannel?((l=new MessageChannel).port1.onmessage=function(w){x(w.data)},g=function(w){l.port2.postMessage(w)}):v&&"onreadystatechange"in v.createElement("script")?(a=v.documentElement,g=function(w){var k=v.createElement("script");k.onreadystatechange=function(){x(w),k.onreadystatechange=null,a.removeChild(k),k=null},a.appendChild(k)}):g=function(w){setTimeout(x,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var A={callback:w,args:k};return r[s]=A,g(s),s++},y.clearImmediate=C}function C(w){delete r[w]}function x(w){if(f)setTimeout(x,0,w);else{var k=r[w];if(k){f=!0;try{(function(T){var A=T.callback,M=T.args;switch(M.length){case 0:A();break;case 1:A(M[0]);break;case 2:A(M[0],M[1]);break;case 3:A(M[0],M[1],M[2]);break;default:A.apply(h,M)}})(k)}finally{C(w),f=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,c(0),c(7))},function(i,n){var c,o,p=i.exports={};function m(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function g(y){if(c===setTimeout)return setTimeout(y,0);if((c===m||!c)&&setTimeout)return c=setTimeout,setTimeout(y,0);try{return c(y,0)}catch{try{return c.call(null,y,0)}catch{return c.call(this,y,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:m}catch{c=m}try{o=typeof clearTimeout=="function"?clearTimeout:h}catch{o=h}})();var a,l=[],d=!1,u=-1;function s(){d&&a&&(d=!1,a.length?l=a.concat(l):u=-1,l.length&&r())}function r(){if(!d){var y=g(s);d=!0;for(var C=l.length;C;){for(a=l,l=[];++u<C;)a&&a[u].run();u=-1,C=l.length}a=null,d=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===h||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}(y)}}function f(y,C){this.fun=y,this.array=C}function v(){}p.nextTick=function(y){var C=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)C[x-1]=arguments[x];l.push(new f(y,C)),l.length!==1||d||g(r)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=v,p.addListener=v,p.once=v,p.off=v,p.removeListener=v,p.removeAllListeners=v,p.emit=v,p.prependListener=v,p.prependOnceListener=v,p.listeners=function(y){return[]},p.binding=function(y){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(y){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(i,n,c){function o(m,h){for(var g=0;g<h.length;g++){var a=h[g];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(m,a.key,a)}}var p=c(9);i.exports=function(){function m(){(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m)}var h,g,a;return h=m,a=[{key:"urlEncode",value:function(l){return p(l)}},{key:"jsonEncode",value:function(l){return JSON.stringify(l)}},{key:"formEncode",value:function(l){if(this.isFormData(l))return l;if(this.isFormElement(l))return new FormData(l);if(this.isObject(l)){var d=new FormData;return Object.keys(l).forEach(function(u){var s=l[u];d.append(u,s)}),d}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(l){return Object.prototype.toString.call(l)==="[object Object]"}},{key:"isFormData",value:function(l){return l instanceof FormData}},{key:"isFormElement",value:function(l){return l instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(d,u){var s=document.createElement("INPUT");s.type="file",l.multiple&&s.setAttribute("multiple","multiple"),l.accept&&s.setAttribute("accept",l.accept),s.style.display="none",document.body.appendChild(s),s.addEventListener("change",function(r){var f=r.target.files;d(f),document.body.removeChild(s)},!1),s.click()})}},{key:"parseHeaders",value:function(l){var d=l.trim().split(/[\r\n]+/),u={};return d.forEach(function(s){var r=s.split(": "),f=r.shift(),v=r.join(": ");f&&(u[f]=v)}),u}}],(g=null)&&o(h.prototype,g),a&&o(h,a),m}()},function(i,n){var c=function(p){return encodeURIComponent(p).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(p,m,h,g){return m=m||null,h=h||"&",g=g||null,p?function(a){for(var l=new Array,d=0;d<a.length;d++)a[d]&&l.push(a[d]);return l}(Object.keys(p).map(function(a){var l,d,u=a;if(g&&(u=g+"["+u+"]"),typeof p[a]=="object"&&p[a]!==null)l=o(p[a],null,h,u);else{m&&(d=u,u=!isNaN(parseFloat(d))&&isFinite(d)?m+Number(u):u);var s=p[a];s=(s=(s=(s=s===!0?"1":s)===!1?"0":s)===0?"0":s)||"",l=c(u)+"="+c(s)}return l})).join(h).replace(/[!'()*]/g,""):""};i.exports=o}])})})(qa);var Ng=qa.exports;const Nt=Bg(Ng);function On(t){return t!==void 0&&typeof t.then=="function"}let Fg=class{constructor({config:e,onUpload:i,onError:n}){this.config=e,this.onUpload=i,this.onError=n}uploadSelectedFile({onPreview:e}){const i=function(c){const o=new FileReader;o.readAsDataURL(c),o.onload=p=>{e(p.target.result)}};let n;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const c=this.config.uploader.uploadByFile;n=Nt.selectFiles({accept:this.config.types??"image/*"}).then(o=>{i(o[0]);const p=c(o[0]);return On(p)||console.warn("Custom uploader method uploadByFile should return a Promise"),p})}else n=Nt.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:c=>{i(c[0])},fieldName:this.config.field??"image"}).then(c=>c.body);n.then(c=>{this.onUpload(c)}).catch(c=>{this.onError(c)})}uploadByUrl(e){let i;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(i=this.config.uploader.uploadByUrl(e),On(i)||console.warn("Custom uploader method uploadByUrl should return a Promise")):i=Nt.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Nt.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(n=>n.body),i.then(n=>{this.onUpload(n)}).catch(n=>{this.onError(n)})}uploadByFile(e,{onPreview:i}){const n=new FileReader;n.readAsDataURL(e),n.onload=o=>{i(o.target.result)};let c;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")c=this.config.uploader.uploadByFile(e),On(c)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field??"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([p,m])=>{o.append(p,m)}),c=Nt.post({url:this.config.endpoints.byFile,data:o,type:Nt.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(p=>p.body)}c.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}};/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let jg=class Qn{constructor({data:e,config:i,api:n,readOnly:c,block:o}){this.api=n,this.readOnly=c,this.block=o,this.config={endpoints:i.endpoints,additionalRequestData:i.additionalRequestData,additionalRequestHeaders:i.additionalRequestHeaders,field:i.field,types:i.types,captionPlaceholder:this.api.i18n.t(i.captionPlaceholder??"Caption"),buttonContent:i.buttonContent,uploader:i.uploader,actions:i.actions},this.uploader=new Fg({config:this.config,onUpload:p=>this.onUpload(p),onError:p=>this.uploadingFailed(p)}),this.ui=new Pg({api:n,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:p=>{this.ui.showPreloader(p)}})},readOnly:c}),this._data={caption:"",stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Ja,title:"Image"}}static get tunes(){return[{name:"stretched",icon:Dg,title:"Stretch",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Qn.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const i=e.detail.data;if(/^blob:/.test(i.src)){const n=await(await fetch(i.src)).blob();this.uploadFile(n);break}this.uploadUrl(i.src);break}case"pattern":{const i=e.detail.data;this.uploadUrl(i);break}case"file":{const i=e.detail.file;this.uploadFile(i);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Qn.tunes.forEach(({name:i})=>{const n=typeof e[i]<"u"?e[i]===!0||e[i]==="true":!1;this.setTune(i,n)})}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image file. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,i){this._data[e]=i,this.ui.applyTune(e,i),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=i}).catch(n=>{console.error(n)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:i=>{this.ui.showPreloader(i)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.video-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.video-tool__video{border-radius:3px;overflow:hidden;margin-bottom:10px}.video-tool__video-file{max-width:100%;max-height:500px;vertical-align:bottom;display:block}.video-tool__video-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.video-tool__video-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:video-preloader-spin 2s infinite linear;box-sizing:border-box}.video-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.video-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.video-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.video-tool--empty .video-tool__video,.video-tool--empty .video-tool__caption,.video-tool--loading .video-tool__caption{display:none}.video-tool .cdx-button{display:flex;align-items:center;justify-content:center}.video-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.video-tool--filled .cdx-button,.video-tool--filled .video-tool__video-preloader{display:none}.video-tool--loading .video-tool__video{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.video-tool--loading .video-tool__video-file,.video-tool--loading .cdx-button{display:none}.video-tool--stretched video{width:100%}@keyframes video-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const el='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 10.5606V13.4394C10 14.4777 11.1572 15.0971 12.0211 14.5211L14.1803 13.0817C14.9536 12.5661 14.9503 11.4317 14.18 10.9181L12.0214 9.47907C11.1591 8.9042 10 9.5203 10 10.5606Z"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',Hg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function Ft(t,e=null,i={}){const n=document.createElement(t);Array.isArray(e)?n.classList.add(...e):e!==null&&n.classList.add(e);for(const c in i)i.hasOwnProperty(c)&&(n[c]=i[c]);return n}var ui=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(ui||{});let Vg=class{constructor({api:e,config:i,onSelectFile:n,readOnly:c}){this.api=e,this.config=i,this.onSelectFile=n,this.readOnly=c,this.nodes={wrapper:Ft("div",[this.CSS.baseClass,this.CSS.wrapper]),videoContainer:Ft("div",[this.CSS.videoContainer]),fileButton:this.createFileButton(),videoEl:void 0,videoPreloader:Ft("div",this.CSS.videoPreloader),caption:Ft("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.videoContainer.appendChild(this.nodes.videoPreloader),this.nodes.wrapper.appendChild(this.nodes.videoContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,i){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,i)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.videoPreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.videoPreloader.style.backgroundImage="",this.toggleStatus("empty")}fillVideo(e){const i="VIDEO",n={src:e};let c="load";n.autoplay=!1,n.loop=!1,n.muted=!0,n.playsinline=!0,n.controls=!0,c="loadeddata",this.nodes.videoEl=Ft(i,this.CSS.videoEl,n),this.nodes.videoEl.addEventListener(c,()=>{this.toggleStatus("filled"),this.nodes.videoPreloader!==void 0&&(this.nodes.videoPreloader.style.backgroundImage="")}),this.nodes.videoContainer.appendChild(this.nodes.videoEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"video-tool",videoContainer:"video-tool__video",videoPreloader:"video-tool__video-preloader",videoEl:"video-tool__video-file",caption:"video-tool__caption"}}createFileButton(){const e=Ft("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${el} ${this.api.i18n.t("Select video")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const i in ui)Object.prototype.hasOwnProperty.call(ui,i)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${ui[i]}`,e===ui[i])}};function Wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tl={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(window,function(){return function(i){var n={};function c(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return i[o].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=i,c.c=n,c.d=function(o,p,m){c.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:m})},c.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.t=function(o,p){if(1&p&&(o=c(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var h in o)c.d(m,h,(function(g){return o[g]}).bind(null,h));return m},c.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return c.d(p,"a",p),p},c.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},c.p="",c(c.s=3)}([function(i,n){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{typeof window=="object"&&(c=window)}i.exports=c},function(i,n,c){(function(o){var p=c(2),m=setTimeout;function h(){}function g(f){if(!(this instanceof g))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],r(f,this)}function a(f,v){for(;f._state===3;)f=f._value;f._state!==0?(f._handled=!0,g._immediateFn(function(){var y=f._state===1?v.onFulfilled:v.onRejected;if(y!==null){var C;try{C=y(f._value)}catch(x){return void d(v.promise,x)}l(v.promise,C)}else(f._state===1?l:d)(v.promise,f._value)})):f._deferreds.push(v)}function l(f,v){try{if(v===f)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var y=v.then;if(v instanceof g)return f._state=3,f._value=v,void u(f);if(typeof y=="function")return void r((C=y,x=v,function(){C.apply(x,arguments)}),f)}f._state=1,f._value=v,u(f)}catch(w){d(f,w)}var C,x}function d(f,v){f._state=2,f._value=v,u(f)}function u(f){f._state===2&&f._deferreds.length===0&&g._immediateFn(function(){f._handled||g._unhandledRejectionFn(f._value)});for(var v=0,y=f._deferreds.length;v<y;v++)a(f,f._deferreds[v]);f._deferreds=null}function s(f,v,y){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof v=="function"?v:null,this.promise=y}function r(f,v){var y=!1;try{f(function(C){y||(y=!0,l(v,C))},function(C){y||(y=!0,d(v,C))})}catch(C){if(y)return;y=!0,d(v,C)}}g.prototype.catch=function(f){return this.then(null,f)},g.prototype.then=function(f,v){var y=new this.constructor(h);return a(this,new s(f,v,y)),y},g.prototype.finally=p.a,g.all=function(f){return new g(function(v,y){if(!f||f.length===void 0)throw new TypeError("Promise.all accepts an array");var C=Array.prototype.slice.call(f);if(C.length===0)return v([]);var x=C.length;function w(T,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var M=A.then;if(typeof M=="function")return void M.call(A,function(L){w(T,L)},y)}C[T]=A,--x==0&&v(C)}catch(L){y(L)}}for(var k=0;k<C.length;k++)w(k,C[k])})},g.resolve=function(f){return f&&typeof f=="object"&&f.constructor===g?f:new g(function(v){v(f)})},g.reject=function(f){return new g(function(v,y){y(f)})},g.race=function(f){return new g(function(v,y){for(var C=0,x=f.length;C<x;C++)f[C].then(v,y)})},g._immediateFn=typeof o=="function"&&function(f){o(f)}||function(f){m(f,0)},g._unhandledRejectionFn=function(f){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",f)},n.a=g}).call(this,c(5).setImmediate)},function(i,n,c){n.a=function(o){var p=this.constructor;return this.then(function(m){return p.resolve(o()).then(function(){return m})},function(m){return p.resolve(o()).then(function(){return p.reject(m)})})}},function(i,n,c){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(r)}c(4);var p,m,h,g,a,l,d,u=c(8),s=(m=function(r){return new Promise(function(f,v){r=g(r),(r=a(r)).beforeSend&&r.beforeSend();var y=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");y.open(r.method,r.url),y.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r.headers).forEach(function(x){var w=r.headers[x];y.setRequestHeader(x,w)});var C=r.ratio;y.upload.addEventListener("progress",function(x){var w=Math.round(x.loaded/x.total*100),k=Math.ceil(w*C/100);r.progress(Math.min(k,100))},!1),y.addEventListener("progress",function(x){var w=Math.round(x.loaded/x.total*100),k=Math.ceil(w*(100-C)/100)+C;r.progress(Math.min(k,100))},!1),y.onreadystatechange=function(){if(y.readyState===4){var x=y.response;try{x=JSON.parse(x)}catch{}var w=u.parseHeaders(y.getAllResponseHeaders()),k={body:x,code:y.status,headers:w};d(y.status)?f(k):v(k)}},y.send(r.data)})},h=function(r){return r.method="POST",m(r)},g=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.url&&typeof r.url!="string")throw new Error("Url must be a string");if(r.url=r.url||"",r.method&&typeof r.method!="string")throw new Error("`method` must be a string or null");if(r.method=r.method?r.method.toUpperCase():"GET",r.headers&&o(r.headers)!=="object")throw new Error("`headers` must be an object or null");if(r.headers=r.headers||{},r.type&&(typeof r.type!="string"||!Object.values(p).includes(r.type)))throw new Error("`type` must be taken from module's «contentType» library");if(r.progress&&typeof r.progress!="function")throw new Error("`progress` must be a function or null");if(r.progress=r.progress||function(f){},r.beforeSend=r.beforeSend||function(f){},r.ratio&&typeof r.ratio!="number")throw new Error("`ratio` must be a number");if(r.ratio<0||r.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(r.ratio=r.ratio||90,r.accept&&typeof r.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(r.accept=r.accept||"*/*",r.multiple&&typeof r.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(r.multiple=r.multiple||!1,r.fieldName&&typeof r.fieldName!="string")throw new Error("`fieldName` must be a string");return r.fieldName=r.fieldName||"files",r},a=function(r){switch(r.method){case"GET":var f=l(r.data,p.URLENCODED);delete r.data,r.url=/\?/.test(r.url)?r.url+"&"+f:r.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var v=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||p.JSON}(r);(u.isFormData(r.data)||u.isFormElement(r.data))&&(v=p.FORM),r.data=l(r.data,v),v!==s.contentType.FORM&&(r.headers["content-type"]=v)}return r},l=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case p.URLENCODED:return u.urlEncode(r);case p.JSON:return u.jsonEncode(r);case p.FORM:return u.formEncode(r);default:return r}},d=function(r){return r>=200&&r<300},{contentType:p={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:m,get:function(r){return r.method="GET",m(r)},post:h,transport:function(r){return r=g(r),u.selectFiles(r).then(function(f){for(var v=new FormData,y=0;y<f.length;y++)v.append(r.fieldName,f[y],f[y].name);u.isObject(r.data)&&Object.keys(r.data).forEach(function(x){var w=r.data[x];v.append(x,w)});var C=r.beforeSend;return r.beforeSend=function(){return C(f)},r.data=v,h(r)})},selectFiles:function(r){return delete(r=g(r)).beforeSend,u.selectFiles(r)}});i.exports=s},function(i,n,c){c.r(n);var o=c(1);window.Promise=window.Promise||o.a},function(i,n,c){(function(o){var p=o!==void 0&&o||typeof self<"u"&&self||window,m=Function.prototype.apply;function h(g,a){this._id=g,this._clearFn=a}n.setTimeout=function(){return new h(m.call(setTimeout,p,arguments),clearTimeout)},n.setInterval=function(){return new h(m.call(setInterval,p,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(g){g&&g.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(p,this._id)},n.enroll=function(g,a){clearTimeout(g._idleTimeoutId),g._idleTimeout=a},n.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},n._unrefActive=n.active=function(g){clearTimeout(g._idleTimeoutId);var a=g._idleTimeout;a>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},a))},c(6),n.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,c(0))},function(i,n,c){(function(o,p){(function(m,h){if(!m.setImmediate){var g,a,l,d,u,s=1,r={},f=!1,v=m.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(m);y=y&&y.setTimeout?y:m,{}.toString.call(m.process)==="[object process]"?g=function(w){p.nextTick(function(){x(w)})}:function(){if(m.postMessage&&!m.importScripts){var w=!0,k=m.onmessage;return m.onmessage=function(){w=!1},m.postMessage("","*"),m.onmessage=k,w}}()?(d="setImmediate$"+Math.random()+"$",u=function(w){w.source===m&&typeof w.data=="string"&&w.data.indexOf(d)===0&&x(+w.data.slice(d.length))},m.addEventListener?m.addEventListener("message",u,!1):m.attachEvent("onmessage",u),g=function(w){m.postMessage(d+w,"*")}):m.MessageChannel?((l=new MessageChannel).port1.onmessage=function(w){x(w.data)},g=function(w){l.port2.postMessage(w)}):v&&"onreadystatechange"in v.createElement("script")?(a=v.documentElement,g=function(w){var k=v.createElement("script");k.onreadystatechange=function(){x(w),k.onreadystatechange=null,a.removeChild(k),k=null},a.appendChild(k)}):g=function(w){setTimeout(x,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var A={callback:w,args:k};return r[s]=A,g(s),s++},y.clearImmediate=C}function C(w){delete r[w]}function x(w){if(f)setTimeout(x,0,w);else{var k=r[w];if(k){f=!0;try{(function(T){var A=T.callback,M=T.args;switch(M.length){case 0:A();break;case 1:A(M[0]);break;case 2:A(M[0],M[1]);break;case 3:A(M[0],M[1],M[2]);break;default:A.apply(h,M)}})(k)}finally{C(w),f=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,c(0),c(7))},function(i,n){var c,o,p=i.exports={};function m(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function g(y){if(c===setTimeout)return setTimeout(y,0);if((c===m||!c)&&setTimeout)return c=setTimeout,setTimeout(y,0);try{return c(y,0)}catch{try{return c.call(null,y,0)}catch{return c.call(this,y,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:m}catch{c=m}try{o=typeof clearTimeout=="function"?clearTimeout:h}catch{o=h}})();var a,l=[],d=!1,u=-1;function s(){d&&a&&(d=!1,a.length?l=a.concat(l):u=-1,l.length&&r())}function r(){if(!d){var y=g(s);d=!0;for(var C=l.length;C;){for(a=l,l=[];++u<C;)a&&a[u].run();u=-1,C=l.length}a=null,d=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===h||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}(y)}}function f(y,C){this.fun=y,this.array=C}function v(){}p.nextTick=function(y){var C=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)C[x-1]=arguments[x];l.push(new f(y,C)),l.length!==1||d||g(r)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=v,p.addListener=v,p.once=v,p.off=v,p.removeListener=v,p.removeAllListeners=v,p.emit=v,p.prependListener=v,p.prependOnceListener=v,p.listeners=function(y){return[]},p.binding=function(y){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(y){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(i,n,c){function o(m,h){for(var g=0;g<h.length;g++){var a=h[g];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(m,a.key,a)}}var p=c(9);i.exports=function(){function m(){(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m)}var h,g,a;return h=m,a=[{key:"urlEncode",value:function(l){return p(l)}},{key:"jsonEncode",value:function(l){return JSON.stringify(l)}},{key:"formEncode",value:function(l){if(this.isFormData(l))return l;if(this.isFormElement(l))return new FormData(l);if(this.isObject(l)){var d=new FormData;return Object.keys(l).forEach(function(u){var s=l[u];d.append(u,s)}),d}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(l){return Object.prototype.toString.call(l)==="[object Object]"}},{key:"isFormData",value:function(l){return l instanceof FormData}},{key:"isFormElement",value:function(l){return l instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(d,u){var s=document.createElement("INPUT");s.type="file",l.multiple&&s.setAttribute("multiple","multiple"),l.accept&&s.setAttribute("accept",l.accept),s.style.display="none",document.body.appendChild(s),s.addEventListener("change",function(r){var f=r.target.files;d(f),document.body.removeChild(s)},!1),s.click()})}},{key:"parseHeaders",value:function(l){var d=l.trim().split(/[\r\n]+/),u={};return d.forEach(function(s){var r=s.split(": "),f=r.shift(),v=r.join(": ");f&&(u[f]=v)}),u}}],(g=null)&&o(h.prototype,g),a&&o(h,a),m}()},function(i,n){var c=function(p){return encodeURIComponent(p).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(p,m,h,g){return m=m||null,h=h||"&",g=g||null,p?function(a){for(var l=new Array,d=0;d<a.length;d++)a[d]&&l.push(a[d]);return l}(Object.keys(p).map(function(a){var l,d,u=a;if(g&&(u=g+"["+u+"]"),typeof p[a]=="object"&&p[a]!==null)l=o(p[a],null,h,u);else{m&&(d=u,u=!isNaN(parseFloat(d))&&isFinite(d)?m+Number(u):u);var s=p[a];s=(s=(s=(s=s===!0?"1":s)===!1?"0":s)===0?"0":s)||"",l=c(u)+"="+c(s)}return l})).join(h).replace(/[!'()*]/g,""):""};i.exports=o}])})})(tl);var zg=tl.exports;const jt=Wg(zg);function Rn(t){return t!==void 0&&typeof t.then=="function"}let Ug=class{constructor({config:e,onUpload:i,onError:n}){this.config=e,this.onUpload=i,this.onError=n}uploadSelectedFile({onPreview:e}){const i=function(c){const o=new FileReader;o.readAsDataURL(c),o.onload=p=>{e(p.target.result)}};let n;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const c=this.config.uploader.uploadByFile;n=jt.selectFiles({accept:this.config.types??"video/*"}).then(o=>{i(o[0]);const p=c(o[0]);return Rn(p)||console.warn("Custom uploader method uploadByFile should return a Promise"),p})}else n=jt.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"video/*",headers:this.config.additionalRequestHeaders,beforeSend:c=>{i(c[0])},fieldName:this.config.field??"video"}).then(c=>c.body);n.then(c=>{this.onUpload(c)}).catch(c=>{this.onError(c)})}uploadByUrl(e){let i;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(i=this.config.uploader.uploadByUrl(e),Rn(i)||console.warn("Custom uploader method uploadByUrl should return a Promise")):i=jt.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:jt.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(n=>n.body),i.then(n=>{this.onUpload(n)}).catch(n=>{this.onError(n)})}uploadByFile(e,{onPreview:i}){const n=new FileReader;n.readAsDataURL(e),n.onload=o=>{i(o.target.result)};let c;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")c=this.config.uploader.uploadByFile(e),Rn(c)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field??"video",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([p,m])=>{o.append(p,m)}),c=jt.post({url:this.config.endpoints.byFile,data:o,type:jt.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(p=>p.body)}c.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}};/**
 * Video Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * video: {
 *   class: VideoTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let Gg=class Zn{constructor({data:e,config:i,api:n,readOnly:c,block:o}){this.api=n,this.readOnly=c,this.block=o,this.config={endpoints:i.endpoints,additionalRequestData:i.additionalRequestData,additionalRequestHeaders:i.additionalRequestHeaders,field:i.field,types:i.types,captionPlaceholder:this.api.i18n.t(i.captionPlaceholder??"Caption"),buttonContent:i.buttonContent,uploader:i.uploader,actions:i.actions},this.uploader=new Ug({config:this.config,onUpload:p=>this.onUpload(p),onError:p=>this.uploadingFailed(p)}),this.ui=new Vg({api:n,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:p=>{this.ui.showPreloader(p)}})},readOnly:c}),this._data={caption:"",stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:el,title:"Video"}}static get tunes(){return[{name:"stretched",icon:Hg,title:"Stretch",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Zn.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{video:/https?:\/\/\S+\.(avi|wmv|mov|webm|mpeg4|ts|mpg|rm|rmvb|mkv|mp4)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["video/*"]}}}async onPaste(e){switch(e.type){case"tag":{const i=e.detail.data;if(/^blob:/.test(i.src)){const n=await(await fetch(i.src)).blob();this.uploadFile(n);break}this.uploadUrl(i.src);break}case"pattern":{const i=e.detail.data;this.uploadUrl(i);break}case"file":{const i=e.detail.file;this.uploadFile(i);break}}}set data(e){this.video=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Zn.tunes.forEach(({name:i})=>{const n=typeof e[i]<"u"?e[i]===!0||e[i]==="true":!1;this.setTune(i,n)})}get data(){return this._data}set video(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillVideo(e.url)}onUpload(e){e.success&&e.file?this.video=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Video Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload video file. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,i){this._data[e]=i,this.ui.applyTune(e,i),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=i}).catch(n=>{console.error(n)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:i=>{this.ui.showPreloader(i)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.audio-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.audio-tool__audio{border-radius:3px;overflow:hidden;margin-bottom:10px}.audio-tool__audio-file{max-width:100%;vertical-align:bottom;display:block}.audio-tool__audio-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.audio-tool__audio-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:audio-preloader-spin 2s infinite linear;box-sizing:border-box}.audio-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.audio-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.audio-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.audio-tool--empty .audio-tool__audio,.audio-tool--empty .audio-tool__caption,.audio-tool--loading .audio-tool__caption{display:none}.audio-tool .cdx-button{display:flex;align-items:center;justify-content:center}.audio-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.audio-tool--filled .cdx-button,.audio-tool--filled .audio-tool__audio-preloader{display:none}.audio-tool--loading .audio-tool__audio{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.audio-tool--loading .audio-tool__audio-file,.audio-tool--loading .cdx-button{display:none}.audio-tool--stretched audio{width:100%}@keyframes audio-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function Ht(t,e=null,i={}){const n=document.createElement(t);Array.isArray(e)?n.classList.add(...e):e!==null&&n.classList.add(e);for(const c in i)i.hasOwnProperty(c)&&(n[c]=i[c]);return n}const Kg='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 26"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9c.625.82 1 1.863 1 3s-.375 2.18-1 3m-3-.186V9.186c0-3.145 0-4.717-.925-5.109c-.926-.391-2.015.72-4.193 2.945c-1.128 1.152-1.771 1.407-3.376 1.407c-1.403 0-2.105 0-2.61.344C3.85 9.487 4.01 10.882 4.01 12s-.159 2.513.888 3.227c.504.344 1.206.344 2.609.344c1.605 0 2.248.255 3.376 1.407c2.178 2.224 3.267 3.336 4.193 2.945c.925-.392.925-1.964.925-5.11" color="currentColor"/></svg>';var hi=(t=>(t.Empty="empty",t.Uploading="uploading",t.Filled="filled",t))(hi||{});class Yg{constructor({api:e,config:i,onSelectFile:n,readOnly:c}){this.api=e,this.config=i,this.onSelectFile=n,this.readOnly=c,this.nodes={wrapper:Ht("div",[this.CSS.baseClass,this.CSS.wrapper]),audioContainer:Ht("div",[this.CSS.audioContainer]),fileButton:this.createFileButton(),audioEl:void 0,audioPreloader:Ht("div",this.CSS.audioPreloader),caption:Ht("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.audioContainer.appendChild(this.nodes.audioPreloader),this.nodes.wrapper.appendChild(this.nodes.audioContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,i){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,i)}render(e){return e.file===void 0||Object.keys(e.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.audioPreloader.style.backgroundImage=`url(${e})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.audioPreloader.style.backgroundImage="",this.toggleStatus("empty")}fillAudio(e){const i="AUDIO",n={src:e};let c="load";n.autoplay=!1,n.loop=!1,n.muted=!0,n.playsinline=!0,n.controls=!0,c="loadeddata",this.nodes.audioEl=Ht(i,this.CSS.audioEl,n),this.nodes.audioEl.addEventListener(c,()=>{this.toggleStatus("filled"),this.nodes.audioPreloader!==void 0&&(this.nodes.audioPreloader.style.backgroundImage="")}),this.nodes.audioContainer.appendChild(this.nodes.audioEl)}fillCaption(e){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"audio-tool",audioContainer:"audio-tool__audio",audioPreloader:"audio-tool__audio-preloader",audioEl:"audio-tool__audio-file",caption:"audio-tool__caption"}}createFileButton(){const e=Ht("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent??`${Kg} ${this.api.i18n.t("Select an Audio")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}toggleStatus(e){for(const i in hi)Object.prototype.hasOwnProperty.call(hi,i)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${hi[i]}`,e===hi[i])}}function Xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var il={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(window,function(){return function(i){var n={};function c(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return i[o].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=i,c.c=n,c.d=function(o,p,m){c.o(o,p)||Object.defineProperty(o,p,{enumerable:!0,get:m})},c.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},c.t=function(o,p){if(1&p&&(o=c(o)),8&p||4&p&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(c.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&p&&typeof o!="string")for(var h in o)c.d(m,h,(function(g){return o[g]}).bind(null,h));return m},c.n=function(o){var p=o&&o.__esModule?function(){return o.default}:function(){return o};return c.d(p,"a",p),p},c.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},c.p="",c(c.s=3)}([function(i,n){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{typeof window=="object"&&(c=window)}i.exports=c},function(i,n,c){(function(o){var p=c(2),m=setTimeout;function h(){}function g(f){if(!(this instanceof g))throw new TypeError("Promises must be constructed via new");if(typeof f!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],r(f,this)}function a(f,v){for(;f._state===3;)f=f._value;f._state!==0?(f._handled=!0,g._immediateFn(function(){var y=f._state===1?v.onFulfilled:v.onRejected;if(y!==null){var C;try{C=y(f._value)}catch(x){return void d(v.promise,x)}l(v.promise,C)}else(f._state===1?l:d)(v.promise,f._value)})):f._deferreds.push(v)}function l(f,v){try{if(v===f)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var y=v.then;if(v instanceof g)return f._state=3,f._value=v,void u(f);if(typeof y=="function")return void r((C=y,x=v,function(){C.apply(x,arguments)}),f)}f._state=1,f._value=v,u(f)}catch(w){d(f,w)}var C,x}function d(f,v){f._state=2,f._value=v,u(f)}function u(f){f._state===2&&f._deferreds.length===0&&g._immediateFn(function(){f._handled||g._unhandledRejectionFn(f._value)});for(var v=0,y=f._deferreds.length;v<y;v++)a(f,f._deferreds[v]);f._deferreds=null}function s(f,v,y){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof v=="function"?v:null,this.promise=y}function r(f,v){var y=!1;try{f(function(C){y||(y=!0,l(v,C))},function(C){y||(y=!0,d(v,C))})}catch(C){if(y)return;y=!0,d(v,C)}}g.prototype.catch=function(f){return this.then(null,f)},g.prototype.then=function(f,v){var y=new this.constructor(h);return a(this,new s(f,v,y)),y},g.prototype.finally=p.a,g.all=function(f){return new g(function(v,y){if(!f||f.length===void 0)throw new TypeError("Promise.all accepts an array");var C=Array.prototype.slice.call(f);if(C.length===0)return v([]);var x=C.length;function w(T,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var M=A.then;if(typeof M=="function")return void M.call(A,function(L){w(T,L)},y)}C[T]=A,--x==0&&v(C)}catch(L){y(L)}}for(var k=0;k<C.length;k++)w(k,C[k])})},g.resolve=function(f){return f&&typeof f=="object"&&f.constructor===g?f:new g(function(v){v(f)})},g.reject=function(f){return new g(function(v,y){y(f)})},g.race=function(f){return new g(function(v,y){for(var C=0,x=f.length;C<x;C++)f[C].then(v,y)})},g._immediateFn=typeof o=="function"&&function(f){o(f)}||function(f){m(f,0)},g._unhandledRejectionFn=function(f){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",f)},n.a=g}).call(this,c(5).setImmediate)},function(i,n,c){n.a=function(o){var p=this.constructor;return this.then(function(m){return p.resolve(o()).then(function(){return m})},function(m){return p.resolve(o()).then(function(){return p.reject(m)})})}},function(i,n,c){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(r)}c(4);var p,m,h,g,a,l,d,u=c(8),s=(m=function(r){return new Promise(function(f,v){r=g(r),(r=a(r)).beforeSend&&r.beforeSend();var y=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");y.open(r.method,r.url),y.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r.headers).forEach(function(x){var w=r.headers[x];y.setRequestHeader(x,w)});var C=r.ratio;y.upload.addEventListener("progress",function(x){var w=Math.round(x.loaded/x.total*100),k=Math.ceil(w*C/100);r.progress(Math.min(k,100))},!1),y.addEventListener("progress",function(x){var w=Math.round(x.loaded/x.total*100),k=Math.ceil(w*(100-C)/100)+C;r.progress(Math.min(k,100))},!1),y.onreadystatechange=function(){if(y.readyState===4){var x=y.response;try{x=JSON.parse(x)}catch{}var w=u.parseHeaders(y.getAllResponseHeaders()),k={body:x,code:y.status,headers:w};d(y.status)?f(k):v(k)}},y.send(r.data)})},h=function(r){return r.method="POST",m(r)},g=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.url&&typeof r.url!="string")throw new Error("Url must be a string");if(r.url=r.url||"",r.method&&typeof r.method!="string")throw new Error("`method` must be a string or null");if(r.method=r.method?r.method.toUpperCase():"GET",r.headers&&o(r.headers)!=="object")throw new Error("`headers` must be an object or null");if(r.headers=r.headers||{},r.type&&(typeof r.type!="string"||!Object.values(p).includes(r.type)))throw new Error("`type` must be taken from module's «contentType» library");if(r.progress&&typeof r.progress!="function")throw new Error("`progress` must be a function or null");if(r.progress=r.progress||function(f){},r.beforeSend=r.beforeSend||function(f){},r.ratio&&typeof r.ratio!="number")throw new Error("`ratio` must be a number");if(r.ratio<0||r.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(r.ratio=r.ratio||90,r.accept&&typeof r.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(r.accept=r.accept||"*/*",r.multiple&&typeof r.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(r.multiple=r.multiple||!1,r.fieldName&&typeof r.fieldName!="string")throw new Error("`fieldName` must be a string");return r.fieldName=r.fieldName||"files",r},a=function(r){switch(r.method){case"GET":var f=l(r.data,p.URLENCODED);delete r.data,r.url=/\?/.test(r.url)?r.url+"&"+f:r.url+"?"+f;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var v=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||p.JSON}(r);(u.isFormData(r.data)||u.isFormElement(r.data))&&(v=p.FORM),r.data=l(r.data,v),v!==s.contentType.FORM&&(r.headers["content-type"]=v)}return r},l=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case p.URLENCODED:return u.urlEncode(r);case p.JSON:return u.jsonEncode(r);case p.FORM:return u.formEncode(r);default:return r}},d=function(r){return r>=200&&r<300},{contentType:p={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:m,get:function(r){return r.method="GET",m(r)},post:h,transport:function(r){return r=g(r),u.selectFiles(r).then(function(f){for(var v=new FormData,y=0;y<f.length;y++)v.append(r.fieldName,f[y],f[y].name);u.isObject(r.data)&&Object.keys(r.data).forEach(function(x){var w=r.data[x];v.append(x,w)});var C=r.beforeSend;return r.beforeSend=function(){return C(f)},r.data=v,h(r)})},selectFiles:function(r){return delete(r=g(r)).beforeSend,u.selectFiles(r)}});i.exports=s},function(i,n,c){c.r(n);var o=c(1);window.Promise=window.Promise||o.a},function(i,n,c){(function(o){var p=o!==void 0&&o||typeof self<"u"&&self||window,m=Function.prototype.apply;function h(g,a){this._id=g,this._clearFn=a}n.setTimeout=function(){return new h(m.call(setTimeout,p,arguments),clearTimeout)},n.setInterval=function(){return new h(m.call(setInterval,p,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(g){g&&g.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(p,this._id)},n.enroll=function(g,a){clearTimeout(g._idleTimeoutId),g._idleTimeout=a},n.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},n._unrefActive=n.active=function(g){clearTimeout(g._idleTimeoutId);var a=g._idleTimeout;a>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},a))},c(6),n.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,c(0))},function(i,n,c){(function(o,p){(function(m,h){if(!m.setImmediate){var g,a,l,d,u,s=1,r={},f=!1,v=m.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(m);y=y&&y.setTimeout?y:m,{}.toString.call(m.process)==="[object process]"?g=function(w){p.nextTick(function(){x(w)})}:function(){if(m.postMessage&&!m.importScripts){var w=!0,k=m.onmessage;return m.onmessage=function(){w=!1},m.postMessage("","*"),m.onmessage=k,w}}()?(d="setImmediate$"+Math.random()+"$",u=function(w){w.source===m&&typeof w.data=="string"&&w.data.indexOf(d)===0&&x(+w.data.slice(d.length))},m.addEventListener?m.addEventListener("message",u,!1):m.attachEvent("onmessage",u),g=function(w){m.postMessage(d+w,"*")}):m.MessageChannel?((l=new MessageChannel).port1.onmessage=function(w){x(w.data)},g=function(w){l.port2.postMessage(w)}):v&&"onreadystatechange"in v.createElement("script")?(a=v.documentElement,g=function(w){var k=v.createElement("script");k.onreadystatechange=function(){x(w),k.onreadystatechange=null,a.removeChild(k),k=null},a.appendChild(k)}):g=function(w){setTimeout(x,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var A={callback:w,args:k};return r[s]=A,g(s),s++},y.clearImmediate=C}function C(w){delete r[w]}function x(w){if(f)setTimeout(x,0,w);else{var k=r[w];if(k){f=!0;try{(function(T){var A=T.callback,M=T.args;switch(M.length){case 0:A();break;case 1:A(M[0]);break;case 2:A(M[0],M[1]);break;case 3:A(M[0],M[1],M[2]);break;default:A.apply(h,M)}})(k)}finally{C(w),f=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,c(0),c(7))},function(i,n){var c,o,p=i.exports={};function m(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function g(y){if(c===setTimeout)return setTimeout(y,0);if((c===m||!c)&&setTimeout)return c=setTimeout,setTimeout(y,0);try{return c(y,0)}catch{try{return c.call(null,y,0)}catch{return c.call(this,y,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:m}catch{c=m}try{o=typeof clearTimeout=="function"?clearTimeout:h}catch{o=h}})();var a,l=[],d=!1,u=-1;function s(){d&&a&&(d=!1,a.length?l=a.concat(l):u=-1,l.length&&r())}function r(){if(!d){var y=g(s);d=!0;for(var C=l.length;C;){for(a=l,l=[];++u<C;)a&&a[u].run();u=-1,C=l.length}a=null,d=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===h||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}(y)}}function f(y,C){this.fun=y,this.array=C}function v(){}p.nextTick=function(y){var C=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)C[x-1]=arguments[x];l.push(new f(y,C)),l.length!==1||d||g(r)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=v,p.addListener=v,p.once=v,p.off=v,p.removeListener=v,p.removeAllListeners=v,p.emit=v,p.prependListener=v,p.prependOnceListener=v,p.listeners=function(y){return[]},p.binding=function(y){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(y){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(i,n,c){function o(m,h){for(var g=0;g<h.length;g++){var a=h[g];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(m,a.key,a)}}var p=c(9);i.exports=function(){function m(){(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m)}var h,g,a;return h=m,a=[{key:"urlEncode",value:function(l){return p(l)}},{key:"jsonEncode",value:function(l){return JSON.stringify(l)}},{key:"formEncode",value:function(l){if(this.isFormData(l))return l;if(this.isFormElement(l))return new FormData(l);if(this.isObject(l)){var d=new FormData;return Object.keys(l).forEach(function(u){var s=l[u];d.append(u,s)}),d}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(l){return Object.prototype.toString.call(l)==="[object Object]"}},{key:"isFormData",value:function(l){return l instanceof FormData}},{key:"isFormElement",value:function(l){return l instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(d,u){var s=document.createElement("INPUT");s.type="file",l.multiple&&s.setAttribute("multiple","multiple"),l.accept&&s.setAttribute("accept",l.accept),s.style.display="none",document.body.appendChild(s),s.addEventListener("change",function(r){var f=r.target.files;d(f),document.body.removeChild(s)},!1),s.click()})}},{key:"parseHeaders",value:function(l){var d=l.trim().split(/[\r\n]+/),u={};return d.forEach(function(s){var r=s.split(": "),f=r.shift(),v=r.join(": ");f&&(u[f]=v)}),u}}],(g=null)&&o(h.prototype,g),a&&o(h,a),m}()},function(i,n){var c=function(p){return encodeURIComponent(p).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(p,m,h,g){return m=m||null,h=h||"&",g=g||null,p?function(a){for(var l=new Array,d=0;d<a.length;d++)a[d]&&l.push(a[d]);return l}(Object.keys(p).map(function(a){var l,d,u=a;if(g&&(u=g+"["+u+"]"),typeof p[a]=="object"&&p[a]!==null)l=o(p[a],null,h,u);else{m&&(d=u,u=!isNaN(parseFloat(d))&&isFinite(d)?m+Number(u):u);var s=p[a];s=(s=(s=(s=s===!0?"1":s)===!1?"0":s)===0?"0":s)||"",l=c(u)+"="+c(s)}return l})).join(h).replace(/[!'()*]/g,""):""};i.exports=o}])})})(il);var Qg=il.exports;const Vt=Xg(Qg);function Dn(t){return t!==void 0&&typeof t.then=="function"}class Zg{constructor({config:e,onUpload:i,onError:n}){this.config=e,this.onUpload=i,this.onError=n}uploadSelectedFile({onPreview:e}){const i=function(c){const o=new FileReader;o.readAsDataURL(c),o.onload=p=>{e(p.target.result)}};let n;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const c=this.config.uploader.uploadByFile;n=Vt.selectFiles({accept:this.config.types??"audio/*"}).then(o=>{i(o[0]);const p=c(o[0]);return Dn(p)||console.warn("Custom uploader method uploadByFile should return a Promise"),p})}else n=Vt.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"audio/*",headers:this.config.additionalRequestHeaders,beforeSend:c=>{i(c[0])},fieldName:this.config.field??"audio"}).then(c=>c.body);n.then(c=>{this.onUpload(c)}).catch(c=>{this.onError(c)})}uploadByUrl(e){let i;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(i=this.config.uploader.uploadByUrl(e),Dn(i)||console.warn("Custom uploader method uploadByUrl should return a Promise")):i=Vt.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Vt.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(n=>n.body),i.then(n=>{this.onUpload(n)}).catch(n=>{this.onError(n)})}uploadByFile(e,{onPreview:i}){const n=new FileReader;n.readAsDataURL(e),n.onload=o=>{i(o.target.result)};let c;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")c=this.config.uploader.uploadByFile(e),Dn(c)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field??"audio",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([p,m])=>{o.append(p,m)}),c=Vt.post({url:this.config.endpoints.byFile,data:o,type:Vt.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(p=>p.body)}c.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}}const Jg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';/**
 * Audio Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * audio: {
 *   class: AudioTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */const qg='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 26"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9c.625.82 1 1.863 1 3s-.375 2.18-1 3m-3-.186V9.186c0-3.145 0-4.717-.925-5.109c-.926-.391-2.015.72-4.193 2.945c-1.128 1.152-1.771 1.407-3.376 1.407c-1.403 0-2.105 0-2.61.344C3.85 9.487 4.01 10.882 4.01 12s-.159 2.513.888 3.227c.504.344 1.206.344 2.609.344c1.605 0 2.248.255 3.376 1.407c2.178 2.224 3.267 3.336 4.193 2.945c.925-.392.925-1.964.925-5.11" color="currentColor"/></svg>';class Qi{constructor({data:e,config:i,api:n,readOnly:c,block:o}){this.api=n,this.readOnly=c,this.block=o,this.config={endpoints:i.endpoints,additionalRequestData:i.additionalRequestData,additionalRequestHeaders:i.additionalRequestHeaders,field:i.field,types:i.types,captionPlaceholder:this.api.i18n.t(i.captionPlaceholder??"Caption"),buttonContent:i.buttonContent,uploader:i.uploader,actions:i.actions},this.uploader=new Zg({config:this.config,onUpload:p=>this.onUpload(p),onError:p=>this.uploadingFailed(p)}),this.ui=new Yg({api:n,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:p=>{this.ui.showPreloader(p)}})},readOnly:c}),this._data={caption:"",stretched:!1,file:{url:""}},this.data=e}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:qg,title:"Audio"}}static get tunes(){return[{name:"stretched",icon:Jg,title:"Stretch",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Qi.tunes.concat(this.config.actions||[]).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{audio:/https?:\/\/\S+\.(mp3|ogg|oga|wav|mpeg|aac)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["audio/*"]}}}async onPaste(e){switch(e.type){case"tag":{const i=e.detail.data;if(/^blob:/.test(i.src)){const n=await(await fetch(i.src)).blob();this.uploadFile(n);break}this.uploadUrl(i.src);break}case"pattern":{const i=e.detail.data;this.uploadUrl(i);break}case"file":{const i=e.detail.file;this.uploadFile(i);break}}}set data(e){this.audio=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Qi.tunes.forEach(({name:i})=>{const n=typeof e[i]<"u"?e[i]===!0||e[i]==="true":!1;this.setTune(i,n)})}get data(){return this._data}set audio(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillAudio(e.url)}onUpload(e){e.success&&e.file?this.audio=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Audio Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload audio file. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,i){this._data[e]=i,this.ui.applyTune(e,i),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=i}).catch(n=>{console.error(n)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:i=>{this.ui.showPreloader(i)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}var nl={exports:{}};(function(t,e){(function(){var i="ace",n=function(){return this}();!n&&typeof window<"u"&&(n=window);var c=function(a,l,d){if(typeof a!="string"){c.original?c.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(d=l),c.modules[a]||(c.payloads[a]=d,c.modules[a]=null)};c.modules={},c.payloads={};var o=function(a,l,d){if(typeof l=="string"){var u=h(a,l);if(u!=null)return d&&d(),u}else if(Object.prototype.toString.call(l)==="[object Array]"){for(var s=[],r=0,f=l.length;r<f;++r){var v=h(a,l[r]);if(v==null&&p.original)return;s.push(v)}return d&&d.apply(null,s)||!0}},p=function(a,l){var d=o("",a,l);return d==null&&p.original?p.original.apply(this,arguments):d},m=function(a,l){if(l.indexOf("!")!==-1){var d=l.split("!");return m(a,d[0])+"!"+m(a,d[1])}if(l.charAt(0)=="."){var u=a.split("/").slice(0,-1).join("/");for(l=u+"/"+l;l.indexOf(".")!==-1&&s!=l;){var s=l;l=l.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return l},h=function(a,l){l=m(a,l);var d=c.modules[l];if(!d){if(d=c.payloads[l],typeof d=="function"){var u={},s={id:l,uri:"",exports:u,packaged:!0},r=function(v,y){return o(l,v,y)},f=d(r,u,s);u=f||s.exports,c.modules[l]=u,delete c.payloads[l]}d=c.modules[l]=u||d}return d};function g(a){var l=n;n[a]||(n[a]={}),l=n[a],(!l.define||!l.define.packaged)&&(c.original=l.define,l.define=c,l.define.packaged=!0),(!l.require||!l.require.packaged)&&(p.original=l.require,l.require=p,l.require.packaged=!0)}g(i)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(i,n,c){function o(p,m,h){Object.defineProperty(p,m,{value:h,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(p,m){return m=m||0,this.lastIndexOf(p,m)===m}),String.prototype.endsWith||o(String.prototype,"endsWith",function(p,m){var h=this;(m===void 0||m>h.length)&&(m=h.length),m-=p.length;var g=h.indexOf(p,m);return g!==-1&&g===m}),String.prototype.repeat||o(String.prototype,"repeat",function(p){for(var m="",h=this;p>0;)p&1&&(m+=h),(p>>=1)&&(h+=h);return m}),String.prototype.includes||o(String.prototype,"includes",function(p,m){return this.indexOf(p,m)!=-1}),Object.assign||(Object.assign=function(p){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(p),h=1;h<arguments.length;h++){var g=arguments[h];g!=null&&Object.keys(g).forEach(function(a){m[a]=g[a]})}return m}),Object.values||(Object.values=function(p){return Object.keys(p).map(function(m){return p[m]})}),Array.prototype.find||o(Array.prototype,"find",function(p){for(var m=this.length,h=arguments[1],g=0;g<m;g++){var a=this[g];if(p.call(h,a,g,this))return a}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(p){for(var m=this.length,h=arguments[1],g=0;g<m;g++){var a=this[g];if(p.call(h,a,g,this))return g}}),Array.prototype.includes||o(Array.prototype,"includes",function(p,m){return this.indexOf(p,m)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(p){for(var m=this,h=m.length>>>0,g=arguments[1],a=g>>0,l=a<0?Math.max(h+a,0):Math.min(a,h),d=arguments[2],u=d===void 0?h:d>>0,s=u<0?Math.max(h+u,0):Math.min(u,h);l<s;)m[l]=p,l++;return m}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(i,n,c){i("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(i,n,c){n.deepCopy=function o(p){if(typeof p!="object"||!p)return p;var m;if(Array.isArray(p)){m=[];for(var h=0;h<p.length;h++)m[h]=o(p[h]);return m}if(Object.prototype.toString.call(p)!=="[object Object]")return p;m={};for(var h in p)m[h]=o(p[h]);return m}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(i,n,c){n.last=function(m){return m[m.length-1]},n.stringReverse=function(m){return m.split("").reverse().join("")},n.stringRepeat=function(m,h){for(var g="";h>0;)h&1&&(g+=m),(h>>=1)&&(m+=m);return g};var o=/^\s\s*/,p=/\s\s*$/;n.stringTrimLeft=function(m){return m.replace(o,"")},n.stringTrimRight=function(m){return m.replace(p,"")},n.copyObject=function(m){var h={};for(var g in m)h[g]=m[g];return h},n.copyArray=function(m){for(var h=[],g=0,a=m.length;g<a;g++)m[g]&&typeof m[g]=="object"?h[g]=this.copyObject(m[g]):h[g]=m[g];return h},n.deepCopy=i("./deep_copy").deepCopy,n.arrayToMap=function(m){for(var h={},g=0;g<m.length;g++)h[m[g]]=1;return h},n.createMap=function(m){var h=Object.create(null);for(var g in m)h[g]=m[g];return h},n.arrayRemove=function(m,h){for(var g=0;g<=m.length;g++)h===m[g]&&m.splice(g,1)},n.escapeRegExp=function(m){return m.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},n.escapeHTML=function(m){return(""+m).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},n.getMatchOffsets=function(m,h){var g=[];return m.replace(h,function(a){g.push({offset:arguments[arguments.length-2],length:a.length})}),g},n.deferredCall=function(m){var h=null,g=function(){h=null,m()},a=function(l){return a.cancel(),h=setTimeout(g,l||0),a};return a.schedule=a,a.call=function(){return this.cancel(),m(),a},a.cancel=function(){return clearTimeout(h),h=null,a},a.isPending=function(){return h},a},n.delayedCall=function(m,h){var g=null,a=function(){g=null,m()},l=function(d){g==null&&(g=setTimeout(a,d||h))};return l.delay=function(d){g&&clearTimeout(g),g=setTimeout(a,d||h)},l.schedule=l,l.call=function(){this.cancel(),m()},l.cancel=function(){g&&clearTimeout(g),g=null},l.isPending=function(){return g},l},n.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},n.skipEmptyMatch=function(m,h,g){return g&&m.codePointAt(h)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(i,n,c){n.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},n.getOS=function(){return n.isMac?n.OS.MAC:n.isLinux?n.OS.LINUX:n.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},p=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),m=o.userAgent||"",h=o.appName||"";n.isWin=p=="win",n.isMac=p=="mac",n.isLinux=p=="linux",n.isIE=h=="Microsoft Internet Explorer"||h.indexOf("MSAppHost")>=0?parseFloat((m.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((m.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),n.isOldIE=n.isIE&&n.isIE<9,n.isGecko=n.isMozilla=m.match(/ Gecko\/\d+/),n.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",n.isWebKit=parseFloat(m.split("WebKit/")[1])||void 0,n.isChrome=parseFloat(m.split(" Chrome/")[1])||void 0,n.isSafari=parseFloat(m.split(" Safari/")[1])&&!n.isChrome||void 0,n.isEdge=parseFloat(m.split(" Edge/")[1])||void 0,n.isAIR=m.indexOf("AdobeAIR")>=0,n.isAndroid=m.indexOf("Android")>=0,n.isChromeOS=m.indexOf(" CrOS ")>=0,n.isIOS=/iPad|iPhone|iPod/.test(m)&&!window.MSStream,n.isIOS&&(n.isMac=!0),n.isMobile=n.isIOS||n.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(i,n,c){var o=i("./useragent"),p="http://www.w3.org/1999/xhtml";n.buildDom=function d(u,s,r){if(typeof u=="string"&&u){var f=document.createTextNode(u);return s&&s.appendChild(f),f}if(!Array.isArray(u))return u&&u.appendChild&&s&&s.appendChild(u),u;if(typeof u[0]!="string"||!u[0]){for(var v=[],y=0;y<u.length;y++){var C=d(u[y],s,r);C&&v.push(C)}return v}var x=document.createElement(u[0]),w=u[1],k=1;w&&typeof w=="object"&&!Array.isArray(w)&&(k=2);for(var y=k;y<u.length;y++)d(u[y],x,r);return k==2&&Object.keys(w).forEach(function(T){var A=w[T];T==="class"?x.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||T=="value"||T[0]=="$"?x[T]=A:T==="ref"?r&&(r[A]=x):T==="style"?typeof A=="string"&&(x.style.cssText=A):A!=null&&x.setAttribute(T,A)}),s&&s.appendChild(x),x},n.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},n.createElement=function(d,u){return document.createElementNS?document.createElementNS(u||p,d):document.createElement(d)},n.removeChildren=function(d){d.innerHTML=""},n.createTextNode=function(d,u){var s=u?u.ownerDocument:document;return s.createTextNode(d)},n.createFragment=function(d){var u=d?d.ownerDocument:document;return u.createDocumentFragment()},n.hasCssClass=function(d,u){var s=(d.className+"").split(/\s+/g);return s.indexOf(u)!==-1},n.addCssClass=function(d,u){n.hasCssClass(d,u)||(d.className+=" "+u)},n.removeCssClass=function(d,u){for(var s=d.className.split(/\s+/g);;){var r=s.indexOf(u);if(r==-1)break;s.splice(r,1)}d.className=s.join(" ")},n.toggleCssClass=function(d,u){for(var s=d.className.split(/\s+/g),r=!0;;){var f=s.indexOf(u);if(f==-1)break;r=!1,s.splice(f,1)}return r&&s.push(u),d.className=s.join(" "),r},n.setCssClass=function(d,u,s){s?n.addCssClass(d,u):n.removeCssClass(d,u)},n.hasCssString=function(d,u){var s=0,r;if(u=u||document,r=u.querySelectorAll("style")){for(;s<r.length;)if(r[s++].id===d)return!0}},n.removeElementById=function(d,u){u=u||document,u.getElementById(d)&&u.getElementById(d).remove()};var m,h=[];n.useStrictCSP=function(d){m=d,d==!1?g():h||(h=[])};function g(){var d=h;h=null,d&&d.forEach(function(u){a(u[0],u[1])})}function a(d,u,s){if(!(typeof document>"u")){if(h){if(s)g();else if(s===!1)return h.push([d,u])}if(!m){var r=s;!s||!s.getRootNode?r=document:(r=s.getRootNode(),(!r||r==s)&&(r=document));var f=r.ownerDocument||r;if(u&&n.hasCssString(u,r))return null;u&&(d+=`
/*# sourceURL=ace/css/`+u+" */");var v=n.createElement("style");v.appendChild(f.createTextNode(d)),u&&(v.id=u),r==f&&(r=n.getDocumentHead(f)),r.insertBefore(v,r.firstChild)}}}if(n.importCssString=a,n.importCssStylsheet=function(d,u){n.buildDom(["link",{rel:"stylesheet",href:d}],n.getDocumentHead(u))},n.scrollbarWidth=function(d){var u=n.createElement("ace_inner");u.style.width="100%",u.style.minWidth="0px",u.style.height="200px",u.style.display="block";var s=n.createElement("ace_outer"),r=s.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",s.appendChild(u);var f=d&&d.documentElement||document&&document.documentElement;if(!f)return 0;f.appendChild(s);var v=u.offsetWidth;r.overflow="scroll";var y=u.offsetWidth;return v===y&&(y=s.clientWidth),f.removeChild(s),v-y},n.computedStyle=function(d,u){return window.getComputedStyle(d,"")||{}},n.setStyle=function(d,u,s){d[u]!==s&&(d[u]=s)},n.HAS_CSS_ANIMATION=!1,n.HAS_CSS_TRANSFORMS=!1,n.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(n.HI_DPI=!1),typeof document<"u"){var l=document.createElement("div");n.HI_DPI&&l.style.transform!==void 0&&(n.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof l.style.animationName<"u"&&(n.HAS_CSS_ANIMATION=!0),l=null}n.HAS_CSS_TRANSFORMS?n.translate=function(d,u,s){d.style.transform="translate("+Math.round(u)+"px, "+Math.round(s)+"px)"}:n.translate=function(d,u,s){d.style.top=Math.round(s)+"px",d.style.left=Math.round(u)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(i,n,c){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=i("./dom");n.get=function(p,m){var h=new XMLHttpRequest;h.open("GET",p,!0),h.onreadystatechange=function(){h.readyState===4&&m(h.responseText)},h.send(null)},n.loadScript=function(p,m){var h=o.getDocumentHead(),g=document.createElement("script");g.src=p,h.appendChild(g),g.onload=g.onreadystatechange=function(a,l){(l||!g.readyState||g.readyState=="loaded"||g.readyState=="complete")&&(g=g.onload=g.onreadystatechange=null,l||m())}},n.qualifyURL=function(p){var m=document.createElement("a");return m.href=p,m.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(i,n,c){n.inherits=function(o,p){o.super_=p,o.prototype=Object.create(p.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(o,p){for(var m in p)o[m]=p[m];return o},n.implement=function(o,p){n.mixin(o,p)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(i,n,c){var o={},p=function(){this.propagationStopped=!0},m=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(h,g){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var a=this._eventRegistry[h]||[],l=this._defaultHandlers[h];if(!(!a.length&&!l)){(typeof g!="object"||!g)&&(g={}),g.type||(g.type=h),g.stopPropagation||(g.stopPropagation=p),g.preventDefault||(g.preventDefault=m),a=a.slice();for(var d=0;d<a.length&&(a[d](g,this),!g.propagationStopped);d++);if(l&&!g.defaultPrevented)return l(g,this)}},o._signal=function(h,g){var a=(this._eventRegistry||{})[h];if(a){a=a.slice();for(var l=0;l<a.length;l++)a[l](g,this)}},o.once=function(h,g){var a=this;if(this.on(h,function l(){a.off(h,l),g.apply(null,arguments)}),!g)return new Promise(function(l){g=l})},o.setDefaultHandler=function(h,g){var a=this._defaultHandlers;if(a||(a=this._defaultHandlers={_disabled_:{}}),a[h]){var l=a[h],d=a._disabled_[h];d||(a._disabled_[h]=d=[]),d.push(l);var u=d.indexOf(g);u!=-1&&d.splice(u,1)}a[h]=g},o.removeDefaultHandler=function(h,g){var a=this._defaultHandlers;if(a){var l=a._disabled_[h];if(a[h]==g)l&&this.setDefaultHandler(h,l.pop());else if(l){var d=l.indexOf(g);d!=-1&&l.splice(d,1)}}},o.on=o.addEventListener=function(h,g,a){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[h];return l||(l=this._eventRegistry[h]=[]),l.indexOf(g)==-1&&l[a?"unshift":"push"](g),g},o.off=o.removeListener=o.removeEventListener=function(h,g){this._eventRegistry=this._eventRegistry||{};var a=this._eventRegistry[h];if(a){var l=a.indexOf(g);l!==-1&&a.splice(l,1)}},o.removeAllListeners=function(h){h||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[h]=void 0),this._defaultHandlers&&(this._defaultHandlers[h]=void 0)},n.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(i,n,c){n.reportError=function(p,m){var h=new Error(p);h.data=m,typeof console=="object"&&console.error&&console.error(h),setTimeout(function(){throw h})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(i,n,c){var o={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};n.defaultEnglishMessages=o}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(i,n,c){"no use strict";var o=i("./oop"),p=i("./event_emitter").EventEmitter,m=i("./report_error").reportError,h=i("./default_english_messages").defaultEnglishMessages,g={setOptions:function(s){Object.keys(s).forEach(function(r){this.setOption(r,s[r])},this)},getOptions:function(s){var r={};if(s)Array.isArray(s)||(r=s,s=Object.keys(r));else{var f=this.$options;s=Object.keys(f).filter(function(v){return!f[v].hidden})}return s.forEach(function(v){r[v]=this.getOption(v)},this),r},setOption:function(s,r){if(this["$"+s]!==r){var f=this.$options[s];if(!f)return a('misspelled option "'+s+'"');if(f.forwardTo)return this[f.forwardTo]&&this[f.forwardTo].setOption(s,r);f.handlesSet||(this["$"+s]=r),f&&f.set&&f.set.call(this,r)}},getOption:function(s){var r=this.$options[s];return r?r.forwardTo?this[r.forwardTo]&&this[r.forwardTo].getOption(s):r&&r.get?r.get.call(this):this["$"+s]:a('misspelled option "'+s+'"')}};function a(s){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var l,d,u=function(){function s(){this.$defaultOptions={},l=h,d="dollarSigns"}return s.prototype.defineOptions=function(r,f,v){return r.$options||(this.$defaultOptions[f]=r.$options={}),Object.keys(v).forEach(function(y){var C=v[y];typeof C=="string"&&(C={forwardTo:C}),C.name||(C.name=y),r.$options[C.name]=C,"initialValue"in C&&(r["$"+C.name]=C.initialValue)}),o.implement(r,g),this},s.prototype.resetOptions=function(r){Object.keys(r.$options).forEach(function(f){var v=r.$options[f];"value"in v&&r.setOption(f,v.value)})},s.prototype.setDefaultValue=function(r,f,v){if(!r){for(r in this.$defaultOptions)if(this.$defaultOptions[r][f])break;if(!this.$defaultOptions[r][f])return!1}var y=this.$defaultOptions[r]||(this.$defaultOptions[r]={});y[f]&&(y.forwardTo?this.setDefaultValue(y.forwardTo,f,v):y[f].value=v)},s.prototype.setDefaultValues=function(r,f){Object.keys(f).forEach(function(v){this.setDefaultValue(r,v,f[v])},this)},s.prototype.setMessages=function(r,f){l=r,f&&f.placeholders&&(d=f.placeholders)},s.prototype.nls=function(r,f,v){l[r]||(a("No message found for the key '"+r+"' in the provided messages, trying to find a translation for the default string '"+f+"'."),l[f]||a("No message found for the default string '"+f+"' in the provided messages. Falling back to the default English message."));var y=l[r]||l[f]||f;return v&&(d==="dollarSigns"&&(y=y.replace(/\$(\$|[\d]+)/g,function(C,x){return x=="$"?"$":v[x]})),d==="curlyBrackets"&&(y=y.replace(/\{([^\}]+)\}/g,function(C,x){return v[x]}))),y},s}();u.prototype.warn=a,u.prototype.reportError=m,o.implement(u.prototype,p),n.AppConfig=u}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(i,n,c){c.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(i,n,c){n.isDark=!1,n.cssClass="ace-tm",n.cssText=i("./textmate-css"),n.$id="ace/theme/textmate";var o=i("../lib/dom");o.importCssString(n.cssText,n.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(i,n,c){"no use strict";var o=i("./lib/lang"),p=i("./lib/net"),m=i("./lib/dom"),h=i("./lib/app_config").AppConfig;c.exports=n=new h;var g={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};n.get=function(u){if(!g.hasOwnProperty(u))throw new Error("Unknown config key: "+u);return g[u]},n.set=function(u,s){if(g.hasOwnProperty(u))g[u]=s;else if(this.setDefaultValue("",u,s)==!1)throw new Error("Unknown config key: "+u);u=="useStrictCSP"&&m.useStrictCSP(s)},n.all=function(){return o.copyObject(g)},n.$modes={},n.moduleUrl=function(u,s){if(g.$moduleUrls[u])return g.$moduleUrls[u];var r=u.split("/");s=s||r[r.length-2]||"";var f=s=="snippets"?"/":"-",v=r[r.length-1];if(s=="worker"&&f=="-"){var y=new RegExp("^"+s+"[\\-_]|[\\-_]"+s+"$","g");v=v.replace(y,"")}(!v||v==s)&&r.length>1&&(v=r[r.length-2]);var C=g[s+"Path"];return C==null?C=g.basePath:f=="/"&&(s=f=""),C&&C.slice(-1)!="/"&&(C+="/"),C+s+f+v+this.get("suffix")},n.setModuleUrl=function(u,s){return g.$moduleUrls[u]=s};var a=function(u,s){if(u==="ace/theme/textmate"||u==="./theme/textmate")return s(null,i("./theme/textmate"));if(l)return l(u,s);console.error("loader is not configured")},l;n.setLoader=function(u){l=u},n.dynamicModules=Object.create(null),n.$loading={},n.$loaded={},n.loadModule=function(u,s){var r;if(Array.isArray(u))var f=u[0],v=u[1];else if(typeof u=="string")var v=u;var y=function(C){if(C&&!n.$loading[v])return s&&s(C);if(n.$loading[v]||(n.$loading[v]=[]),n.$loading[v].push(s),!(n.$loading[v].length>1)){var x=function(){a(v,function(w,k){k&&(n.$loaded[v]=k),n._emit("load.module",{name:v,module:k});var T=n.$loading[v];n.$loading[v]=null,T.forEach(function(A){A&&A(k)})})};if(!n.get("packaged"))return x();p.loadScript(n.moduleUrl(v,f),x),d()}};if(n.dynamicModules[v])n.dynamicModules[v]().then(function(C){C.default?y(C.default):y(C)});else{try{r=this.$require(v)}catch{}y(r||n.$loaded[v])}},n.$require=function(u){if(typeof c.require=="function"){var s="require";return c[s](u)}},n.setModuleLoader=function(u,s){n.dynamicModules[u]=s};var d=function(){!g.basePath&&!g.workerPath&&!g.modePath&&!g.themePath&&!Object.keys(g.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};n.version="1.36.5"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(i,n,c){i("./lib/fixoldbrowsers");var o=i("./config");o.setLoader(function(g,a){i([g],function(l){a(null,l)})});var p=function(){return this||typeof window<"u"&&window}();c.exports=function(g){o.init=m,o.$require=i,g.require=i},m(!0);function m(g){if(!(!p||!p.document)){o.set("packaged",g||i.packaged||c.packaged||p.define&&(void 0).packaged);var a={},l="",d=document.currentScript||document._currentScript,u=d&&d.ownerDocument||document;d&&d.src&&(l=d.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var s=u.getElementsByTagName("script"),r=0;r<s.length;r++){var f=s[r],v=f.src||f.getAttribute("src");if(v){for(var y=f.attributes,C=0,x=y.length;C<x;C++){var w=y[C];w.name.indexOf("data-ace-")===0&&(a[h(w.name.replace(/^data-ace-/,""))]=w.value)}var k=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);k&&(l=k[1])}}l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base;for(var T in a)typeof a[T]<"u"&&o.set(T,a[T])}}function h(g){return g.replace(/-(.)/g,function(a,l){return l.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(i,n,c){var o=function(){function p(m,h,g,a){this.start={row:m,column:h},this.end={row:g,column:a}}return p.prototype.isEqual=function(m){return this.start.row===m.start.row&&this.end.row===m.end.row&&this.start.column===m.start.column&&this.end.column===m.end.column},p.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},p.prototype.contains=function(m,h){return this.compare(m,h)==0},p.prototype.compareRange=function(m){var h,g=m.end,a=m.start;return h=this.compare(g.row,g.column),h==1?(h=this.compare(a.row,a.column),h==1?2:h==0?1:0):h==-1?-2:(h=this.compare(a.row,a.column),h==-1?-1:h==1?42:0)},p.prototype.comparePoint=function(m){return this.compare(m.row,m.column)},p.prototype.containsRange=function(m){return this.comparePoint(m.start)==0&&this.comparePoint(m.end)==0},p.prototype.intersects=function(m){var h=this.compareRange(m);return h==-1||h==0||h==1},p.prototype.isEnd=function(m,h){return this.end.row==m&&this.end.column==h},p.prototype.isStart=function(m,h){return this.start.row==m&&this.start.column==h},p.prototype.setStart=function(m,h){typeof m=="object"?(this.start.column=m.column,this.start.row=m.row):(this.start.row=m,this.start.column=h)},p.prototype.setEnd=function(m,h){typeof m=="object"?(this.end.column=m.column,this.end.row=m.row):(this.end.row=m,this.end.column=h)},p.prototype.inside=function(m,h){return this.compare(m,h)==0?!(this.isEnd(m,h)||this.isStart(m,h)):!1},p.prototype.insideStart=function(m,h){return this.compare(m,h)==0?!this.isEnd(m,h):!1},p.prototype.insideEnd=function(m,h){return this.compare(m,h)==0?!this.isStart(m,h):!1},p.prototype.compare=function(m,h){return!this.isMultiLine()&&m===this.start.row?h<this.start.column?-1:h>this.end.column?1:0:m<this.start.row?-1:m>this.end.row?1:this.start.row===m?h>=this.start.column?0:-1:this.end.row===m?h<=this.end.column?0:1:0},p.prototype.compareStart=function(m,h){return this.start.row==m&&this.start.column==h?-1:this.compare(m,h)},p.prototype.compareEnd=function(m,h){return this.end.row==m&&this.end.column==h?1:this.compare(m,h)},p.prototype.compareInside=function(m,h){return this.end.row==m&&this.end.column==h?1:this.start.row==m&&this.start.column==h?-1:this.compare(m,h)},p.prototype.clipRows=function(m,h){if(this.end.row>h)var g={row:h+1,column:0};else if(this.end.row<m)var g={row:m,column:0};if(this.start.row>h)var a={row:h+1,column:0};else if(this.start.row<m)var a={row:m,column:0};return p.fromPoints(a||this.start,g||this.end)},p.prototype.extend=function(m,h){var g=this.compare(m,h);if(g==0)return this;if(g==-1)var a={row:m,column:h};else var l={row:m,column:h};return p.fromPoints(a||this.start,l||this.end)},p.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},p.prototype.isMultiLine=function(){return this.start.row!==this.end.row},p.prototype.clone=function(){return p.fromPoints(this.start,this.end)},p.prototype.collapseRows=function(){return this.end.column==0?new p(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new p(this.start.row,0,this.end.row,0)},p.prototype.toScreenRange=function(m){var h=m.documentToScreenPosition(this.start),g=m.documentToScreenPosition(this.end);return new p(h.row,h.column,g.row,g.column)},p.prototype.moveBy=function(m,h){this.start.row+=m,this.start.column+=h,this.end.row+=m,this.end.column+=h},p}();o.fromPoints=function(p,m){return new o(p.row,p.column,m.row,m.column)},o.comparePoints=function(p,m){return p.row-m.row||p.column-m.column},n.Range=o}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(i,n,c){for(var o=i("./oop"),p={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},m={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},h=0;h<10;h++)m["Digit"+h]=48+h,m["Numpad"+h]=96+h,p.PRINTABLE_KEYS[48+h]=""+h,p.FUNCTION_KEYS[96+h]="Numpad"+h;for(var h=65;h<91;h++){var g=String.fromCharCode(h+32);m["Key"+g.toUpperCase()]=h,p.PRINTABLE_KEYS[h]=g}for(var h=1;h<13;h++)m["F"+h]=111+h,p.FUNCTION_KEYS[111+h]="F"+h;var a={Shift:16,Control:17,Alt:18,Meta:224};for(var l in a)m[l]=m[l+"Left"]=m[l+"Right"]=a[l];n.$codeToKeyCode=m,p.PRINTABLE_KEYS[173]="-";for(var d in p.FUNCTION_KEYS){var u=p.FUNCTION_KEYS[d].toLowerCase();p[u]=parseInt(d,10)}for(var d in p.PRINTABLE_KEYS){var u=p.PRINTABLE_KEYS[d].toLowerCase();p[u]=parseInt(d,10)}o.mixin(p,p.MODIFIER_KEYS),o.mixin(p,p.PRINTABLE_KEYS),o.mixin(p,p.FUNCTION_KEYS),p.enter=p.return,p.escape=p.esc,p.del=p.delete,function(){for(var s=["cmd","ctrl","alt","shift"],r=Math.pow(2,s.length);r--;)p.KEY_MODS[r]=s.filter(function(f){return r&p.KEY_MODS[f]}).join("-")+"-"}(),p.KEY_MODS[0]="",p.KEY_MODS[-1]="input-",o.mixin(n,p),n.default=n,n.keyCodeToString=function(s){var r=p[s];return typeof r!="string"&&(r=String.fromCharCode(s)),r.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,n,c){var o=i("./keys"),p=i("./useragent"),m=null,h=0,g;function a(){g=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return g={passive:!1},!0}})}catch{}}function l(){return g==null&&a(),g}function d(C,x,w){this.elem=C,this.type=x,this.callback=w}d.prototype.destroy=function(){s(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=n.addListener=function(C,x,w,k){C.addEventListener(x,w,l()),k&&k.$toDestroy.push(new d(C,x,w))},s=n.removeListener=function(C,x,w){C.removeEventListener(x,w,l())};n.stopEvent=function(C){return n.stopPropagation(C),n.preventDefault(C),!1},n.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},n.preventDefault=function(C){C.preventDefault&&C.preventDefault()},n.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||p.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},n.capture=function(C,x,w){var k=C&&C.ownerDocument||document;function T(A){x&&x(A),w&&w(A),s(k,"mousemove",x),s(k,"mouseup",T),s(k,"dragstart",T)}return u(k,"mousemove",x),u(k,"mouseup",T),u(k,"dragstart",T),T},n.addMouseWheelListener=function(C,x,w){u(C,"wheel",function(k){var T=.15,A=k.deltaX||0,M=k.deltaY||0;switch(k.deltaMode){case k.DOM_DELTA_PIXEL:k.wheelX=A*T,k.wheelY=M*T;break;case k.DOM_DELTA_LINE:var L=15;k.wheelX=A*L,k.wheelY=M*L;break;case k.DOM_DELTA_PAGE:var R=150;k.wheelX=A*R,k.wheelY=M*R;break}x(k)},w)},n.addMultiMouseDownListener=function(C,x,w,k,T){var A=0,M,L,R,_={2:"dblclick",3:"tripleclick",4:"quadclick"};function b(E){if(n.getButton(E)!==0?A=0:E.detail>1?(A++,A>4&&(A=1)):A=1,p.isIE){var S=Math.abs(E.clientX-M)>5||Math.abs(E.clientY-L)>5;(!R||S)&&(A=1),R&&clearTimeout(R),R=setTimeout(function(){R=null},x[A-1]||600),A==1&&(M=E.clientX,L=E.clientY)}if(E._clicks=A,w[k]("mousedown",E),A>4)A=0;else if(A>1)return w[k](_[A],E)}Array.isArray(C)||(C=[C]),C.forEach(function(E){u(E,"mousedown",b,T)})};function r(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)}n.getModifierString=function(C){return o.KEY_MODS[r(C)]};function f(C,x,w){var k=r(x);if(!w&&x.code&&(w=o.$codeToKeyCode[x.code]||w),!p.isMac&&m){if(x.getModifierState&&(x.getModifierState("OS")||x.getModifierState("Win"))&&(k|=8),m.altGr)if((3&k)!=3)m.altGr=0;else return;if(w===18||w===17){var T=x.location;if(w===17&&T===1)m[w]==1&&(h=x.timeStamp);else if(w===18&&k===3&&T===2){var A=x.timeStamp-h;A<50&&(m.altGr=!0)}}}if(w in o.MODIFIER_KEYS&&(w=-1),!(!k&&w===13&&x.location===3&&(C(x,k,-w),x.defaultPrevented))){if(p.isChromeOS&&k&8){if(C(x,k,w),x.defaultPrevented)return;k&=-9}return!k&&!(w in o.FUNCTION_KEYS)&&!(w in o.PRINTABLE_KEYS)?!1:C(x,k,w)}}n.addCommandKeyListener=function(C,x,w){var k=null;u(C,"keydown",function(T){m[T.keyCode]=(m[T.keyCode]||0)+1;var A=f(x,T,T.keyCode);return k=T.defaultPrevented,A},w),u(C,"keypress",function(T){k&&(T.ctrlKey||T.altKey||T.shiftKey||T.metaKey)&&(n.stopEvent(T),k=null)},w),u(C,"keyup",function(T){m[T.keyCode]=null},w),m||(v(),u(window,"focus",v))};function v(){m=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!p.isOldIE){var y=1;n.nextTick=function(C,x){x=x||window;var w="zero-timeout-message-"+y++,k=function(T){T.data==w&&(n.stopPropagation(T),s(x,"message",k),C())};u(x,"message",k),x.postMessage(w,"*")}}n.$idleBlocked=!1,n.onIdle=function(C,x){return setTimeout(function w(){n.$idleBlocked?setTimeout(w,100):C()},x)},n.$idleBlockId=null,n.blockIdle=function(C){n.$idleBlockId&&clearTimeout(n.$idleBlockId),n.$idleBlocked=!0,n.$idleBlockId=setTimeout(function(){n.$idleBlocked=!1},C||100)},n.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),n.nextFrame?n.nextFrame=n.nextFrame.bind(window):n.nextFrame=function(C){setTimeout(C,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(i,n,c){var o;c.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(i,n,c){var o=i("../lib/event"),p=i("../config").nls,m=i("../lib/useragent"),h=i("../lib/dom"),g=i("../lib/lang"),a=i("../clipboard"),l=m.isChrome<18,d=m.isIE,u=m.isChrome>63,s=400,r=i("../lib/keys"),f=r.KEY_MODS,v=m.isIOS,y=v?/\s/:/\n/,C=m.isMobile,x;x=function(w,k){var T=h.createElement("textarea");T.className="ace_text-input",T.setAttribute("wrap","off"),T.setAttribute("autocorrect","off"),T.setAttribute("autocapitalize","off"),T.setAttribute("spellcheck","false"),T.style.opacity="0",w.insertBefore(T,w.firstChild);var A=!1,M=!1,L=!1,R=!1,_="";C||(T.style.fontSize="1px");var b=!1,E=!1,S="",I=0,O=0,D=0,P=Number.MAX_SAFE_INTEGER,B=Number.MIN_SAFE_INTEGER,F=0;try{var W=document.activeElement===T}catch{}this.setNumberOfExtraLines=function(z){if(P=Number.MAX_SAFE_INTEGER,B=Number.MIN_SAFE_INTEGER,z<0){F=0;return}F=z},this.setAriaLabel=function(){var z="";if(k.$textInputAriaLabel&&(z+="".concat(k.$textInputAriaLabel,", ")),k.session){var q=k.session.selection.cursor.row;z+=p("text-input.aria-label","Cursor at row $0",[q+1])}T.setAttribute("aria-label",z)},this.setAriaOptions=function(z){z.activeDescendant?(T.setAttribute("aria-haspopup","true"),T.setAttribute("aria-autocomplete",z.inline?"both":"list"),T.setAttribute("aria-activedescendant",z.activeDescendant)):(T.setAttribute("aria-haspopup","false"),T.setAttribute("aria-autocomplete","both"),T.removeAttribute("aria-activedescendant")),z.role&&T.setAttribute("role",z.role),z.setLabel&&(T.setAttribute("aria-roledescription",p("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(T,"blur",function(z){E||(k.onBlur(z),W=!1)},k),o.addListener(T,"focus",function(z){if(!E){if(W=!0,m.isEdge)try{if(!document.hasFocus())return}catch{}k.onFocus(z),m.isEdge?setTimeout(j):j()}},k),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:k.renderer.enableKeyboardAccessibility}),_||u||this.$focusScroll=="browser")return T.focus({preventScroll:!0});var z=T.style.top;T.style.position="fixed",T.style.top="0px";try{var q=T.getBoundingClientRect().top!=0}catch{return}var ie=[];if(q)for(var ae=T.parentElement;ae&&ae.nodeType==1;)ie.push(ae),ae.setAttribute("ace_nocontext","true"),!ae.parentElement&&ae.getRootNode?ae=ae.getRootNode().host:ae=ae.parentElement;T.focus({preventScroll:!0}),q&&ie.forEach(function(ue){ue.removeAttribute("ace_nocontext")}),setTimeout(function(){T.style.position="",T.style.top=="0px"&&(T.style.top=z)},0)},this.blur=function(){T.blur()},this.isFocused=function(){return W},k.on("beforeEndOperation",function(){var z=k.curOp,q=z&&z.command&&z.command.name;if(q!="insertstring"){var ie=q&&(z.docChanged||z.selectionChanged);L&&ie&&(S=T.value="",ze()),j()}}),k.on("changeSelection",this.setAriaLabel);var N=function(z,q){for(var ie=q,ae=1;ae<=z-P&&ae<2*F+1;ae++)ie+=k.session.getLine(z-ae).length+1;return ie},j=v?function(z){if(!(!W||A&&!z||R)){z||(z="");var q=`
 ab`+z+`cde fg
`;q!=T.value&&(T.value=S=q);var ie=4,ae=4+(z.length||(k.selection.isEmpty()?0:1));(I!=ie||O!=ae)&&T.setSelectionRange(ie,ae),I=ie,O=ae}}:function(){if(!(L||R)&&!(!W&&!X)){L=!0;var z=0,q=0,ie="";if(k.session){var ae=k.selection,ue=ae.getRange(),_e=ae.cursor.row;_e===B+1?(P=B+1,B=P+2*F):_e===P-1?(B=P-1,P=B-2*F):(_e<P-1||_e>B+1)&&(P=_e>F?_e-F:0,B=_e>F?_e+F:2*F);for(var Te=[],ke=P;ke<=B;ke++)Te.push(k.session.getLine(ke));if(ie=Te.join(`
`),z=N(ue.start.row,ue.start.column),q=N(ue.end.row,ue.end.column),ue.start.row<P){var ve=k.session.getLine(P-1);z=ue.start.row<P-1?0:z,q+=ve.length+1,ie=ve+`
`+ie}else if(ue.end.row>B){var he=k.session.getLine(B+1);q=ue.end.row>B+1?he.length:ue.end.column,q+=ie.length+1,ie=ie+`
`+he}else C&&_e>0&&(ie=`
`+ie,q+=1,z+=1);ie.length>s&&(z<s&&q<s?ie=ie.slice(0,s):(ie=`
`,z==q?z=q=0:(z=0,q=1)));var Be=ie+`

`;Be!=S&&(T.value=S=Be,I=O=Be.length)}if(X&&(I=T.selectionStart,O=T.selectionEnd),O!=q||I!=z||T.selectionEnd!=O)try{T.setSelectionRange(z,q),I=z,O=q}catch{}L=!1}};this.resetSelection=j,W&&k.onFocus();var V=function(z){return z.selectionStart===0&&z.selectionEnd>=S.length&&z.value===S&&S&&z.selectionEnd!==O},H=function(z){L||(A?A=!1:V(T)?(k.selectAll(),j()):C&&T.selectionStart!=I&&j())},G=null;this.setInputHandler=function(z){G=z},this.getInputHandler=function(){return G};var X=!1,J=function(z,q){if(X&&(X=!1),M)return j(),z&&k.onPaste(z),M=!1,"";for(var ie=T.selectionStart,ae=T.selectionEnd,ue=I,_e=S.length-O,Te=z,ke=z.length-ie,ve=z.length-ae,he=0;ue>0&&S[he]==z[he];)he++,ue--;for(Te=Te.slice(he),he=1;_e>0&&S.length-he>I-1&&S[S.length-he]==z[z.length-he];)he++,_e--;ke-=he-1,ve-=he-1;var Be=Te.length-he+1;if(Be<0&&(ue=-Be,Be=0),Te=Te.slice(0,Be),!q&&!Te&&!ke&&!ue&&!_e&&!ve)return"";R=!0;var Jt=!1;return m.isAndroid&&Te==". "&&(Te="  ",Jt=!0),Te&&!ue&&!_e&&!ke&&!ve||b?k.onTextInput(Te):k.onTextInput(Te,{extendLeft:ue,extendRight:_e,restoreStart:ke,restoreEnd:ve}),R=!1,S=z,I=ie,O=ae,D=ve,Jt?`
`:Te},K=function(z){if(L)return We();if(z&&z.inputType){if(z.inputType=="historyUndo")return k.execCommand("undo");if(z.inputType=="historyRedo")return k.execCommand("redo")}var q=T.value,ie=J(q,!0);(q.length>s+100||y.test(ie)||C&&I<1&&I==O)&&j()},ee=function(z,q,ie){var ae=z.clipboardData||window.clipboardData;if(!(!ae||l)){var ue=d||ie?"Text":"text/plain";try{return q?ae.setData(ue,q)!==!1:ae.getData(ue)}catch(_e){if(!ie)return ee(_e,q,!0)}}},fe=function(z,q){var ie=k.getCopyText();if(!ie)return o.preventDefault(z);ee(z,ie)?(v&&(j(ie),A=ie,setTimeout(function(){A=!1},10)),q?k.onCut():k.onCopy(),o.preventDefault(z)):(A=!0,T.value=ie,T.select(),setTimeout(function(){A=!1,j(),q?k.onCut():k.onCopy()}))},be=function(z){fe(z,!0)},Ce=function(z){fe(z,!1)},pe=function(z){var q=ee(z);a.pasteCancelled()||(typeof q=="string"?(q&&k.onPaste(q,z),m.isIE&&setTimeout(j),o.preventDefault(z)):(T.value="",M=!0))};o.addCommandKeyListener(T,function(z,q,ie){if(!L)return k.onCommandKey(z,q,ie)},k),o.addListener(T,"select",H,k),o.addListener(T,"input",K,k),o.addListener(T,"cut",be,k),o.addListener(T,"copy",Ce,k),o.addListener(T,"paste",pe,k),(!("oncut"in T)||!("oncopy"in T)||!("onpaste"in T))&&o.addListener(w,"keydown",function(z){if(!(m.isMac&&!z.metaKey||!z.ctrlKey))switch(z.keyCode){case 67:Ce(z);break;case 86:pe(z);break;case 88:be(z);break}},k);var Ie=function(z){if(!(L||!k.onCompositionStart||k.$readOnly)&&(L={},!b)){z.data&&(L.useTextareaForIME=!1),setTimeout(We,0),k._signal("compositionStart"),k.on("mousedown",wt);var q=k.getSelectionRange();q.end.row=q.start.row,q.end.column=q.start.column,L.markerRange=q,L.selectionStart=I,k.onCompositionStart(L),L.useTextareaForIME?(S=T.value="",I=0,O=0):(T.msGetInputContext&&(L.context=T.msGetInputContext()),T.getInputContext&&(L.context=T.getInputContext()))}},We=function(){if(!(!L||!k.onCompositionUpdate||k.$readOnly)){if(b)return wt();if(L.useTextareaForIME)k.onCompositionUpdate(T.value);else{var z=T.value;J(z),L.markerRange&&(L.context&&(L.markerRange.start.column=L.selectionStart=L.context.compositionStartOffset),L.markerRange.end.column=L.markerRange.start.column+O-L.selectionStart+D)}}},ze=function(z){!k.onCompositionEnd||k.$readOnly||(L=!1,k.onCompositionEnd(),k.off("mousedown",wt),z&&K())};function wt(){E=!0,T.blur(),T.focus(),E=!1}var _i=g.delayedCall(We,50).schedule.bind(null,null);function pn(z){z.keyCode==27&&T.value.length<T.selectionStart&&(L||(S=T.value),I=O=-1,j()),_i()}o.addListener(T,"compositionstart",Ie,k),o.addListener(T,"compositionupdate",We,k),o.addListener(T,"keyup",pn,k),o.addListener(T,"keydown",_i,k),o.addListener(T,"compositionend",ze,k),this.getElement=function(){return T},this.setCommandMode=function(z){b=z,T.readOnly=!1},this.setReadOnly=function(z){b||(T.readOnly=z)},this.setCopyWithEmptySelection=function(z){},this.onContextMenu=function(z){X=!0,j(),k._emit("nativecontextmenu",{target:k,domEvent:z}),this.moveToMouse(z,!0)},this.moveToMouse=function(z,q){_||(_=T.style.cssText),T.style.cssText=(q?"z-index:100000;":"")+(m.isIE?"opacity:0.1;":"")+"text-indent: -"+(I+O)*k.renderer.characterWidth*.5+"px;";var ie=k.container.getBoundingClientRect(),ae=h.computedStyle(k.container),ue=ie.top+(parseInt(ae.borderTopWidth)||0),_e=ie.left+(parseInt(ie.borderLeftWidth)||0),Te=ie.bottom-ue-T.clientHeight-2,ke=function(ve){h.translate(T,ve.clientX-_e-2,Math.min(ve.clientY-ue-2,Te))};ke(z),z.type=="mousedown"&&(k.renderer.$isMousePressed=!0,clearTimeout(Zt),m.isWin&&o.capture(k.container,ke,$t))},this.onContextMenuClose=$t;var Zt;function $t(){clearTimeout(Zt),Zt=setTimeout(function(){_&&(T.style.cssText=_,_=""),k.renderer.$isMousePressed=!1,k.renderer.$keepTextAreaAtCursor&&k.renderer.$moveTextAreaToCursor()},0)}var re=function(z){k.textInput.onContextMenu(z),$t()};o.addListener(T,"mouseup",re,k),o.addListener(T,"mousedown",function(z){z.preventDefault(),$t()},k),o.addListener(k.renderer.scroller,"contextmenu",re,k),o.addListener(T,"contextmenu",re,k),v&&Rr(w,k,T);function Rr(z,q,ie){var ae=null,ue=!1;ie.addEventListener("keydown",function(Te){ae&&clearTimeout(ae),ue=!0},!0),ie.addEventListener("keyup",function(Te){ae=setTimeout(function(){ue=!1},100)},!0);var _e=function(Te){if(document.activeElement===ie&&!(ue||L||q.$mouseHandler.isMousePressed)&&!A){var ke=ie.selectionStart,ve=ie.selectionEnd,he=null,Be=0;if(ke==0?he=r.up:ke==1?he=r.home:ve>O&&S[ve]==`
`?he=r.end:ke<I&&S[ke-1]==" "?(he=r.left,Be=f.option):ke<I||ke==I&&O!=I&&ke==ve?he=r.left:ve>O&&S.slice(0,ve).split(`
`).length>2?he=r.down:ve>O&&S[ve-1]==" "?(he=r.right,Be=f.option):(ve>O||ve==O&&O!=I&&ke==ve)&&(he=r.right),ke!==ve&&(Be|=f.shift),he){var Jt=q.onCommandKey({},Be,he);if(!Jt&&q.commands){he=r.keyCodeToString(he);var Dr=q.commands.findKeyCommand(Be,he);Dr&&q.execCommand(Dr)}I=ke,O=ve,j("")}}};document.addEventListener("selectionchange",_e),q.on("destroy",function(){document.removeEventListener("selectionchange",_e)})}this.destroy=function(){T.parentElement&&T.parentElement.removeChild(T)}},n.TextInput=x,n.$setUserAgentForTests=function(w,k){C=w,v=k}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(i,n,c){var o=i("../lib/useragent"),p=0,m=550,h=function(){function l(d){d.$clickSelection=null;var u=d.editor;u.setDefaultHandler("mousedown",this.onMouseDown.bind(d)),u.setDefaultHandler("dblclick",this.onDoubleClick.bind(d)),u.setDefaultHandler("tripleclick",this.onTripleClick.bind(d)),u.setDefaultHandler("quadclick",this.onQuadClick.bind(d)),u.setDefaultHandler("mousewheel",this.onMouseWheel.bind(d));var s=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];s.forEach(function(r){d[r]=this[r]},this),d.selectByLines=this.extendSelectionBy.bind(d,"getLineRange"),d.selectByWords=this.extendSelectionBy.bind(d,"getWordRange")}return l.prototype.onMouseDown=function(d){var u=d.inSelection(),s=d.getDocumentPosition();this.mousedownEvent=d;var r=this.editor,f=d.getButton();if(f!==0){var v=r.getSelectionRange(),y=v.isEmpty();(y||f==1)&&r.selection.moveToPosition(s),f==2&&(r.textInput.onContextMenu(d.domEvent),o.isMozilla||d.preventDefault());return}if(this.mousedownEvent.time=Date.now(),u&&!r.isFocused()&&(r.focus(),this.$focusTimeout&&!this.$clickSelection&&!r.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(d);return}return this.captureMouse(d),this.startSelect(s,d.domEvent._clicks>1),d.preventDefault()},l.prototype.startSelect=function(d,u){d=d||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var s=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?s.selection.selectToPosition(d):u||s.selection.moveToPosition(d),u||this.select(),s.setStyle("ace_selecting"),this.setState("select"))},l.prototype.select=function(){var d,u=this.editor,s=u.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(s);if(r==-1)d=this.$clickSelection.end;else if(r==1)d=this.$clickSelection.start;else{var f=a(this.$clickSelection,s);s=f.cursor,d=f.anchor}u.selection.setSelectionAnchor(d.row,d.column)}u.selection.selectToPosition(s),u.renderer.scrollCursorIntoView()},l.prototype.extendSelectionBy=function(d){var u,s=this.editor,r=s.renderer.screenToTextCoordinates(this.x,this.y),f=s.selection[d](r.row,r.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(f.start),y=this.$clickSelection.comparePoint(f.end);if(v==-1&&y<=0)u=this.$clickSelection.end,(f.end.row!=r.row||f.end.column!=r.column)&&(r=f.start);else if(y==1&&v>=0)u=this.$clickSelection.start,(f.start.row!=r.row||f.start.column!=r.column)&&(r=f.end);else if(v==-1&&y==1)r=f.end,u=f.start;else{var C=a(this.$clickSelection,r);r=C.cursor,u=C.anchor}s.selection.setSelectionAnchor(u.row,u.column)}s.selection.selectToPosition(r),s.renderer.scrollCursorIntoView()},l.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},l.prototype.focusWait=function(){var d=g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),u=Date.now();(d>p||u-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},l.prototype.onDoubleClick=function(d){var u=d.getDocumentPosition(),s=this.editor,r=s.session,f=r.getBracketRange(u);f?(f.isEmpty()&&(f.start.column--,f.end.column++),this.setState("select")):(f=s.selection.getWordRange(u.row,u.column),this.setState("selectByWords")),this.$clickSelection=f,this.select()},l.prototype.onTripleClick=function(d){var u=d.getDocumentPosition(),s=this.editor;this.setState("selectByLines");var r=s.getSelectionRange();r.isMultiLine()&&r.contains(u.row,u.column)?(this.$clickSelection=s.selection.getLineRange(r.start.row),this.$clickSelection.end=s.selection.getLineRange(r.end.row).end):this.$clickSelection=s.selection.getLineRange(u.row),this.select()},l.prototype.onQuadClick=function(d){var u=this.editor;u.selectAll(),this.$clickSelection=u.getSelectionRange(),this.setState("selectAll")},l.prototype.onMouseWheel=function(d){if(!d.getAccelKey()){d.getShiftKey()&&d.wheelY&&!d.wheelX&&(d.wheelX=d.wheelY,d.wheelY=0);var u=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var s=this.$lastScroll,r=d.domEvent.timeStamp,f=r-s.t,v=f?d.wheelX/f:s.vx,y=f?d.wheelY/f:s.vy;f<m&&(v=(v+s.vx)/2,y=(y+s.vy)/2);var C=Math.abs(v/y),x=!1;if(C>=1&&u.renderer.isScrollableBy(d.wheelX*d.speed,0)&&(x=!0),C<=1&&u.renderer.isScrollableBy(0,d.wheelY*d.speed)&&(x=!0),x)s.allowed=r;else if(r-s.allowed<m){var w=Math.abs(v)<=1.5*Math.abs(s.vx)&&Math.abs(y)<=1.5*Math.abs(s.vy);w?(x=!0,s.allowed=r):s.allowed=0}if(s.t=r,s.vx=v,s.vy=y,x)return u.renderer.scrollBy(d.wheelX*d.speed,d.wheelY*d.speed),d.stop()}},l}();h.prototype.selectEnd=h.prototype.selectByLinesEnd,h.prototype.selectAllEnd=h.prototype.selectByLinesEnd,h.prototype.selectByWordsEnd=h.prototype.selectByLinesEnd,n.DefaultHandlers=h;function g(l,d,u,s){return Math.sqrt(Math.pow(u-l,2)+Math.pow(s-d,2))}function a(l,d){if(l.start.row==l.end.row)var u=2*d.column-l.start.column-l.end.column;else if(l.start.row==l.end.row-1&&!l.start.column&&!l.end.column)var u=d.column-4;else var u=2*d.row-l.start.row-l.end.row;return u<0?{cursor:l.start,anchor:l.end}:{cursor:l.end,anchor:l.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(i,n,c){n.preventParentScroll=function(p){p.stopPropagation();var m=p.currentTarget,h=m.scrollHeight>m.clientHeight;h||p.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(i,n,c){var o=this&&this.__extends||function(){var r=function(f,v){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(y[x]=C[x])},r(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");r(f,v);function y(){this.constructor=f}f.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),p=this&&this.__values||function(r){var f=typeof Symbol=="function"&&Symbol.iterator,v=f&&r[f],y=0;if(v)return v.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&y>=r.length&&(r=void 0),{value:r&&r[y++],done:!r}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")},m=i("./lib/dom");i("./lib/event");var h=i("./range").Range,g=i("./lib/scroll").preventParentScroll,a="ace_tooltip",l=function(){function r(f){this.isOpen=!1,this.$element=null,this.$parentNode=f}return r.prototype.$init=function(){return this.$element=m.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},r.prototype.getElement=function(){return this.$element||this.$init()},r.prototype.setText=function(f){this.getElement().textContent=f},r.prototype.setHtml=function(f){this.getElement().innerHTML=f},r.prototype.setPosition=function(f,v){this.getElement().style.left=f+"px",this.getElement().style.top=v+"px"},r.prototype.setClassName=function(f){m.addCssClass(this.getElement(),f)},r.prototype.setTheme=function(f){this.$element.className=a+" "+(f.isDark?"ace_dark ":"")+(f.cssClass||"")},r.prototype.show=function(f,v,y){f!=null&&this.setText(f),v!=null&&y!=null&&this.setPosition(v,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},r.prototype.hide=function(f){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},r.prototype.getHeight=function(){return this.getElement().offsetHeight},r.prototype.getWidth=function(){return this.getElement().offsetWidth},r.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},r}(),d=function(){function r(){this.popups=[]}return r.prototype.addPopup=function(f){this.popups.push(f),this.updatePopups()},r.prototype.removePopup=function(f){var v=this.popups.indexOf(f);v!==-1&&(this.popups.splice(v,1),this.updatePopups())},r.prototype.updatePopups=function(){var f,v,y,C;this.popups.sort(function(_,b){return b.priority-_.priority});var x=[];try{for(var w=p(this.popups),k=w.next();!k.done;k=w.next()){var T=k.value,A=!0;try{for(var M=(y=void 0,p(x)),L=M.next();!L.done;L=M.next()){var R=L.value;if(this.doPopupsOverlap(R,T)){A=!1;break}}}catch(_){y={error:_}}finally{try{L&&!L.done&&(C=M.return)&&C.call(M)}finally{if(y)throw y.error}}A?x.push(T):T.hide()}}catch(_){f={error:_}}finally{try{k&&!k.done&&(v=w.return)&&v.call(w)}finally{if(f)throw f.error}}},r.prototype.doPopupsOverlap=function(f,v){var y=f.getElement().getBoundingClientRect(),C=v.getElement().getBoundingClientRect();return y.left<C.right&&y.right>C.left&&y.top<C.bottom&&y.bottom>C.top},r}(),u=new d;n.popupManager=u,n.Tooltip=l;var s=function(r){o(f,r);function f(v){v===void 0&&(v=document.body);var y=r.call(this,v)||this;y.timeout=void 0,y.lastT=0,y.idleTime=350,y.lastEvent=void 0,y.onMouseOut=y.onMouseOut.bind(y),y.onMouseMove=y.onMouseMove.bind(y),y.waitForHover=y.waitForHover.bind(y),y.hide=y.hide.bind(y);var C=y.getElement();return C.style.whiteSpace="pre-wrap",C.style.pointerEvents="auto",C.addEventListener("mouseout",y.onMouseOut),C.tabIndex=-1,C.addEventListener("blur",(function(){C.contains(document.activeElement)||this.hide()}).bind(y)),C.addEventListener("wheel",g),y}return f.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide),v.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},f.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide),v.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},f.prototype.onMouseMove=function(v,y){this.lastEvent=v,this.lastT=Date.now();var C=y.$mouseHandler.isMousePressed;if(this.isOpen){var x=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(x.row,x.column)||C||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||C||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},f.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;if(this.idleTime-v>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-v);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},f.prototype.isOutsideOfText=function(v){var y=v.editor,C=v.getDocumentPosition(),x=y.session.getLine(C.row);if(C.column==x.length){var w=y.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),k=y.session.documentToScreenPosition(C.row,C.column);if(k.column!=w.column||k.row!=w.row)return!0}return!1},f.prototype.setDataProvider=function(v){this.$gatherData=v},f.prototype.showForRange=function(v,y,C,x){var w=10;if(!(x&&x!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var k=v.renderer;this.isOpen||(u.addPopup(this),this.$registerCloseEvents(),this.setTheme(k.theme)),this.isOpen=!0,this.addMarker(y,v.session),this.range=h.fromPoints(y.start,y.end);var T=k.textToScreenCoordinates(y.start.row,y.start.column),A=k.scroller.getBoundingClientRect();T.pageX<A.left&&(T.pageX=A.left);var M=this.getElement();M.innerHTML="",M.appendChild(C),M.style.maxHeight="",M.style.display="block";var L=M.clientHeight,R=M.clientWidth,_=window.innerHeight-T.pageY-k.lineHeight,b=!0;T.pageY-L<0&&T.pageY<_&&(b=!1),M.style.maxHeight=(b?T.pageY:_)-w+"px",M.style.top=b?"":T.pageY+k.lineHeight+"px",M.style.bottom=b?window.innerHeight-T.pageY+"px":"",M.style.left=Math.min(T.pageX,window.innerWidth-R-w)+"px"}},f.prototype.addMarker=function(v,y){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=y,this.marker=y&&y.addMarker(v,"ace_highlight-marker","text")},f.prototype.hide=function(v){!v&&document.activeElement==this.getElement()||v&&v.target&&(v.type!="keydown"||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,u.removePopup(this)))},f.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},f.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},f.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide())},f}(l);n.HoverTooltip=s}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(i,n,c){var o=this&&this.__extends||function(){var u=function(s,r){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(f[y]=v[y])},u(s,r)};return function(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");u(s,r);function f(){this.constructor=s}s.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}(),p=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,r=s&&u[s],f=0;if(r)return r.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&f>=u.length&&(u=void 0),{value:u&&u[f++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},m=i("../lib/dom"),h=i("../lib/event"),g=i("../tooltip").Tooltip,a=i("../config").nls;i("../lib/lang");function l(u){var s=u.editor,r=s.renderer.$gutterLayer,f=new d(s);u.editor.setDefaultHandler("guttermousedown",function(k){if(!(!s.isFocused()||k.getButton()!=0)){var T=r.getRegion(k);if(T!="foldWidgets"){var A=k.getDocumentPosition().row,M=s.session.selection;if(k.getShiftKey())M.selectTo(A,0);else{if(k.domEvent.detail==2)return s.selectAll(),k.preventDefault();u.$clickSelection=s.selection.getLineRange(A)}return u.setState("selectByLines"),u.captureMouse(k),k.preventDefault()}}});var v,y;function C(){var k=y.getDocumentPosition().row,T=s.session.getLength();if(k==T){var A=s.renderer.pixelToScreenCoordinates(0,y.y).row,M=y.$pos;if(A>s.session.documentToScreenRow(M.row,M.column))return x()}if(f.showTooltip(k),!!f.isOpen)if(s.on("mousewheel",x),u.$tooltipFollowsMouse)w(y);else{var L=y.getGutterRow(),R=r.$lines.get(L);if(R){var _=R.element.querySelector(".ace_gutter_annotation"),b=_.getBoundingClientRect(),E=f.getElement().style;E.left=b.right+"px",E.top=b.bottom+"px"}else w(y)}}function x(){v&&(v=clearTimeout(v)),f.isOpen&&(f.hideTooltip(),s.off("mousewheel",x))}function w(k){f.setPosition(k.x,k.y)}u.editor.setDefaultHandler("guttermousemove",function(k){var T=k.domEvent.target||k.domEvent.srcElement;if(m.hasCssClass(T,"ace_fold-widget"))return x();f.isOpen&&u.$tooltipFollowsMouse&&w(k),y=k,!v&&(v=setTimeout(function(){v=null,y&&!u.isMousePressed?C():x()},50))}),h.addListener(s.renderer.$gutter,"mouseout",function(k){y=null,!(!f.isOpen||v)&&(v=setTimeout(function(){v=null,x()},50))},s),s.on("changeSession",x),s.on("input",x)}n.GutterHandler=l;var d=function(u){o(s,u);function s(r){var f=u.call(this,r.container)||this;return f.editor=r,f}return s.prototype.setPosition=function(r,f){var v=window.innerWidth||document.documentElement.clientWidth,y=window.innerHeight||document.documentElement.clientHeight,C=this.getWidth(),x=this.getHeight();r+=15,f+=15,r+C>v&&(r-=r+C-v),f+x>y&&(f-=20+x),g.prototype.setPosition.call(this,r,f)},Object.defineProperty(s,"annotationLabels",{get:function(){return{error:{singular:a("gutter-tooltip.aria-label.error.singular","error"),plural:a("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:a("gutter-tooltip.aria-label.security.singular","security finding"),plural:a("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:a("gutter-tooltip.aria-label.warning.singular","warning"),plural:a("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:a("gutter-tooltip.aria-label.info.singular","information message"),plural:a("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:a("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:a("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),s.prototype.showTooltip=function(r){var f,v=this.editor.renderer.$gutterLayer,y=v.$annotations[r],C;y?C={displayText:Array.from(y.displayText),type:Array.from(y.type)}:C={displayText:[],type:[]};var x=v.session.getFoldLine(r);if(x&&v.$showFoldedAnnotations){for(var w={error:[],security:[],warning:[],info:[],hint:[]},k={error:1,security:2,warning:3,info:4,hint:5},T,A=r+1;A<=x.end.row;A++)if(v.$annotations[A])for(var M=0;M<v.$annotations[A].text.length;M++){var L=v.$annotations[A].type[M];w[L].push(v.$annotations[A].text[M]),(!T||k[L]<k[T])&&(T=L)}if(["error","security","warning"].includes(T)){var R="".concat(s.annotationsToSummaryString(w)," in folded code.");C.displayText.push(R),C.type.push(T+"_fold")}}if(C.displayText.length===0)return this.hide();for(var _={error:[],security:[],warning:[],info:[],hint:[]},b=v.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",A=0;A<C.displayText.length;A++){var E=m.createElement("span"),S=m.createElement("span");(f=S.classList).add.apply(f,["ace_".concat(C.type[A]),b]),S.setAttribute("aria-label","".concat(s.annotationLabels[C.type[A].replace("_fold","")].singular)),S.setAttribute("role","img"),S.appendChild(m.createTextNode(" ")),E.appendChild(S),E.appendChild(m.createTextNode(C.displayText[A])),E.appendChild(m.createElement("br")),_[C.type[A].replace("_fold","")].push(E)}var I=this.getElement();m.removeChildren(I),_.error.forEach(function(O){return I.appendChild(O)}),_.security.forEach(function(O){return I.appendChild(O)}),_.warning.forEach(function(O){return I.appendChild(O)}),_.info.forEach(function(O){return I.appendChild(O)}),_.hint.forEach(function(O){return I.appendChild(O)}),I.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},s.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},s.annotationsToSummaryString=function(r){var f,v,y=[],C=["error","security","warning","info","hint"];try{for(var x=p(C),w=x.next();!w.done;w=x.next()){var k=w.value;if(r[k].length){var T=r[k].length===1?s.annotationLabels[k].singular:s.annotationLabels[k].plural;y.push("".concat(r[k].length," ").concat(T))}}}catch(A){f={error:A}}finally{try{w&&!w.done&&(v=x.return)&&v.call(x)}finally{if(f)throw f.error}}return y.join(", ")},s}(g);n.GutterTooltip=d}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,n,c){var o=i("../lib/event"),p=i("../lib/useragent"),m=function(){function h(g,a){this.speed,this.wheelX,this.wheelY,this.domEvent=g,this.editor=a,this.x=this.clientX=g.clientX,this.y=this.clientY=g.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return h.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},h.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},h.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},h.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},h.prototype.getGutterRow=function(){var g=this.getDocumentPosition().row,a=this.editor.session.documentToScreenRow(g,0),l=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return a-l},h.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var g=this.editor,a=g.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var l=this.getDocumentPosition();this.$inSelection=a.contains(l.row,l.column)}return this.$inSelection},h.prototype.getButton=function(){return o.getButton(this.domEvent)},h.prototype.getShiftKey=function(){return this.domEvent.shiftKey},h.prototype.getAccelKey=function(){return p.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},h}();n.MouseEvent=m}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(i,n,c){var o=i("../lib/dom"),p=i("../lib/event"),m=i("../lib/useragent"),h=200,g=200,a=5;function l(u){var s=u.editor,r=o.createElement("div");r.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",r.textContent=" ";var f=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];f.forEach(function(N){u[N]=this[N]},this),s.on("mousedown",this.onMouseDown.bind(u));var v=s.container,y,C,x,w,k,T,A=0,M,L,R,_,b;this.onDragStart=function(N){if(this.cancelDrag||!v.draggable){var j=this;return setTimeout(function(){j.startSelect(),j.captureMouse(N)},0),N.preventDefault()}k=s.getSelectionRange();var V=N.dataTransfer;V.effectAllowed=s.getReadOnly()?"copy":"copyMove",s.container.appendChild(r),V.setDragImage&&V.setDragImage(r,0,0),setTimeout(function(){s.container.removeChild(r)}),V.clearData(),V.setData("Text",s.session.getTextRange()),L=!0,this.setState("drag")},this.onDragEnd=function(N){if(v.draggable=!1,L=!1,this.setState(null),!s.getReadOnly()){var j=N.dataTransfer.dropEffect;!M&&j=="move"&&s.session.remove(s.getSelectionRange()),s.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(N){if(!(s.getReadOnly()||!F(N.dataTransfer)))return C=N.clientX,x=N.clientY,y||O(),A++,N.dataTransfer.dropEffect=M=W(N),p.preventDefault(N)},this.onDragOver=function(N){if(!(s.getReadOnly()||!F(N.dataTransfer)))return C=N.clientX,x=N.clientY,y||(O(),A++),P!==null&&(P=null),N.dataTransfer.dropEffect=M=W(N),p.preventDefault(N)},this.onDragLeave=function(N){if(A--,A<=0&&y)return D(),M=null,p.preventDefault(N)},this.onDrop=function(N){if(T){var j=N.dataTransfer;if(L)switch(M){case"move":k.contains(T.row,T.column)?k={start:T,end:T}:k=s.moveText(k,T);break;case"copy":k=s.moveText(k,T,!0);break}else{var V=j.getData("Text");k={start:T,end:s.session.insert(T,V)},s.focus(),M=null}return D(),p.preventDefault(N)}},p.addListener(v,"dragstart",this.onDragStart.bind(u),s),p.addListener(v,"dragend",this.onDragEnd.bind(u),s),p.addListener(v,"dragenter",this.onDragEnter.bind(u),s),p.addListener(v,"dragover",this.onDragOver.bind(u),s),p.addListener(v,"dragleave",this.onDragLeave.bind(u),s),p.addListener(v,"drop",this.onDrop.bind(u),s);function E(N,j){var V=Date.now(),H=!j||N.row!=j.row,G=!j||N.column!=j.column;if(!_||H||G)s.moveCursorToPosition(N),_=V,b={x:C,y:x};else{var X=d(b.x,b.y,C,x);X>a?_=null:V-_>=g&&(s.renderer.scrollCursorIntoView(),_=null)}}function S(N,j){var V=Date.now(),H=s.renderer.layerConfig.lineHeight,G=s.renderer.layerConfig.characterWidth,X=s.renderer.scroller.getBoundingClientRect(),J={x:{left:C-X.left,right:X.right-C},y:{top:x-X.top,bottom:X.bottom-x}},K=Math.min(J.x.left,J.x.right),ee=Math.min(J.y.top,J.y.bottom),fe={row:N.row,column:N.column};K/G<=2&&(fe.column+=J.x.left<J.x.right?-3:2),ee/H<=1&&(fe.row+=J.y.top<J.y.bottom?-1:1);var be=N.row!=fe.row,Ce=N.column!=fe.column,pe=!j||N.row!=j.row;be||Ce&&!pe?R?V-R>=h&&s.renderer.scrollCursorIntoView(fe):R=V:R=null}function I(){var N=T;T=s.renderer.screenToTextCoordinates(C,x),E(T,N),S(T,N)}function O(){k=s.selection.toOrientedRange(),y=s.session.addMarker(k,"ace_selection",s.getSelectionStyle()),s.clearSelection(),s.isFocused()&&s.renderer.$cursorLayer.setBlinking(!1),clearInterval(w),I(),w=setInterval(I,20),A=0,p.addListener(document,"mousemove",B)}function D(){clearInterval(w),s.session.removeMarker(y),y=null,s.selection.fromOrientedRange(k),s.isFocused()&&!L&&s.$resetCursorStyle(),k=null,T=null,A=0,R=null,_=null,p.removeListener(document,"mousemove",B)}var P=null;function B(){P==null&&(P=setTimeout(function(){P!=null&&y&&D()},20))}function F(N){var j=N.types;return!j||Array.prototype.some.call(j,function(V){return V=="text/plain"||V=="Text"})}function W(N){var j=["copy","copymove","all","uninitialized"],V=["move","copymove","linkmove","all","uninitialized"],H=m.isMac?N.altKey:N.ctrlKey,G="uninitialized";try{G=N.dataTransfer.effectAllowed.toLowerCase()}catch{}var X="none";return H&&j.indexOf(G)>=0?X="copy":V.indexOf(G)>=0?X="move":j.indexOf(G)>=0&&(X="copy"),X}}(function(){this.dragWait=function(){var u=Date.now()-this.mousedownEvent.time;u>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var u=this.editor.container;u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(u){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var u=this.editor,s=u.container;s.draggable=!0,u.renderer.$cursorLayer.setBlinking(!1),u.setStyle("ace_dragging");var r=m.isWin?"default":"move";u.renderer.setCursorStyle(r),this.setState("dragReady")},this.onMouseDrag=function(u){var s=this.editor.container;if(m.isIE&&this.state=="dragReady"){var r=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);r>3&&s.dragDrop()}if(this.state==="dragWait"){var r=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);r>0&&(s.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(u){if(this.$dragEnabled){this.mousedownEvent=u;var s=this.editor,r=u.inSelection(),f=u.getButton(),v=u.domEvent.detail||1;if(v===1&&f===0&&r){if(u.editor.inMultiSelectMode&&(u.getAccelKey()||u.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=u.domEvent.target||u.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),s.getDragDelay()){if(m.isWebKit){this.cancelDrag=!0;var C=s.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(u,this.onMouseDrag.bind(this)),u.defaultPrevented=!0}}}}).call(l.prototype);function d(u,s,r,f){return Math.sqrt(Math.pow(r-u,2)+Math.pow(f-s,2))}n.DragdropHandler=l}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(i,n,c){var o=i("./mouse_event").MouseEvent,p=i("../lib/event"),m=i("../lib/dom");n.addTouchListeners=function(h,g){var a="scroll",l,d,u,s,r,f,v=0,y,C=0,x=0,w=0,k,T;function A(){var E=window.navigator&&window.navigator.clipboard,S=!1,I=function(){var P=g.getCopyText(),B=g.session.getUndoManager().hasUndo();T.replaceChild(m.buildDom(S?["span",!P&&O("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&O("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&O("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],E&&O("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],B&&O("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],O("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],O("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),T.firstChild)},O=function(P){return g.commands.canExecute(P,g)},D=function(P){var B=P.target.getAttribute("action");if(B=="more"||!S)return S=!S,I();B=="paste"?E.readText().then(function(F){g.execCommand(B,F)}):B&&((B=="cut"||B=="copy")&&(E?E.writeText(g.getCopyText()):document.execCommand("copy")),g.execCommand(B)),T.firstChild.style.display="none",S=!1,B!="openCommandPalette"&&g.focus()};T=m.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){a="menu",P.stopPropagation(),P.preventDefault(),g.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),D(P)},onclick:D},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],g.container)}function M(){if(!g.getOption("enableMobileMenu")){T&&L();return}T||A();var E=g.selection.cursor,S=g.renderer.textToScreenCoordinates(E.row,E.column),I=g.renderer.textToScreenCoordinates(0,0).pageX,O=g.renderer.scrollLeft,D=g.container.getBoundingClientRect();T.style.top=S.pageY-D.top-3+"px",S.pageX-D.left<D.width-70?(T.style.left="",T.style.right="10px"):(T.style.right="",T.style.left=I+O-D.left+"px"),T.style.display="",T.firstChild.style.display="none",g.on("input",L)}function L(E){T&&(T.style.display="none"),g.off("input",L)}function R(){r=null,clearTimeout(r);var E=g.selection.getRange(),S=E.contains(y.row,y.column);(E.isEmpty()||!S)&&(g.selection.moveToPosition(y),g.selection.selectWord()),a="wait",M()}function _(){r=null,clearTimeout(r),g.selection.moveToPosition(y);var E=C>=2?g.selection.getLineRange(y.row):g.session.getBracketRange(y);E&&!E.isEmpty()?g.selection.setRange(E):g.selection.selectWord(),a="wait"}p.addListener(h,"contextmenu",function(E){if(k){var S=g.textInput.getElement();S.focus()}},g),p.addListener(h,"touchstart",function(E){var S=E.touches;if(r||S.length>1){clearTimeout(r),r=null,u=-1,a="zoom";return}k=g.$mouseHandler.isMousePressed=!0;var I=g.renderer.layerConfig.lineHeight,O=g.renderer.layerConfig.lineHeight,D=E.timeStamp;s=D;var P=S[0],B=P.clientX,F=P.clientY;Math.abs(l-B)+Math.abs(d-F)>I&&(u=-1),l=E.clientX=B,d=E.clientY=F,x=w=0;var W=new o(E,g);if(y=W.getDocumentPosition(),D-u<500&&S.length==1&&!v)C++,E.preventDefault(),E.button=0,_();else{C=0;var N=g.selection.cursor,j=g.selection.isEmpty()?N:g.selection.anchor,V=g.renderer.$cursorLayer.getPixelPosition(N,!0),H=g.renderer.$cursorLayer.getPixelPosition(j,!0),G=g.renderer.scroller.getBoundingClientRect(),X=g.renderer.layerConfig.offset,J=g.renderer.scrollLeft,K=function(be,Ce){return be=be/O,Ce=Ce/I-.75,be*be+Ce*Ce};if(E.clientX<G.left){a="zoom";return}var ee=K(E.clientX-G.left-V.left+J,E.clientY-G.top-V.top+X),fe=K(E.clientX-G.left-H.left+J,E.clientY-G.top-H.top+X);ee<3.5&&fe<3.5&&(a=ee>fe?"cursor":"anchor"),fe<3.5?a="anchor":ee<3.5?a="cursor":a="scroll",r=setTimeout(R,450)}u=D},g),p.addListener(h,"touchend",function(E){k=g.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),a=="zoom"?(a="",v=0):r?(g.selection.moveToPosition(y),v=0,M()):a=="scroll"?(b(),L()):M(),clearTimeout(r),r=null},g),p.addListener(h,"touchmove",function(E){r&&(clearTimeout(r),r=null);var S=E.touches;if(!(S.length>1||a=="zoom")){var I=S[0],O=l-I.clientX,D=d-I.clientY;if(a=="wait")if(O*O+D*D>4)a="cursor";else return E.preventDefault();l=I.clientX,d=I.clientY,E.clientX=I.clientX,E.clientY=I.clientY;var P=E.timeStamp,B=P-s;if(s=P,a=="scroll"){var F=new o(E,g);F.speed=1,F.wheelX=O,F.wheelY=D,10*Math.abs(O)<Math.abs(D)&&(O=0),10*Math.abs(D)<Math.abs(O)&&(D=0),B!=0&&(x=O/B,w=D/B),g._emit("mousewheel",F),F.propagationStopped||(x=w=0)}else{var W=new o(E,g),N=W.getDocumentPosition();a=="cursor"?g.selection.moveCursorToPosition(N):a=="anchor"&&g.selection.setSelectionAnchor(N.row,N.column),g.renderer.scrollCursorIntoView(N),E.preventDefault()}}},g);function b(){v+=60,f=setInterval(function(){v--<=0&&(clearInterval(f),f=null),Math.abs(x)<.01&&(x=0),Math.abs(w)<.01&&(w=0),v<20&&(x=.9*x),v<20&&(w=.9*w);var E=g.session.getScrollTop();g.renderer.scrollBy(10*x,10*w),E==g.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(i,n,c){var o=i("../lib/event"),p=i("../lib/useragent"),m=i("./default_handlers").DefaultHandlers,h=i("./default_gutter_handler").GutterHandler,g=i("./mouse_event").MouseEvent,a=i("./dragdrop_handler").DragdropHandler,l=i("./touch_handler").addTouchListeners,d=i("../config"),u=function(){function s(r){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var f=this;this.editor=r,new m(this),new h(this),new a(this);var v=function(x){var w=!document.hasFocus||!document.hasFocus()||!r.isFocused()&&document.activeElement==(r.textInput&&r.textInput.getElement());w&&window.focus(),r.focus(),setTimeout(function(){r.isFocused()||r.focus()})},y=r.renderer.getMouseEventTarget();o.addListener(y,"click",this.onMouseEvent.bind(this,"click"),r),o.addListener(y,"mousemove",this.onMouseMove.bind(this,"mousemove"),r),o.addMultiMouseDownListener([y,r.renderer.scrollBarV&&r.renderer.scrollBarV.inner,r.renderer.scrollBarH&&r.renderer.scrollBarH.inner,r.textInput&&r.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",r),o.addMouseWheelListener(r.container,this.onMouseWheel.bind(this,"mousewheel"),r),l(r.container,r);var C=r.renderer.$gutter;o.addListener(C,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),r),o.addListener(C,"click",this.onMouseEvent.bind(this,"gutterclick"),r),o.addListener(C,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),r),o.addListener(C,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),r),o.addListener(y,"mousedown",v,r),o.addListener(C,"mousedown",v,r),p.isIE&&r.renderer.scrollBarV&&(o.addListener(r.renderer.scrollBarV.element,"mousedown",v,r),o.addListener(r.renderer.scrollBarH.element,"mousedown",v,r)),r.on("mousemove",function(x){if(!(f.state||f.$dragDelay||!f.$dragEnabled)){var w=r.renderer.screenToTextCoordinates(x.x,x.y),k=r.session.selection.getRange(),T=r.renderer;!k.isEmpty()&&k.insideStart(w.row,w.column)?T.setCursorStyle("default"):T.setCursorStyle("")}},r)}return s.prototype.onMouseEvent=function(r,f){this.editor.session&&this.editor._emit(r,new g(f,this.editor))},s.prototype.onMouseMove=function(r,f){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(r,new g(f,this.editor))},s.prototype.onMouseWheel=function(r,f){var v=new g(f,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=f.wheelX,v.wheelY=f.wheelY,this.editor._emit(r,v)},s.prototype.setState=function(r){this.state=r},s.prototype.captureMouse=function(r,f){this.x=r.x,this.y=r.y,this.isMousePressed=!0;var v=this.editor,y=this.editor.renderer;y.$isMousePressed=!0;var C=this,x=function(M){if(M){if(p.isWebKit&&!M.which&&C.releaseMouse)return C.releaseMouse();C.x=M.clientX,C.y=M.clientY,f&&f(M),C.mouseEvent=new g(M,C.editor),C.$mouseMoved=!0}},w=function(M){v.off("beforeEndOperation",T),clearInterval(A),v.session&&k(),C[C.state+"End"]&&C[C.state+"End"](M),C.state="",C.isMousePressed=y.$isMousePressed=!1,y.$keepTextAreaAtCursor&&y.$moveTextAreaToCursor(),C.$onCaptureMouseMove=C.releaseMouse=null,M&&C.onMouseEvent("mouseup",M),v.endOperation()},k=function(){C[C.state]&&C[C.state](),C.$mouseMoved=!1};if(p.isOldIE&&r.domEvent.type=="dblclick")return setTimeout(function(){w(r)});var T=function(M){C.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(C[C.state+"End"]&&C[C.state+"End"](),C.state="",C.releaseMouse())};v.on("beforeEndOperation",T),v.startOperation({command:{name:"mouse"}}),C.$onCaptureMouseMove=x,C.releaseMouse=o.capture(this.editor.container,x,w);var A=setInterval(k,20)},s.prototype.cancelContextMenu=function(){var r=(function(f){f&&f.domEvent&&f.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",r),f&&f.domEvent&&o.stopEvent(f.domEvent))}).bind(this);setTimeout(r,10),this.editor.on("nativecontextmenu",r)},s.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},s}();u.prototype.releaseMouse=null,d.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:p.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),n.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(i,n,c){var o=i("../lib/dom"),p=function(){function m(h){h.on("click",function(g){var a=g.getDocumentPosition(),l=h.session,d=l.getFoldAt(a.row,a.column,1);d&&(g.getAccelKey()?l.removeFold(d):l.expandFold(d),g.stop());var u=g.domEvent&&g.domEvent.target;u&&o.hasCssClass(u,"ace_inline_button")&&o.hasCssClass(u,"ace_toggle_wrap")&&(l.setOption("wrap",!l.getUseWrapMode()),h.renderer.scrollCursorIntoView())}),h.on("gutterclick",function(g){var a=h.renderer.$gutterLayer.getRegion(g);if(a=="foldWidgets"){var l=g.getDocumentPosition().row,d=h.session;d.foldWidgets&&d.foldWidgets[l]&&h.session.onFoldWidgetClick(l,g),h.isFocused()||h.focus(),g.stop()}}),h.on("gutterdblclick",function(g){var a=h.renderer.$gutterLayer.getRegion(g);if(a=="foldWidgets"){var l=g.getDocumentPosition().row,d=h.session,u=d.getParentFoldRangeData(l,!0),s=u.range||u.firstRange;if(s){l=s.start.row;var r=d.getFoldAt(l,d.getLine(l).length,1);r?d.removeFold(r):(d.addFold("...",s),h.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}g.stop()}})}return m}();n.FoldHandler=p}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(i,n,c){var o=i("../lib/keys"),p=i("../lib/event"),m=function(){function h(g){this.$editor=g,this.$data={editor:g},this.$handlers=[],this.setDefaultHandler(g.commands)}return h.prototype.setDefaultHandler=function(g){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=g,this.addKeyboardHandler(g,0)},h.prototype.setKeyboardHandler=function(g){var a=this.$handlers;if(a[a.length-1]!=g){for(;a[a.length-1]&&a[a.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(a[a.length-1]);this.addKeyboardHandler(g,1)}},h.prototype.addKeyboardHandler=function(g,a){if(g){typeof g=="function"&&!g.handleKeyboard&&(g.handleKeyboard=g);var l=this.$handlers.indexOf(g);l!=-1&&this.$handlers.splice(l,1),a==null?this.$handlers.push(g):this.$handlers.splice(a,0,g),l==-1&&g.attach&&g.attach(this.$editor)}},h.prototype.removeKeyboardHandler=function(g){var a=this.$handlers.indexOf(g);return a==-1?!1:(this.$handlers.splice(a,1),g.detach&&g.detach(this.$editor),!0)},h.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},h.prototype.getStatusText=function(){var g=this.$data,a=g.editor;return this.$handlers.map(function(l){return l.getStatusText&&l.getStatusText(a,g)||""}).filter(Boolean).join(" ")},h.prototype.$callKeyboardHandlers=function(g,a,l,d){for(var u,s=!1,r=this.$editor.commands,f=this.$handlers.length;f--&&(u=this.$handlers[f].handleKeyboard(this.$data,g,a,l,d),!(!(!u||!u.command)&&(u.command=="null"?s=!0:s=r.exec(u.command,this.$editor,u.args,d),s&&d&&g!=-1&&u.passEvent!=!0&&u.command.passEvent!=!0&&p.stopEvent(d),s))););return!s&&g==-1&&(u={command:"insertstring"},s=r.exec("insertstring",this.$editor,a)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",u),s},h.prototype.onCommandKey=function(g,a,l){var d=o.keyCodeToString(l);return this.$callKeyboardHandlers(a,d,l,g)},h.prototype.onTextInput=function(g){return this.$callKeyboardHandlers(-1,g)},h}();n.KeyBinding=m}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(i,n,c){var o=0,p=0,m=!1,h=!1,g=!1,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,u=1,s=0,r=1,f=2,v=3,y=4,C=5,x=6,w=7,k=8,T=9,A=10,M=11,L=12,R=13,_=14,b=15,E=16,S=17,I=18,O=[I,I,I,I,I,I,I,I,I,x,C,x,k,C,I,I,I,I,I,I,I,I,I,I,I,I,I,I,C,C,C,x,k,y,y,M,M,M,y,y,y,y,y,A,T,A,T,T,f,f,f,f,f,f,f,f,f,f,T,y,y,y,y,y,y,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,y,y,y,y,y,y,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,y,y,y,y,I,I,I,I,I,I,C,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,T,y,M,M,M,M,y,y,y,y,s,y,y,I,y,y,M,M,f,f,y,s,y,y,y,f,s,y,y,y,y,y],D=[k,k,k,k,k,k,k,k,k,k,k,I,I,I,s,r,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,k,C,R,_,b,E,S,T,M,M,M,M,M,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,T,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,k];function P(N,j,V,H){var G=o?l:a,X=null,J=null,K=null,ee=0,fe=null,be=null,Ce=-1,pe=null,Ie=null,We=[];if(!H)for(pe=0,H=[];pe<V;pe++)H[pe]=W(N[pe]);for(p=o,m=!1,h=!1,g=!1,Ie=0;Ie<V;Ie++){if(X=ee,We[Ie]=J=F(N,H,We,Ie),ee=G[X][J],fe=ee&240,ee&=15,j[Ie]=K=G[ee][5],fe>0)if(fe==16){for(pe=Ce;pe<Ie;pe++)j[pe]=1;Ce=-1}else Ce=-1;if(be=G[ee][6],be)Ce==-1&&(Ce=Ie);else if(Ce>-1){for(pe=Ce;pe<Ie;pe++)j[pe]=K;Ce=-1}H[Ie]==C&&(j[Ie]=0),p|=K}if(g){for(pe=0;pe<V;pe++)if(H[pe]==x){j[pe]=o;for(var ze=pe-1;ze>=0&&H[ze]==k;ze--)j[ze]=o}}}function B(N,j,V){if(!(p<N)){if(N==1&&o==u&&!h){V.reverse();return}for(var H=V.length,G=0,X,J,K,ee;G<H;){if(j[G]>=N){for(X=G+1;X<H&&j[X]>=N;)X++;for(J=G,K=X-1;J<K;J++,K--)ee=V[J],V[J]=V[K],V[K]=ee;G=X}G++}}}function F(N,j,V,H){var G=j[H],X,J,K,ee;switch(G){case s:case r:m=!1;case y:case v:return G;case f:return m?v:f;case w:return m=!0,r;case k:return y;case T:return H<1||H+1>=j.length||(X=V[H-1])!=f&&X!=v||(J=j[H+1])!=f&&J!=v?y:(m&&(J=v),J==X?J:y);case A:return X=H>0?V[H-1]:C,X==f&&H+1<j.length&&j[H+1]==f?f:y;case M:if(H>0&&V[H-1]==f)return f;if(m)return y;for(ee=H+1,K=j.length;ee<K&&j[ee]==M;)ee++;return ee<K&&j[ee]==f?f:y;case L:for(K=j.length,ee=H+1;ee<K&&j[ee]==L;)ee++;if(ee<K){var fe=N[H],be=fe>=1425&&fe<=2303||fe==64286;if(X=j[ee],be&&(X==r||X==w))return r}return H<1||(X=j[H-1])==C?y:V[H-1];case C:return m=!1,h=!0,o;case x:return g=!0,y;case R:case _:case E:case S:case b:m=!1;case I:return y}}function W(N){var j=N.charCodeAt(0),V=j>>8;return V==0?j>191?s:O[j]:V==5?/[\u0591-\u05f4]/.test(N)?r:s:V==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(N)?L:/[\u0660-\u0669\u066b-\u066c]/.test(N)?v:j==1642?M:/[\u06f0-\u06f9]/.test(N)?f:w:V==32&&j<=8287?D[j&255]:V==254&&j>=65136?w:y}n.L=s,n.R=r,n.EN=f,n.ON_R=3,n.AN=4,n.R_H=5,n.B=6,n.RLE=7,n.DOT="·",n.doBidiReorder=function(N,j,V){if(N.length<2)return{};var H=N.split(""),G=new Array(H.length),X=new Array(H.length),J=[];o=V?u:d,P(H,J,H.length,j);for(var K=0;K<G.length;G[K]=K,K++);B(2,J,G),B(1,J,G);for(var K=0;K<G.length-1;K++)j[K]===v?J[K]=n.AN:J[K]===r&&(j[K]>w&&j[K]<R||j[K]===y||j[K]===I)?J[K]=n.ON_R:K>0&&H[K-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(H[K])&&(J[K-1]=J[K]=n.R_H,K++);H[H.length-1]===n.DOT&&(J[H.length-1]=n.B),H[0]==="‫"&&(J[0]=n.RLE);for(var K=0;K<G.length;K++)X[K]=J[G[K]];return{logicalFromVisual:G,bidiLevels:X}},n.hasBidiCharacters=function(N,j){for(var V=!1,H=0;H<N.length;H++)j[H]=W(N.charAt(H)),!V&&(j[H]==r||j[H]==w||j[H]==v)&&(V=!0);return V},n.getVisualFromLogicalIdx=function(N,j){for(var V=0;V<j.logicalFromVisual.length;V++)if(j.logicalFromVisual[V]==N)return V;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(i,n,c){var o=i("./lib/bidiutil"),p=i("./lib/lang"),m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,h=function(){function g(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=m.test(a.getValue())}return g.prototype.isBidiRow=function(a,l,d){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(l,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},g.prototype.onChange=function(a){this.seenBidi?this.currentRow=null:a.action=="insert"&&m.test(a.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},g.prototype.getDocumentRow=function(){var a=0,l=this.session.$screenRowCache;if(l.length){var d=this.session.$getRowCacheIndex(l,this.currentRow);d>=0&&(a=this.session.$docRowCache[d])}return a},g.prototype.getSplitIndex=function(){var a=0,l=this.session.$screenRowCache;if(l.length)for(var d,u=this.session.$getRowCacheIndex(l,this.currentRow);this.currentRow-a>0&&(d=this.session.$getRowCacheIndex(l,this.currentRow-a-1),d===u);)u=d,a++;else a=this.currentRow;return a},g.prototype.updateRowLine=function(a,l){a===void 0&&(a=this.getDocumentRow());var d=a===this.session.getLength()-1,u=d?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[a];s&&(l===void 0&&(l=this.getSplitIndex()),l>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=l<s.length?this.line.substring(s[l-1],s[l]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[l]),l==s.length&&(this.line+=this.showInvisibles?u:o.DOT))}else this.line+=this.showInvisibles?u:o.DOT;var r=this.session,f=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(y,C){return y==="	"||r.isFullWidth(y.charCodeAt(0))?(v=y==="	"?r.getScreenTabSize(C+f):2,f+=v-1,p.stringRepeat(o.DOT,v)):y}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},g.prototype.updateBidiMap=function(){var a=[];o.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},g.prototype.markAsDirty=function(){this.currentRow=null},g.prototype.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var l=this.characterWidth=a.$characterSize.width,d=a.$measureCharWidth("ה");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=l,this.charWidths[o.R]=this.charWidths[o.AN]=d,this.charWidths[o.R_H]=d*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},g.prototype.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},g.prototype.setEolChar=function(a){this.EOL=a},g.prototype.setContentWidth=function(a){this.contentWidth=a},g.prototype.isRtlLine=function(a){return this.$isRtl?!0:a!=null?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir},g.prototype.setRtlDirection=function(a,l){for(var d=a.getCursorPosition(),u=a.selection.getSelectionAnchor().row;u<=d.row;u++)!l&&a.session.getLine(u).charAt(0)===a.session.$bidiHandler.RLE?a.session.doc.removeInLine(u,0,1):l&&a.session.getLine(u).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:u},a.session.$bidiHandler.RLE)},g.prototype.getPosLeft=function(a){a-=this.wrapIndent;var l=this.line.charAt(0)===this.RLE?1:0,d=a>l?this.session.getOverwrite()?a:a-1:l,u=o.getVisualFromLogicalIdx(d,this.bidiMap),s=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&a<=l&&s[u]%2!==0&&u++;for(var f=0;f<u;f++)r+=this.charWidths[s[f]];return!this.session.getOverwrite()&&a>l&&s[u]%2===0&&(r+=this.charWidths[s[u]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},g.prototype.getSelections=function(a,l){var d=this.bidiMap,u=d.bidiLevels,s,r=[],f=0,v=Math.min(a,l)-this.wrapIndent,y=Math.max(a,l)-this.wrapIndent,C=!1,x=!1,w=0;this.wrapIndent&&(f+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var k,T=0;T<u.length;T++)k=d.logicalFromVisual[T],s=u[T],C=k>=v&&k<y,C&&!x?w=f:!C&&x&&r.push({left:w,width:f-w}),f+=this.charWidths[s],x=C;if(C&&T===u.length&&r.push({left:w,width:f-w}),this.isRtlDir)for(var A=0;A<r.length;A++)r[A].left+=this.rtlLineOffset;return r},g.prototype.offsetToCol=function(d){this.isRtlDir&&(d-=this.rtlLineOffset);var l=0,d=Math.max(d,0),u=0,s=0,r=this.bidiMap.bidiLevels,f=this.charWidths[r[s]];for(this.wrapIndent&&(d-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d>u+f/2;){if(u+=f,s===r.length-1){f=0;break}f=this.charWidths[r[++s]]}return s>0&&r[s-1]%2!==0&&r[s]%2===0?(d<u&&s--,l=this.bidiMap.logicalFromVisual[s]):s>0&&r[s-1]%2===0&&r[s]%2!==0?l=1+(d>u?this.bidiMap.logicalFromVisual[s]:this.bidiMap.logicalFromVisual[s-1]):this.isRtlDir&&s===r.length-1&&f===0&&r[s-1]%2===0||!this.isRtlDir&&s===0&&r[s]%2!==0?l=1+this.bidiMap.logicalFromVisual[s]:(s>0&&r[s-1]%2!==0&&f!==0&&s--,l=this.bidiMap.logicalFromVisual[s]),l===0&&this.isRtlDir&&l++,l+this.wrapIndent},g}();n.BidiHandler=h}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(i,n,c){var o=i("./lib/oop"),p=i("./lib/lang"),m=i("./lib/event_emitter").EventEmitter,h=i("./range").Range,g=function(){function a(l){this.session=l,this.doc=l.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var d=this;this.cursor.on("change",function(u){d.$cursorChanged=!0,d.$silent||d._emit("changeCursor"),!d.$isEmpty&&!d.$silent&&d._emit("changeSelection"),!d.$keepDesiredColumnOnChange&&u.old.column!=u.value.column&&(d.$desiredColumn=null)}),this.anchor.on("change",function(){d.$anchorChanged=!0,!d.$isEmpty&&!d.$silent&&d._emit("changeSelection")})}return a.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},a.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},a.prototype.getCursor=function(){return this.lead.getPosition()},a.prototype.setAnchor=function(l,d){this.$isEmpty=!1,this.anchor.setPosition(l,d)},a.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},a.prototype.getSelectionLead=function(){return this.lead.getPosition()},a.prototype.isBackwards=function(){var l=this.anchor,d=this.lead;return l.row>d.row||l.row==d.row&&l.column>d.column},a.prototype.getRange=function(){var l=this.anchor,d=this.lead;return this.$isEmpty?h.fromPoints(d,d):this.isBackwards()?h.fromPoints(d,l):h.fromPoints(l,d)},a.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},a.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},a.prototype.setRange=function(l,d){var u=d?l.end:l.start,s=d?l.start:l.end;this.$setSelection(u.row,u.column,s.row,s.column)},a.prototype.$setSelection=function(l,d,u,s){if(!this.$silent){var r=this.$isEmpty,f=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(l,d),this.cursor.setPosition(u,s),this.$isEmpty=!h.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||f)&&this._emit("changeSelection")}},a.prototype.$moveSelection=function(l){var d=this.lead;this.$isEmpty&&this.setSelectionAnchor(d.row,d.column),l.call(this)},a.prototype.selectTo=function(l,d){this.$moveSelection(function(){this.moveCursorTo(l,d)})},a.prototype.selectToPosition=function(l){this.$moveSelection(function(){this.moveCursorToPosition(l)})},a.prototype.moveTo=function(l,d){this.clearSelection(),this.moveCursorTo(l,d)},a.prototype.moveToPosition=function(l){this.clearSelection(),this.moveCursorToPosition(l)},a.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},a.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},a.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},a.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},a.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},a.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},a.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},a.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},a.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},a.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},a.prototype.getWordRange=function(l,d){if(typeof d>"u"){var u=l||this.lead;l=u.row,d=u.column}return this.session.getWordRange(l,d)},a.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},a.prototype.selectAWord=function(){var l=this.getCursor(),d=this.session.getAWordRange(l.row,l.column);this.setSelectionRange(d)},a.prototype.getLineRange=function(l,d){var u=typeof l=="number"?l:this.lead.row,s,r=this.session.getFoldLine(u);return r?(u=r.start.row,s=r.end.row):s=u,d===!0?new h(u,0,s,this.session.getLine(s).length):new h(u,0,s+1,0)},a.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},a.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},a.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},a.prototype.wouldMoveIntoSoftTab=function(l,d,u){var s=l.column,r=l.column+d;return u<0&&(s=l.column-d,r=l.column),this.session.isTabStop(l)&&this.doc.getLine(l.row).slice(s,r).split(" ").length-1==d},a.prototype.moveCursorLeft=function(){var l=this.lead.getPosition(),d;if(d=this.session.getFoldAt(l.row,l.column,-1))this.moveCursorTo(d.start.row,d.start.column);else if(l.column===0)l.row>0&&this.moveCursorTo(l.row-1,this.doc.getLine(l.row-1).length);else{var u=this.session.getTabSize();this.wouldMoveIntoSoftTab(l,u,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-u):this.moveCursorBy(0,-1)}},a.prototype.moveCursorRight=function(){var l=this.lead.getPosition(),d;if(d=this.session.getFoldAt(l.row,l.column,1))this.moveCursorTo(d.end.row,d.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var u=this.session.getTabSize(),l=this.lead;this.wouldMoveIntoSoftTab(l,u,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,u):this.moveCursorBy(0,1)}},a.prototype.moveCursorLineStart=function(){var l=this.lead.row,d=this.lead.column,u=this.session.documentToScreenRow(l,d),s=this.session.screenToDocumentPosition(u,0),r=this.session.getDisplayLine(l,null,s.row,s.column),f=r.match(/^\s*/);f[0].length!=d&&!this.session.$useEmacsStyleLineStart&&(s.column+=f[0].length),this.moveCursorToPosition(s)},a.prototype.moveCursorLineEnd=function(){var l=this.lead,d=this.session.getDocumentLastRowColumnPosition(l.row,l.column);if(this.lead.column==d.column){var u=this.session.getLine(d.row);if(d.column==u.length){var s=u.search(/\s+$/);s>0&&(d.column=s)}}this.moveCursorTo(d.row,d.column)},a.prototype.moveCursorFileEnd=function(){var l=this.doc.getLength()-1,d=this.doc.getLine(l).length;this.moveCursorTo(l,d)},a.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},a.prototype.moveCursorLongWordRight=function(){var l=this.lead.row,d=this.lead.column,u=this.doc.getLine(l),s=u.substring(d);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(l,d,1);if(r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(s)&&(d+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,s=u.substring(d)),d>=u.length){this.moveCursorTo(l,u.length),this.moveCursorRight(),l<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(s)&&(d+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(l,d)},a.prototype.moveCursorLongWordLeft=function(){var l=this.lead.row,d=this.lead.column,u;if(u=this.session.getFoldAt(l,d,-1)){this.moveCursorTo(u.start.row,u.start.column);return}var s=this.session.getFoldStringAt(l,d,-1);s==null&&(s=this.doc.getLine(l).substring(0,d));var r=p.stringReverse(s);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(d-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0){this.moveCursorTo(l,0),this.moveCursorLeft(),l>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(r)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(l,d)},a.prototype.$shortWordEndIndex=function(l){var d=0,u,s=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(l))d=this.session.tokenRe.lastIndex;else{for(;(u=l[d])&&s.test(u);)d++;if(d<1){for(r.lastIndex=0;(u=l[d])&&!r.test(u);)if(r.lastIndex=0,d++,s.test(u))if(d>2){d--;break}else{for(;(u=l[d])&&s.test(u);)d++;if(d>2)break}}}return r.lastIndex=0,d},a.prototype.moveCursorShortWordRight=function(){var l=this.lead.row,d=this.lead.column,u=this.doc.getLine(l),s=u.substring(d),r=this.session.getFoldAt(l,d,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(d==u.length){var f=this.doc.getLength();do l++,s=this.doc.getLine(l);while(l<f&&/^\s*$/.test(s));/^\s+/.test(s)||(s=""),d=0}var v=this.$shortWordEndIndex(s);this.moveCursorTo(l,d+v)},a.prototype.moveCursorShortWordLeft=function(){var l=this.lead.row,d=this.lead.column,u;if(u=this.session.getFoldAt(l,d,-1))return this.moveCursorTo(u.start.row,u.start.column);var s=this.session.getLine(l).substring(0,d);if(d===0){do l--,s=this.doc.getLine(l);while(l>0&&/^\s*$/.test(s));d=s.length,/\s+$/.test(s)||(s="")}var r=p.stringReverse(s),f=this.$shortWordEndIndex(r);return this.moveCursorTo(l,d-f)},a.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},a.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},a.prototype.moveCursorBy=function(l,d){var u=this.session.documentToScreenPosition(this.lead.row,this.lead.column),s;if(d===0&&(l!==0&&(this.session.$bidiHandler.isBidiRow(u.row,this.lead.row)?(s=this.session.$bidiHandler.getPosLeft(u.column),u.column=Math.round(s/this.session.$bidiHandler.charWidths[0])):s=u.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?u.column=this.$desiredColumn:this.$desiredColumn=u.column),l!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];l<0?l-=r.rowsAbove||0:l>0&&(l+=r.rowCount-(r.rowsAbove||0))}var f=this.session.screenToDocumentPosition(u.row+l,u.column,s);l!==0&&d===0&&f.row===this.lead.row&&(f.column,this.lead.column),this.moveCursorTo(f.row,f.column+d,d===0)},a.prototype.moveCursorToPosition=function(l){this.moveCursorTo(l.row,l.column)},a.prototype.moveCursorTo=function(l,d,u){var s=this.session.getFoldAt(l,d,1);s&&(l=s.start.row,d=s.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(l);/[\uDC00-\uDFFF]/.test(r.charAt(d))&&r.charAt(d-1)&&(this.lead.row==l&&this.lead.column==d+1?d=d-1:d=d+1),this.lead.setPosition(l,d),this.$keepDesiredColumnOnChange=!1,u||(this.$desiredColumn=null)},a.prototype.moveCursorToScreen=function(l,d,u){var s=this.session.screenToDocumentPosition(l,d);this.moveCursorTo(s.row,s.column,u)},a.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},a.prototype.fromOrientedRange=function(l){this.setSelectionRange(l,l.cursor==l.start),this.$desiredColumn=l.desiredColumn||this.$desiredColumn},a.prototype.toOrientedRange=function(l){var d=this.getRange();return l?(l.start.column=d.start.column,l.start.row=d.start.row,l.end.column=d.end.column,l.end.row=d.end.row):l=d,l.cursor=this.isBackwards()?l.start:l.end,l.desiredColumn=this.$desiredColumn,l},a.prototype.getRangeOfMovements=function(l){var d=this.getCursor();try{l(this);var u=this.getCursor();return h.fromPoints(d,u)}catch{return h.fromPoints(d,d)}finally{this.moveCursorToPosition(d)}},a.prototype.toJSON=function(){if(this.rangeCount)var l=this.ranges.map(function(d){var u=d.clone();return u.isBackwards=d.cursor==d.start,u});else{var l=this.getRange();l.isBackwards=this.isBackwards()}return l},a.prototype.fromJSON=function(l){if(l.start==null)if(this.rangeList&&l.length>1){this.toSingleRange(l[0]);for(var d=l.length;d--;){var u=h.fromPoints(l[d].start,l[d].end);l[d].isBackwards&&(u.cursor=u.start),this.addRange(u,!0)}return}else l=l[0];this.rangeList&&this.toSingleRange(l),this.setSelectionRange(l,l.isBackwards)},a.prototype.isEqual=function(l){if((l.length||this.rangeCount)&&l.length!=this.rangeCount)return!1;if(!l.length||!this.ranges)return this.getRange().isEqual(l);for(var d=this.ranges.length;d--;)if(!this.ranges[d].isEqual(l[d]))return!1;return!0},a}();g.prototype.setSelectionAnchor=g.prototype.setAnchor,g.prototype.getSelectionAnchor=g.prototype.getAnchor,g.prototype.setSelectionRange=g.prototype.setRange,o.implement(g.prototype,m),n.Selection=g}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(i,n,c){var o=i("./lib/report_error").reportError,p=2e3,m=function(){function h(g){this.splitRegex,this.states=g,this.regExps={},this.matchMappings={};for(var a in this.states){for(var l=this.states[a],d=[],u=0,s=this.matchMappings[a]={defaultToken:"text"},r="g",f=[],v=0;v<l.length;v++){var y=l[v];if(y.defaultToken&&(s.defaultToken=y.defaultToken),y.caseInsensitive&&r.indexOf("i")===-1&&(r+="i"),y.unicode&&r.indexOf("u")===-1&&(r+="u"),y.regex!=null){y.regex instanceof RegExp&&(y.regex=y.regex.toString().slice(1,-1));var C=y.regex,x=new RegExp("(?:("+C+")|(.))").exec("a").length-2;Array.isArray(y.token)?y.token.length==1||x==1?y.token=y.token[0]:x-1!=y.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:y,groupCount:x-1}),y.token=y.token[0]):(y.tokenArray=y.token,y.token=null,y.onMatch=this.$arrayTokens):typeof y.token=="function"&&!y.onMatch&&(x>1?y.onMatch=this.$applyToken:y.onMatch=y.token),x>1&&(/\\\d/.test(y.regex)?C=y.regex.replace(/\\([0-9]+)/g,function(w,k){return"\\"+(parseInt(k,10)+u+1)}):(x=1,C=this.removeCapturingGroups(y.regex)),!y.splitRegex&&typeof y.token!="string"&&f.push(y)),s[u]=v,u+=x,d.push(C),y.onMatch||(y.onMatch=null)}}d.length||(s[0]=0,d.push("$")),f.forEach(function(w){w.splitRegex=this.createSplitterRegexp(w.regex,r)},this),this.regExps[a]=new RegExp("("+d.join(")|(")+")|($)",r)}}return h.prototype.$setMaxTokenCount=function(g){p=g|0},h.prototype.$applyToken=function(g){var a=this.splitRegex.exec(g).slice(1),l=this.token.apply(this,a);if(typeof l=="string")return[{type:l,value:g}];for(var d=[],u=0,s=l.length;u<s;u++)a[u]&&(d[d.length]={type:l[u],value:a[u]});return d},h.prototype.$arrayTokens=function(g){if(!g)return[];var a=this.splitRegex.exec(g);if(!a)return"text";for(var l=[],d=this.tokenArray,u=0,s=d.length;u<s;u++)a[u+1]&&(l[l.length]={type:d[u],value:a[u+1]});return l},h.prototype.removeCapturingGroups=function(g){var a=g.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(l,d){return d?"(?:":l});return a},h.prototype.createSplitterRegexp=function(g,a){if(g.indexOf("(?=")!=-1){var l=0,d=!1,u={};g.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(s,r,f,v,y,C){return d?d=y!="]":y?d=!0:v?(l==u.stack&&(u.end=C+1,u.stack=-1),l--):f&&(l++,f.length!=1&&(u.stack=l,u.start=C)),s}),u.end!=null&&/^\)*$/.test(g.substr(u.end))&&(g=g.substring(0,u.start)+g.substr(u.end))}return g.charAt(0)!="^"&&(g="^"+g),g.charAt(g.length-1)!="$"&&(g+="$"),new RegExp(g,(a||"").replace("g",""))},h.prototype.getLineTokens=function(g,a){if(a&&typeof a!="string"){var l=a.slice(0);a=l[0],a==="#tmp"&&(l.shift(),a=l.shift())}else var l=[];var d=a||"start",u=this.states[d];u||(d="start",u=this.states[d]);var s=this.matchMappings[d],r=this.regExps[d];r.lastIndex=0;for(var f,v=[],y=0,C=0,x={type:null,value:""};f=r.exec(g);){var w=s.defaultToken,k=null,T=f[0],A=r.lastIndex;if(A-T.length>y){var M=g.substring(y,A-T.length);x.type==w?x.value+=M:(x.type&&v.push(x),x={type:w,value:M})}for(var L=0;L<f.length-2;L++)if(f[L+1]!==void 0){k=u[s[L]],k.onMatch?w=k.onMatch(T,d,l,g):w=k.token,k.next&&(typeof k.next=="string"?d=k.next:d=k.next(d,l),u=this.states[d],u||(this.reportError("state doesn't exist",d),d="start",u=this.states[d]),s=this.matchMappings[d],y=A,r=this.regExps[d],r.lastIndex=A),k.consumeLineEnd&&(y=A);break}if(T){if(typeof w=="string")(!k||k.merge!==!1)&&x.type===w?x.value+=T:(x.type&&v.push(x),x={type:w,value:T});else if(w){x.type&&v.push(x),x={type:null,value:""};for(var L=0;L<w.length;L++)v.push(w[L])}}if(y==g.length)break;if(y=A,C++>p){for(C>2*g.length&&this.reportError("infinite loop with in ace tokenizer",{startState:a,line:g});y<g.length;)x.type&&v.push(x),x={value:g.substring(y,y+=500),type:"overflow"};d="start",l=[];break}}return x.type&&v.push(x),l.length>1&&l[0]!==d&&l.unshift("#tmp",d),{tokens:v,state:l.length?l:d}},h}();m.prototype.reportError=o,n.Tokenizer=m}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(i,n,c){var o=i("../lib/deep_copy").deepCopy,p;p=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(g,a){if(!a){for(var l in g)this.$rules[l]=g[l];return}for(var l in g){for(var d=g[l],u=0;u<d.length;u++){var s=d[u];(s.next||s.onMatch)&&(typeof s.next=="string"&&s.next.indexOf(a)!==0&&(s.next=a+s.next),s.nextState&&s.nextState.indexOf(a)!==0&&(s.nextState=a+s.nextState))}this.$rules[a+l]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(g,a,l,d,u){var s=typeof g=="function"?new g().getRules():g;if(d)for(var r=0;r<d.length;r++)d[r]=a+d[r];else{d=[];for(var f in s)d.push(a+f)}if(this.addRules(s,a),l)for(var v=Array.prototype[u?"push":"unshift"],r=0;r<d.length;r++)v.apply(this.$rules[d[r]],o(l));this.$embeds||(this.$embeds=[]),this.$embeds.push(a)},this.getEmbeds=function(){return this.$embeds};var m=function(g,a){return(g!="start"||a.length)&&a.unshift(this.nextState,g),this.nextState},h=function(g,a){return a.shift(),a.shift()||"start"};this.normalizeRules=function(){var g=0,a=this.$rules;function l(d){var u=a[d];u.processed=!0;for(var s=0;s<u.length;s++){var r=u[s],f=null;Array.isArray(r)&&(f=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var v=r.next||r.push;if(v&&Array.isArray(v)){var y=r.stateName;y||(y=r.token,typeof y!="string"&&(y=y[0]||""),a[y]&&(y+=g++)),a[y]=v,r.next=y,l(y)}else v=="pop"&&(r.next=h);if(r.push&&(r.nextState=r.next||r.push,r.next=m,delete r.push),r.rules)for(var C in r.rules)a[C]?a[C].push&&a[C].push.apply(a[C],r.rules[C]):a[C]=r.rules[C];var x=typeof r=="string"?r:r.include;if(x&&(x==="$self"&&(x="start"),Array.isArray(x)?f=x.map(function(k){return a[k]}):f=a[x]),f){var w=[s,1].concat(f);r.noEscape&&(w=w.filter(function(k){return!k.next})),u.splice.apply(u,w),s--}r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}}Object.keys(a).forEach(l,this)},this.createKeywordMapper=function(g,a,l,d){var u=Object.create(null);return this.$keywordList=[],Object.keys(g).forEach(function(s){for(var r=g[s],f=r.split(d||"|"),v=f.length;v--;){var y=f[v];this.$keywordList.push(y),l&&(y=y.toLowerCase()),u[y]=s}},this),g=null,l?function(s){return u[s.toLowerCase()]||a}:function(s){return u[s]||a}},this.getKeywords=function(){return this.$keywords}}).call(p.prototype),n.TextHighlightRules=p}),ace.define("ace/mode/behaviour",["require","exports","module"],function(i,n,c){var o;o=function(){this.$behaviours={}},(function(){this.add=function(p,m,h){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[p]:this.$behaviours[p]={}}this.$behaviours[p][m]=h},this.addBehaviours=function(p){for(var m in p)for(var h in p[m])this.add(m,h,p[m][h])},this.remove=function(p){this.$behaviours&&this.$behaviours[p]&&delete this.$behaviours[p]},this.inherit=function(p,m){if(typeof p=="function")var h=new p().getBehaviours(m);else var h=p.getBehaviours(m);this.addBehaviours(h)},this.getBehaviours=function(p){if(p){for(var m={},h=0;h<p.length;h++)this.$behaviours[p[h]]&&(m[p[h]]=this.$behaviours[p[h]]);return m}else return this.$behaviours}}).call(o.prototype),n.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(i,n,c){var o=i("./range").Range,p=function(){function m(h,g,a){this.$session=h,this.$row=g,this.$rowTokens=h.getTokens(g);var l=h.getTokenAt(g,a);this.$tokenIndex=l?l.index:-1}return m.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},m.prototype.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,h||(h=this.$session.getLength()),this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentTokenRow=function(){return this.$row},m.prototype.getCurrentTokenColumn=function(){var h=this.$rowTokens,g=this.$tokenIndex,a=h[g].start;if(a!==void 0)return a;for(a=0;g>0;)g-=1,a+=h[g].value.length;return a},m.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},m.prototype.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],g=this.getCurrentTokenColumn();return new o(this.$row,g,this.$row,g+h.value.length)},m}();n.TokenIterator=p}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(i,n,c){var o=i("../../lib/oop"),p=i("../behaviour").Behaviour,m=i("../../token_iterator").TokenIterator,h=i("../../lib/lang"),g=["text","paren.rparen","rparen","paren","punctuation.operator"],a=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],l,d={},u={'"':'"',"'":"'"},s=function(v){var y=-1;if(v.multiSelect&&(y=v.selection.index,d.rangeCount!=v.multiSelect.rangeCount&&(d={rangeCount:v.multiSelect.rangeCount})),d[y])return l=d[y];l=d[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},r=function(v,y,C,x){var w=v.end.row-v.start.row;return{text:C+y+x,selection:[0,v.start.column+1,w,v.end.column+(w?0:1)]}},f;f=function(v){v=v||{},this.add("braces","insertion",function(y,C,x,w,k){var T=x.getCursorPosition(),A=w.doc.getLine(T.row);if(k=="{"){s(x);var M=x.getSelectionRange(),L=w.doc.getTextRange(M),R=w.getTokenAt(T.row,T.column);if(L!==""&&L!=="{"&&x.getWrapBehavioursEnabled())return r(M,L,"{","}");if(R&&/(?:string)\.quasi|\.xml/.test(R.type)){var _=[/tag\-(?:open|name)/,/attribute\-name/];return _.some(function(P){return P.test(R.type)})||/(string)\.quasi/.test(R.type)&&R.value[T.column-R.start-1]!=="$"?void 0:(f.recordAutoInsert(x,w,"}"),{text:"{}",selection:[1,1]})}else if(f.isSaneInsertion(x,w))return/[\]\}\)]/.test(A[T.column])||x.inMultiSelectMode||v.braces?(f.recordAutoInsert(x,w,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(x,w,"{"),{text:"{",selection:[1,1]})}else if(k=="}"){s(x);var b=A.substring(T.column,T.column+1);if(b=="}"){var E=w.$findOpeningBracket("}",{column:T.column+1,row:T.row});if(E!==null&&f.isAutoInsertedClosing(T,A,k))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(k==`
`||k==`\r
`){s(x);var S="";f.isMaybeInsertedClosing(T,A)&&(S=h.stringRepeat("}",l.maybeInsertedBrackets),f.clearMaybeInsertedClosing());var b=A.substring(T.column,T.column+1);if(b==="}"){var I=w.findMatchingBracket({row:T.row,column:T.column+1},"}");if(!I)return null;var O=this.$getIndent(w.getLine(I.row))}else if(S)var O=this.$getIndent(A);else{f.clearMaybeInsertedClosing();return}var D=O+w.getTabString();return{text:`
`+D+`
`+O+S,selection:[1,D.length,1,D.length]}}else f.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(y,C,x,w,k){var T=w.doc.getTextRange(k);if(!k.isMultiLine()&&T=="{"){s(x);var A=w.doc.getLine(k.start.row),M=A.substring(k.end.column,k.end.column+1);if(M=="}")return k.end.column++,k;l.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,C,x,w,k){if(k=="("){s(x);var T=x.getSelectionRange(),A=w.doc.getTextRange(T);if(A!==""&&x.getWrapBehavioursEnabled())return r(T,A,"(",")");if(f.isSaneInsertion(x,w))return f.recordAutoInsert(x,w,")"),{text:"()",selection:[1,1]}}else if(k==")"){s(x);var M=x.getCursorPosition(),L=w.doc.getLine(M.row),R=L.substring(M.column,M.column+1);if(R==")"){var _=w.$findOpeningBracket(")",{column:M.column+1,row:M.row});if(_!==null&&f.isAutoInsertedClosing(M,L,k))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,C,x,w,k){var T=w.doc.getTextRange(k);if(!k.isMultiLine()&&T=="("){s(x);var A=w.doc.getLine(k.start.row),M=A.substring(k.start.column+1,k.start.column+2);if(M==")")return k.end.column++,k}}),this.add("brackets","insertion",function(y,C,x,w,k){if(k=="["){s(x);var T=x.getSelectionRange(),A=w.doc.getTextRange(T);if(A!==""&&x.getWrapBehavioursEnabled())return r(T,A,"[","]");if(f.isSaneInsertion(x,w))return f.recordAutoInsert(x,w,"]"),{text:"[]",selection:[1,1]}}else if(k=="]"){s(x);var M=x.getCursorPosition(),L=w.doc.getLine(M.row),R=L.substring(M.column,M.column+1);if(R=="]"){var _=w.$findOpeningBracket("]",{column:M.column+1,row:M.row});if(_!==null&&f.isAutoInsertedClosing(M,L,k))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,C,x,w,k){var T=w.doc.getTextRange(k);if(!k.isMultiLine()&&T=="["){s(x);var A=w.doc.getLine(k.start.row),M=A.substring(k.start.column+1,k.start.column+2);if(M=="]")return k.end.column++,k}}),this.add("string_dquotes","insertion",function(y,C,x,w,k){var T=w.$mode.$quotes||u;if(k.length==1&&T[k]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(k)!=-1)return;s(x);var A=k,M=x.getSelectionRange(),L=w.doc.getTextRange(M);if(L!==""&&(L.length!=1||!T[L])&&x.getWrapBehavioursEnabled())return r(M,L,A,A);if(!L){var R=x.getCursorPosition(),_=w.doc.getLine(R.row),b=_.substring(R.column-1,R.column),E=_.substring(R.column,R.column+1),S=w.getTokenAt(R.row,R.column),I=w.getTokenAt(R.row,R.column+1);if(b=="\\"&&S&&/escape/.test(S.type))return null;var O=S&&/string|escape/.test(S.type),D=!I||/string|escape/.test(I.type),P;if(E==A)P=O!==D,P&&/string\.end/.test(I.type)&&(P=!1);else{if(O&&!D||O&&D)return null;var B=w.$mode.tokenRe;B.lastIndex=0;var F=B.test(b);B.lastIndex=0;var W=B.test(E),N=w.$mode.$pairQuotesAfter,j=N&&N[A]&&N[A].test(b);if(!j&&F||W||E&&!/[\s;,.})\]\\]/.test(E))return null;var V=_[R.column-2];if(b==A&&(V==A||B.test(V)))return null;P=!0}return{text:P?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,C,x,w,k){var T=w.$mode.$quotes||u,A=w.doc.getTextRange(k);if(!k.isMultiLine()&&T.hasOwnProperty(A)){s(x);var M=w.doc.getLine(k.start.row),L=M.substring(k.start.column+1,k.start.column+2);if(L==A)return k.end.column++,k}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(y,C,x,w,k){if(y==="doc-start"&&(k===`
`||k===`\r
`)&&x.selection.isEmpty()){var T=x.getCursorPosition();if(T.column===0)return;for(var A=w.doc.getLine(T.row),M=w.doc.getLine(T.row+1),L=w.getTokens(T.row),R=0,_=0;_<L.length;_++){R+=L[_].value.length;var b=L[_];if(R>=T.column){if(R===T.column){if(!/\.doc/.test(b.type))return;if(/\*\//.test(b.value)){var E=L[_+1];if(!E||!/\.doc/.test(E.type))return}}var S=T.column-(R-b.value.length),I=b.value.indexOf("*/"),O=b.value.indexOf("/**",I>-1?I+2:0);if(O!==-1&&S>O&&S<O+3||I!==-1&&O!==-1&&S>=I&&S<=O||!/\.doc/.test(b.type))return;break}}var D=this.$getIndent(A);if(/\s*\*/.test(M))return/^\s*\*/.test(A)?{text:k+D+"* ",selection:[1,2+D.length,1,2+D.length]}:{text:k+D+" * ",selection:[1,3+D.length,1,3+D.length]};if(/\/\*\*/.test(A.substring(0,T.column)))return{text:k+D+" * "+k+" "+D+"*/",selection:[1,4+D.length,1,4+D.length]}}})},f.isSaneInsertion=function(v,y){var C=v.getCursorPosition(),x=new m(y,C.row,C.column);if(!this.$matchTokenType(x.getCurrentToken()||"text",g)){if(/[)}\]]/.test(v.session.getLine(C.row)[C.column]))return!0;var w=new m(y,C.row,C.column+1);if(!this.$matchTokenType(w.getCurrentToken()||"text",g))return!1}return x.stepForward(),x.getCurrentTokenRow()!==C.row||this.$matchTokenType(x.getCurrentToken()||"text",a)},f.$matchTokenType=function(v,y){return y.indexOf(v.type||v)>-1},f.recordAutoInsert=function(v,y,C){var x=v.getCursorPosition(),w=y.doc.getLine(x.row);this.isAutoInsertedClosing(x,w,l.autoInsertedLineEnd[0])||(l.autoInsertedBrackets=0),l.autoInsertedRow=x.row,l.autoInsertedLineEnd=C+w.substr(x.column),l.autoInsertedBrackets++},f.recordMaybeInsert=function(v,y,C){var x=v.getCursorPosition(),w=y.doc.getLine(x.row);this.isMaybeInsertedClosing(x,w)||(l.maybeInsertedBrackets=0),l.maybeInsertedRow=x.row,l.maybeInsertedLineStart=w.substr(0,x.column)+C,l.maybeInsertedLineEnd=w.substr(x.column),l.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(v,y,C){return l.autoInsertedBrackets>0&&v.row===l.autoInsertedRow&&C===l.autoInsertedLineEnd[0]&&y.substr(v.column)===l.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(v,y){return l.maybeInsertedBrackets>0&&v.row===l.maybeInsertedRow&&y.substr(v.column)===l.maybeInsertedLineEnd&&y.substr(0,v.column)==l.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){l.autoInsertedLineEnd=l.autoInsertedLineEnd.substr(1),l.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){l&&(l.maybeInsertedBrackets=0,l.maybeInsertedRow=-1)},o.inherits(f,p),n.CstyleBehaviour=f}),ace.define("ace/unicode",["require","exports","module"],function(i,n,c){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],p=0,m=[],h=0;h<o.length;h+=2)m.push(p+=o[h]),o[h+1]&&m.push(45,p+=o[h+1]);n.wordChars=String.fromCharCode.apply(null,m)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(i,n,c){var o=i("../config"),p=i("../tokenizer").Tokenizer,m=i("./text_highlight_rules").TextHighlightRules,h=i("./behaviour/cstyle").CstyleBehaviour,g=i("../unicode"),a=i("../lib/lang"),l=i("../token_iterator").TokenIterator,d=i("../range").Range,u;u=function(){this.HighlightRules=m},(function(){this.$defaultBehaviour=new h,this.tokenRe=new RegExp("^["+g.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+g.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new p(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(s,r,f,v){var y=r.doc,C=!0,x=!0,w=1/0,k=r.getTabSize(),T=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var L=this.lineCommentStart.map(a.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var L=a.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;L=new RegExp("^(\\s*)(?:"+L+") ?"),T=r.getUseSoftTabs();var b=function(W,N){var j=W.match(L);if(j){var V=j[1].length,H=j[0].length;!I(W,V,H)&&j[0][H-1]==" "&&H--,y.removeInLine(N,V,H)}},S=A+" ",_=function(W,N){(!C||/\S/.test(W))&&(I(W,w,w)?y.insertInLine({row:N,column:w},S):y.insertInLine({row:N,column:w},A))},E=function(W,N){return L.test(W)},I=function(W,N,j){for(var V=0;N--&&W.charAt(N)==" ";)V++;if(V%k!=0)return!1;for(var V=0;W.charAt(j++)==" ";)V++;return k>2?V%k!=k-1:V%k==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,M=this.blockComment.end,L=new RegExp("^(\\s*)(?:"+a.escapeRegExp(A)+")"),R=new RegExp("(?:"+a.escapeRegExp(M)+")\\s*$"),_=function(P,B){E(P,B)||(!C||/\S/.test(P))&&(y.insertInLine({row:B,column:P.length},M),y.insertInLine({row:B,column:w},A))},b=function(P,B){var F;(F=P.match(R))&&y.removeInLine(B,P.length-F[0].length,P.length),(F=P.match(L))&&y.removeInLine(B,F[1].length,F[0].length)},E=function(P,B){if(L.test(P))return!0;for(var F=r.getTokens(B),W=0;W<F.length;W++)if(F[W].type==="comment")return!0}}function O(P){for(var B=f;B<=v;B++)P(y.getLine(B),B)}var D=1/0;O(function(P,B){var F=P.search(/\S/);F!==-1?(F<w&&(w=F),x&&!E(P,B)&&(x=!1)):D>P.length&&(D=P.length)}),w==1/0&&(w=D,C=!1,x=!1),T&&w%k!=0&&(w=Math.floor(w/k)*k),O(x?b:_)},this.toggleBlockComment=function(s,r,f,v){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var C=new l(r,v.row,v.column),x=C.getCurrentToken();r.selection;var w=r.selection.toOrientedRange(),k,T;if(x&&/comment/.test(x.type)){for(var A,M;x&&/comment/.test(x.type);){var L=x.value.indexOf(y.start);if(L!=-1){var R=C.getCurrentTokenRow(),_=C.getCurrentTokenColumn()+L;A=new d(R,_,R,_+y.start.length);break}x=C.stepBackward()}for(var C=new l(r,v.row,v.column),x=C.getCurrentToken();x&&/comment/.test(x.type);){var L=x.value.indexOf(y.end);if(L!=-1){var R=C.getCurrentTokenRow(),_=C.getCurrentTokenColumn()+L;M=new d(R,_,R,_+y.end.length);break}x=C.stepForward()}M&&r.remove(M),A&&(r.remove(A),k=A.start.row,T=-y.start.length)}else T=y.start.length,k=f.start.row,r.insert(f.end,y.end),r.insert(f.start,y.start);w.start.row==k&&(w.start.column+=T),w.end.row==k&&(w.end.column+=T),r.selection.fromOrientedRange(w)}},this.getNextLineIndent=function(s,r,f){return this.$getIndent(r)},this.checkOutdent=function(s,r,f){return!1},this.autoOutdent=function(s,r,f){},this.$getIndent=function(s){return s.match(/^\s*/)[0]},this.createWorker=function(s){return null},this.createModeDelegates=function(s){this.$embeds=[],this.$modes={};for(var r in s)if(s[r]){var f=s[r],v=f.prototype.$id,y=o.$modes[v];y||(o.$modes[v]=y=new f),o.$modes[r]||(o.$modes[r]=y),this.$embeds.push(r),this.$modes[r]=y}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],x=function(k){(function(T){var A=C[k],M=T[A];T[C[k]]=function(){return this.$delegator(A,arguments,M)}})(w)},w=this,r=0;r<C.length;r++)x(r)},this.$delegator=function(s,r,f){var v=r[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var y=v[2][v[2].length-1],C=this.$modes[y];if(C)return C[s].apply(C,[v[1]].concat([].slice.call(r,1)))}v=v[0]||"start"}for(var x=0;x<this.$embeds.length;x++)if(this.$modes[this.$embeds[x]]){var w=v.split(this.$embeds[x]);if(!w[0]&&w[1]){r[0]=w[1];var C=this.$modes[this.$embeds[x]];return C[s].apply(C,r)}}var k=f.apply(this,r);return f?k:void 0},this.transformAction=function(s,r,f,v,y){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var x in C)if(C[x][r]){var w=C[x][r].apply(this,arguments);if(w)return w}}},this.getKeywords=function(s){if(!this.completionKeywords){var r=this.$tokenizer.rules,f=[];for(var v in r)for(var y=r[v],C=0,x=y.length;C<x;C++)if(typeof y[C].token=="string")/keyword|support|storage/.test(y[C].token)&&f.push(y[C].regex);else if(typeof y[C].token=="object"){for(var w=0,k=y[C].token.length;w<k;w++)if(/keyword|support|storage/.test(y[C].token[w])){var v=y[C].regex.match(/\(.+?\)/g)[w];f.push(v.substr(1,v.length-2))}}this.completionKeywords=f}return s?f.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(s,r,f,v){var y=this.$keywordList||this.$createKeywordList();return y.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),n.Mode=u}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(i,n,c){var o=i("./lib/dom"),p=function(){function m(h){this.session=h,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return m.prototype.getRowLength=function(h){var g;return this.lineWidgets?g=this.lineWidgets[h]&&this.lineWidgets[h].rowCount||0:g=0,!this.$useWrapMode||!this.$wrapData[h]?1+g:this.$wrapData[h].length+1+g},m.prototype.$getWidgetScreenLength=function(){var h=0;return this.lineWidgets.forEach(function(g){g&&g.rowCount&&!g.hidden&&(h+=g.rowCount)}),h},m.prototype.$onChangeEditor=function(h){this.attach(h.editor)},m.prototype.attach=function(h){h&&h.widgetManager&&h.widgetManager!=this&&h.widgetManager.detach(),this.editor!=h&&(this.detach(),this.editor=h,h&&(h.widgetManager=this,h.renderer.on("beforeRender",this.measureWidgets),h.renderer.on("afterRender",this.renderWidgets)))},m.prototype.detach=function(h){var g=this.editor;if(g){this.editor=null,g.widgetManager=null,g.renderer.off("beforeRender",this.measureWidgets),g.renderer.off("afterRender",this.renderWidgets);var a=this.session.lineWidgets;a&&a.forEach(function(l){l&&l.el&&l.el.parentNode&&(l._inDocument=!1,l.el.parentNode.removeChild(l.el))})}},m.prototype.updateOnFold=function(h,g){var a=g.lineWidgets;if(!(!a||!h.action)){for(var l=h.data,d=l.start.row,u=l.end.row,s=h.action=="add",r=d+1;r<u;r++)a[r]&&(a[r].hidden=s);a[u]&&(s?a[d]?a[u].hidden=s:a[d]=a[u]:(a[d]==a[u]&&(a[d]=void 0),a[u].hidden=s))}},m.prototype.updateOnChange=function(h){var g=this.session.lineWidgets;if(g){var a=h.start.row,l=h.end.row-a;if(l!==0)if(h.action=="remove"){var d=g.splice(a+1,l);!g[a]&&d[d.length-1]&&(g[a]=d.pop()),d.forEach(function(s){s&&this.removeLineWidget(s)},this),this.$updateRows()}else{var u=new Array(l);g[a]&&g[a].column!=null&&h.start.column>g[a].column&&a++,u.unshift(a,0),g.splice.apply(g,u),this.$updateRows()}}},m.prototype.$updateRows=function(){var h=this.session.lineWidgets;if(h){var g=!0;h.forEach(function(a,l){if(a)for(g=!1,a.row=l;a.$oldWidget;)a.$oldWidget.row=l,a=a.$oldWidget}),g&&(this.session.lineWidgets=null)}},m.prototype.$registerLineWidget=function(h){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var g=this.session.lineWidgets[h.row];return g&&(h.$oldWidget=g,g.el&&g.el.parentNode&&(g.el.parentNode.removeChild(g.el),g._inDocument=!1)),this.session.lineWidgets[h.row]=h,h},m.prototype.addLineWidget=function(h){if(this.$registerLineWidget(h),h.session=this.session,!this.editor)return h;var g=this.editor.renderer;h.html&&!h.el&&(h.el=o.createElement("div"),h.el.innerHTML=h.html),h.text&&!h.el&&(h.el=o.createElement("div"),h.el.textContent=h.text),h.el&&(o.addCssClass(h.el,"ace_lineWidgetContainer"),h.className&&o.addCssClass(h.el,h.className),h.el.style.position="absolute",h.el.style.zIndex="5",g.container.appendChild(h.el),h._inDocument=!0,h.coverGutter||(h.el.style.zIndex="3"),h.pixelHeight==null&&(h.pixelHeight=h.el.offsetHeight)),h.rowCount==null&&(h.rowCount=h.pixelHeight/g.layerConfig.lineHeight);var a=this.session.getFoldAt(h.row,0);if(h.$fold=a,a){var l=this.session.lineWidgets;h.row==a.end.row&&!l[a.start.row]?l[a.start.row]=h:h.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows(),this.renderWidgets(null,g),this.onWidgetChanged(h),h},m.prototype.removeLineWidget=function(h){if(h._inDocument=!1,h.session=null,h.el&&h.el.parentNode&&h.el.parentNode.removeChild(h.el),h.editor&&h.editor.destroy)try{h.editor.destroy()}catch{}if(this.session.lineWidgets){var g=this.session.lineWidgets[h.row];if(g==h)this.session.lineWidgets[h.row]=h.$oldWidget,h.$oldWidget&&this.onWidgetChanged(h.$oldWidget);else for(;g;){if(g.$oldWidget==h){g.$oldWidget=h.$oldWidget;break}g=g.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows()},m.prototype.getWidgetsAtRow=function(h){for(var g=this.session.lineWidgets,a=g&&g[h],l=[];a;)l.push(a),a=a.$oldWidget;return l},m.prototype.onWidgetChanged=function(h){this.session._changedWidgets.push(h),this.editor&&this.editor.renderer.updateFull()},m.prototype.measureWidgets=function(h,g){var a=this.session._changedWidgets,l=g.layerConfig;if(!(!a||!a.length)){for(var d=1/0,u=0;u<a.length;u++){var s=a[u];if(!(!s||!s.el)&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,g.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/l.characterWidth));var r=s.h/l.lineHeight;s.coverLine&&(r-=this.session.getRowLineCount(s.row),r<0&&(r=0)),s.rowCount!=r&&(s.rowCount=r,s.row<d&&(d=s.row))}}d!=1/0&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},m.prototype.renderWidgets=function(h,g){var a=g.layerConfig,l=this.session.lineWidgets;if(l){for(var d=Math.min(this.firstRow,a.firstRow),u=Math.max(this.lastRow,a.lastRow,l.length);d>0&&!l[d];)d--;this.firstRow=a.firstRow,this.lastRow=a.lastRow,g.$cursorLayer.config=a;for(var s=d;s<=u;s++){var r=l[s];if(!(!r||!r.el)){if(r.hidden){r.el.style.top=-100-(r.pixelHeight||0)+"px";continue}r._inDocument||(r._inDocument=!0,g.container.appendChild(r.el));var f=g.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;r.coverLine||(f+=a.lineHeight*this.session.getRowLineCount(r.row)),r.el.style.top=f-a.offset+"px";var v=r.coverGutter?0:g.gutterWidth;r.fixedWidth||(v-=g.scrollLeft),r.el.style.left=v+"px",r.fullWidth&&r.screenWidth&&(r.el.style.minWidth=a.width+2*a.padding+"px"),r.fixedWidth?r.el.style.right=g.scrollBar.getWidth()+"px":r.el.style.right=""}}}},m}();n.LineWidgets=p}),ace.define("ace/apply_delta",["require","exports","module"],function(i,n,c){n.applyDelta=function(o,p,m){var h=p.start.row,g=p.start.column,a=o[h]||"";switch(p.action){case"insert":var l=p.lines;if(l.length===1)o[h]=a.substring(0,g)+p.lines[0]+a.substring(g);else{var d=[h,1].concat(p.lines);o.splice.apply(o,d),o[h]=a.substring(0,g)+o[h],o[h+p.lines.length-1]+=a.substring(g)}break;case"remove":var u=p.end.column,s=p.end.row;h===s?o[h]=a.substring(0,g)+a.substring(u):o.splice(h,s-h+1,a.substring(0,g)+o[s].substring(u));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,n,c){var o=i("./lib/oop"),p=i("./lib/event_emitter").EventEmitter,m=function(){function a(l,d,u){this.$onChange=this.onChange.bind(this),this.attach(l),typeof d!="number"?this.setPosition(d.row,d.column):this.setPosition(d,u)}return a.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},a.prototype.getDocument=function(){return this.document},a.prototype.onChange=function(l){if(!(l.start.row==l.end.row&&l.start.row!=this.row)&&!(l.start.row>this.row)){var d=g(l,{row:this.row,column:this.column},this.$insertRight);this.setPosition(d.row,d.column,!0)}},a.prototype.setPosition=function(l,d,u){var s;if(u?s={row:l,column:d}:s=this.$clipPositionToDocument(l,d),!(this.row==s.row&&this.column==s.column)){var r={row:this.row,column:this.column};this.row=s.row,this.column=s.column,this._signal("change",{old:r,value:s})}},a.prototype.detach=function(){this.document.off("change",this.$onChange)},a.prototype.attach=function(l){this.document=l||this.document,this.document.on("change",this.$onChange)},a.prototype.$clipPositionToDocument=function(l,d){var u={};return l>=this.document.getLength()?(u.row=Math.max(0,this.document.getLength()-1),u.column=this.document.getLine(u.row).length):l<0?(u.row=0,u.column=0):(u.row=l,u.column=Math.min(this.document.getLine(u.row).length,Math.max(0,d))),d<0&&(u.column=0),u},a}();m.prototype.$insertRight=!1,o.implement(m.prototype,p);function h(a,l,d){var u=d?a.column<=l.column:a.column<l.column;return a.row<l.row||a.row==l.row&&u}function g(a,l,d){var u=a.action=="insert",s=(u?1:-1)*(a.end.row-a.start.row),r=(u?1:-1)*(a.end.column-a.start.column),f=a.start,v=u?f:a.end;return h(l,f,d)?{row:l.row,column:l.column}:h(v,l,!d)?{row:l.row+s,column:l.column+(l.row==v.row?r:0)}:{row:f.row,column:f.column}}n.Anchor=m}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(i,n,c){var o=i("./lib/oop"),p=i("./apply_delta").applyDelta,m=i("./lib/event_emitter").EventEmitter,h=i("./range").Range,g=i("./anchor").Anchor,a=function(){function l(d){this.$lines=[""],d.length===0?this.$lines=[""]:Array.isArray(d)?this.insertMergedLines({row:0,column:0},d):this.insert({row:0,column:0},d)}return l.prototype.setValue=function(d){var u=this.getLength()-1;this.remove(new h(0,0,u,this.getLine(u).length)),this.insert({row:0,column:0},d||"")},l.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},l.prototype.createAnchor=function(d,u){return new g(this,d,u)},l.prototype.$detectNewLine=function(d){var u=d.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=u?u[1]:`
`,this._signal("changeNewLineMode")},l.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},l.prototype.setNewLineMode=function(d){this.$newLineMode!==d&&(this.$newLineMode=d,this._signal("changeNewLineMode"))},l.prototype.getNewLineMode=function(){return this.$newLineMode},l.prototype.isNewLine=function(d){return d==`\r
`||d=="\r"||d==`
`},l.prototype.getLine=function(d){return this.$lines[d]||""},l.prototype.getLines=function(d,u){return this.$lines.slice(d,u+1)},l.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},l.prototype.getLength=function(){return this.$lines.length},l.prototype.getTextRange=function(d){return this.getLinesForRange(d).join(this.getNewLineCharacter())},l.prototype.getLinesForRange=function(d){var u;if(d.start.row===d.end.row)u=[this.getLine(d.start.row).substring(d.start.column,d.end.column)];else{u=this.getLines(d.start.row,d.end.row),u[0]=(u[0]||"").substring(d.start.column);var s=u.length-1;d.end.row-d.start.row==s&&(u[s]=u[s].substring(0,d.end.column))}return u},l.prototype.insertLines=function(d,u){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(d,u)},l.prototype.removeLines=function(d,u){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(d,u)},l.prototype.insertNewLine=function(d){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(d,["",""])},l.prototype.insert=function(d,u){return this.getLength()<=1&&this.$detectNewLine(u),this.insertMergedLines(d,this.$split(u))},l.prototype.insertInLine=function(d,u){var s=this.clippedPos(d.row,d.column),r=this.pos(d.row,d.column+u.length);return this.applyDelta({start:s,end:r,action:"insert",lines:[u]},!0),this.clonePos(r)},l.prototype.clippedPos=function(d,u){var s=this.getLength();d===void 0?d=s:d<0?d=0:d>=s&&(d=s-1,u=void 0);var r=this.getLine(d);return u==null&&(u=r.length),u=Math.min(Math.max(u,0),r.length),{row:d,column:u}},l.prototype.clonePos=function(d){return{row:d.row,column:d.column}},l.prototype.pos=function(d,u){return{row:d,column:u}},l.prototype.$clipPosition=function(d){var u=this.getLength();return d.row>=u?(d.row=Math.max(0,u-1),d.column=this.getLine(u-1).length):(d.row=Math.max(0,d.row),d.column=Math.min(Math.max(d.column,0),this.getLine(d.row).length)),d},l.prototype.insertFullLines=function(d,u){d=Math.min(Math.max(d,0),this.getLength());var s=0;d<this.getLength()?(u=u.concat([""]),s=0):(u=[""].concat(u),d--,s=this.$lines[d].length),this.insertMergedLines({row:d,column:s},u)},l.prototype.insertMergedLines=function(d,u){var s=this.clippedPos(d.row,d.column),r={row:s.row+u.length-1,column:(u.length==1?s.column:0)+u[u.length-1].length};return this.applyDelta({start:s,end:r,action:"insert",lines:u}),this.clonePos(r)},l.prototype.remove=function(d){var u=this.clippedPos(d.start.row,d.start.column),s=this.clippedPos(d.end.row,d.end.column);return this.applyDelta({start:u,end:s,action:"remove",lines:this.getLinesForRange({start:u,end:s})}),this.clonePos(u)},l.prototype.removeInLine=function(d,u,s){var r=this.clippedPos(d,u),f=this.clippedPos(d,s);return this.applyDelta({start:r,end:f,action:"remove",lines:this.getLinesForRange({start:r,end:f})},!0),this.clonePos(r)},l.prototype.removeFullLines=function(d,u){d=Math.min(Math.max(0,d),this.getLength()-1),u=Math.min(Math.max(0,u),this.getLength()-1);var s=u==this.getLength()-1&&d>0,r=u<this.getLength()-1,f=s?d-1:d,v=s?this.getLine(f).length:0,y=r?u+1:u,C=r?0:this.getLine(y).length,x=new h(f,v,y,C),w=this.$lines.slice(d,u+1);return this.applyDelta({start:x.start,end:x.end,action:"remove",lines:this.getLinesForRange(x)}),w},l.prototype.removeNewLine=function(d){d<this.getLength()-1&&d>=0&&this.applyDelta({start:this.pos(d,this.getLine(d).length),end:this.pos(d+1,0),action:"remove",lines:["",""]})},l.prototype.replace=function(d,u){if(d instanceof h||(d=h.fromPoints(d.start,d.end)),u.length===0&&d.isEmpty())return d.start;if(u==this.getTextRange(d))return d.end;this.remove(d);var s;return u?s=this.insert(d.start,u):s=d.start,s},l.prototype.applyDeltas=function(d){for(var u=0;u<d.length;u++)this.applyDelta(d[u])},l.prototype.revertDeltas=function(d){for(var u=d.length-1;u>=0;u--)this.revertDelta(d[u])},l.prototype.applyDelta=function(d,u){var s=d.action=="insert";(s?d.lines.length<=1&&!d.lines[0]:!h.comparePoints(d.start,d.end))||(s&&d.lines.length>2e4?this.$splitAndapplyLargeDelta(d,2e4):(p(this.$lines,d,u),this._signal("change",d)))},l.prototype.$safeApplyDelta=function(d){var u=this.$lines.length;(d.action=="remove"&&d.start.row<u&&d.end.row<u||d.action=="insert"&&d.start.row<=u)&&this.applyDelta(d)},l.prototype.$splitAndapplyLargeDelta=function(d,u){for(var s=d.lines,r=s.length-u+1,f=d.start.row,v=d.start.column,y=0,C=0;y<r;y=C){C+=u-1;var x=s.slice(y,C);x.push(""),this.applyDelta({start:this.pos(f+y,v),end:this.pos(f+C,v=0),action:d.action,lines:x},!0)}d.lines=s.slice(y),d.start.row=f+y,d.start.column=v,this.applyDelta(d,!0)},l.prototype.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:d.action=="insert"?"remove":"insert",lines:d.lines.slice()})},l.prototype.indexToPosition=function(d,u){for(var s=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,f=u||0,v=s.length;f<v;f++)if(d-=s[f].length+r,d<0)return{row:f,column:d+s[f].length+r};return{row:v-1,column:d+s[v-1].length+r}},l.prototype.positionToIndex=function(d,u){for(var s=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,f=0,v=Math.min(d.row,s.length),y=u||0;y<v;++y)f+=s[y].length+r;return f+d.column},l.prototype.$split=function(d){return d.split(/\r\n|\r|\n/)},l}();a.prototype.$autoNewLine="",a.prototype.$newLineMode="auto",o.implement(a.prototype,m),n.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,n,c){var o=i("./lib/oop"),p=i("./lib/event_emitter").EventEmitter,m=function(){function h(g,a){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=g;var l=this;this.$worker=function(){if(l.running){for(var d=new Date,u=l.currentLine,s=-1,r=l.doc,f=u;l.lines[u];)u++;var v=r.getLength(),y=0;for(l.running=!1;u<v;){l.$tokenizeRow(u),s=u;do u++;while(l.lines[u]);if(y++,y%5===0&&new Date-d>20){l.running=setTimeout(l.$worker,20);break}}l.currentLine=u,s==-1&&(s=u),f<=s&&l.fireUpdateEvent(f,s)}}}return h.prototype.setTokenizer=function(g){this.tokenizer=g,this.lines=[],this.states=[],this.start(0)},h.prototype.setDocument=function(g){this.doc=g,this.lines=[],this.states=[],this.stop()},h.prototype.fireUpdateEvent=function(g,a){var l={first:g,last:a};this._signal("update",{data:l})},h.prototype.start=function(g){this.currentLine=Math.min(g||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},h.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},h.prototype.$updateOnChange=function(g){var a=g.start.row,l=g.end.row-a;if(l===0)this.lines[a]=null;else if(g.action=="remove")this.lines.splice(a,l+1,null),this.states.splice(a,l+1,null);else{var d=Array(l+1);d.unshift(a,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(a,this.currentLine,this.doc.getLength()),this.stop()},h.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},h.prototype.getTokens=function(g){return this.lines[g]||this.$tokenizeRow(g)},h.prototype.getState=function(g){return this.currentLine==g&&this.$tokenizeRow(g),this.states[g]||"start"},h.prototype.$tokenizeRow=function(g){var a=this.doc.getLine(g),l=this.states[g-1],d=this.tokenizer.getLineTokens(a,l,g);return this.states[g]+""!=d.state+""?(this.states[g]=d.state,this.lines[g+1]=null,this.currentLine>g+1&&(this.currentLine=g+1)):this.currentLine==g&&(this.currentLine=g+1),this.lines[g]=d.tokens},h.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},h}();o.implement(m.prototype,p),n.BackgroundTokenizer=m}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(i,n,c){var o=i("./lib/lang"),p=i("./range").Range,m=function(){function h(g,a,l){l===void 0&&(l="text"),this.setRegexp(g),this.clazz=a,this.type=l}return h.prototype.setRegexp=function(g){this.regExp+""!=g+""&&(this.regExp=g,this.cache=[])},h.prototype.update=function(g,a,l,d){if(this.regExp)for(var u=d.firstRow,s=d.lastRow,r={},f=u;f<=s;f++){var v=this.cache[f];v==null&&(v=o.getMatchOffsets(l.getLine(f),this.regExp),v.length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(w){return new p(f,w.offset,f,w.offset+w.length)}),this.cache[f]=v.length?v:"");for(var y=v.length;y--;){var C=v[y].toScreenRange(l),x=C.toString();r[x]||(r[x]=!0,a.drawSingleLineMarker(g,C,this.clazz,d))}}},h}();m.prototype.MAX_RANGES=500,n.SearchHighlight=m}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(i,n,c){var o=function(){function w(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return w.prototype.addSession=function(k){this.$session=k},w.prototype.add=function(k,T,A){if(!this.$fromUndo&&k!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),T===!1||!this.lastDeltas){this.lastDeltas=[];var M=this.$undoStack.length;M>this.$undoDepth-1&&this.$undoStack.splice(0,M-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),k.id=this.$rev=++this.$maxRev}(k.action=="remove"||k.action=="insert")&&(this.$lastDelta=k),this.lastDeltas.push(k)}},w.prototype.addSelection=function(k,T){this.selections.push({value:k,rev:T||this.$rev})},w.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},w.prototype.markIgnored=function(k,T){T==null&&(T=this.$rev+1);for(var A=this.$undoStack,M=A.length;M--;){var L=A[M][0];if(L.id<=k)break;L.id<T&&(L.ignore=!0)}this.lastDeltas=null},w.prototype.getSelection=function(k,T){for(var A=this.selections,M=A.length;M--;){var L=A[M];if(L.rev<k)return T&&(L=A[M+1]),L}},w.prototype.getRevision=function(){return this.$rev},w.prototype.getDeltas=function(k,T){T==null&&(T=this.$rev+1);for(var A=this.$undoStack,M=null,L=0,R=A.length;R--;){var _=A[R][0];if(_.id<T&&!M&&(M=R+1),_.id<=k){L=R+1;break}}return A.slice(L,M)},w.prototype.getChangedRanges=function(k,T){T==null&&(T=this.$rev+1)},w.prototype.getChangedLines=function(k,T){T==null&&(T=this.$rev+1)},w.prototype.undo=function(k,T){this.lastDeltas=null;var A=this.$undoStack;if(p(A,A.length)){k||(k=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var M=A.pop(),L=null;return M&&(L=k.undoChanges(M,T),this.$redoStack.push(M),this.$syncRev()),this.$fromUndo=!1,L}},w.prototype.redo=function(k,T){if(this.lastDeltas=null,k||(k=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);x(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(R){R[0].id=++this.$maxRev},this)}var M=this.$redoStack.pop(),L=null;return M&&(L=k.redoChanges(M,T),this.$undoStack.push(M),this.$syncRev()),this.$fromUndo=!1,L},w.prototype.$syncRev=function(){var k=this.$undoStack,T=k[k.length-1],A=T&&T[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},w.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},w.prototype.canUndo=function(){return this.$undoStack.length>0},w.prototype.canRedo=function(){return this.$redoStack.length>0},w.prototype.bookmark=function(k){k==null&&(k=this.$rev),this.mark=k},w.prototype.isAtBookmark=function(){return this.$rev===this.mark},w.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},w.prototype.fromJSON=function(k){this.reset(),this.$undoStack=k.$undoStack,this.$redoStack=k.$redoStack},w.prototype.$prettyPrint=function(k){return k?l(k):l(this.$undoStack)+`
---
`+l(this.$redoStack)},w}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function p(w,k){for(var T=k;T--;){var A=w[T];if(A&&!A[0].ignore){for(;T<k-1;){var M=s(w[T],w[T+1]);w[T]=M[0],w[T+1]=M[1],T++}return!0}}}var m=i("./range").Range,h=m.comparePoints;m.comparePoints;function g(w){return{row:w.row,column:w.column}}function a(w){return{start:g(w.start),end:g(w.end),action:w.action,lines:w.lines.slice()}}function l(w){if(w=w||this,Array.isArray(w))return w.map(l).join(`
`);var k="";return w.action?(k=w.action=="insert"?"+":"-",k+="["+w.lines+"]"):w.value&&(Array.isArray(w.value)?k=w.value.map(d).join(`
`):k=d(w.value)),w.start&&(k+=d(w)),(w.id||w.rev)&&(k+="	("+(w.id||w.rev)+")"),k}function d(w){return w.start.row+":"+w.start.column+"=>"+w.end.row+":"+w.end.column}function u(w,k){var T=w.action=="insert",A=k.action=="insert";if(T&&A)if(h(k.start,w.end)>=0)f(k,w,-1);else if(h(k.start,w.start)<=0)f(w,k,1);else return null;else if(T&&!A)if(h(k.start,w.end)>=0)f(k,w,-1);else if(h(k.end,w.start)<=0)f(w,k,-1);else return null;else if(!T&&A)if(h(k.start,w.start)>=0)f(k,w,1);else if(h(k.start,w.start)<=0)f(w,k,1);else return null;else if(!T&&!A)if(h(k.start,w.start)>=0)f(k,w,1);else if(h(k.end,w.start)<=0)f(w,k,-1);else return null;return[k,w]}function s(w,k){for(var T=w.length;T--;)for(var A=0;A<k.length;A++)if(!u(w[T],k[A])){for(;T<w.length;){for(;A--;)u(k[A],w[T]);A=k.length,T++}return[w,k]}return w.selectionBefore=k.selectionBefore=w.selectionAfter=k.selectionAfter=null,[k,w]}function r(w,k){var T=w.action=="insert",A=k.action=="insert";if(T&&A)h(w.start,k.start)<0?f(k,w,1):f(w,k,1);else if(T&&!A)h(w.start,k.end)>=0?f(w,k,-1):(h(w.start,k.start)<=0||f(w,m.fromPoints(k.start,w.start),-1),f(k,w,1));else if(!T&&A)h(k.start,w.end)>=0?f(k,w,-1):(h(k.start,w.start)<=0||f(k,m.fromPoints(w.start,k.start),-1),f(w,k,1));else if(!T&&!A)if(h(k.start,w.end)>=0)f(k,w,-1);else if(h(k.end,w.start)<=0)f(w,k,-1);else{var M,L;return h(w.start,k.start)<0&&(M=w,w=y(w,k.start)),h(w.end,k.end)>0&&(L=y(w,k.end)),v(k.end,w.start,w.end,-1),L&&!M&&(w.lines=L.lines,w.start=L.start,w.end=L.end,L=w),[k,M,L].filter(Boolean)}return[k,w]}function f(w,k,T){v(w.start,k.start,k.end,T),v(w.end,k.start,k.end,T)}function v(w,k,T,A){w.row==(A==1?k:T).row&&(w.column+=A*(T.column-k.column)),w.row+=A*(T.row-k.row)}function y(w,k){var T=w.lines,A=w.end;w.end=g(k);var M=w.end.row-w.start.row,L=T.splice(M,T.length),R=M?k.column:k.column-w.start.column;T.push(L[0].substring(0,R)),L[0]=L[0].substr(R);var _={start:g(k),end:A,lines:L,action:w.action};return _}function C(w,k){k=a(k);for(var T=w.length;T--;){for(var A=w[T],M=0;M<A.length;M++){var L=A[M],R=r(L,k);k=R[0],R.length!=2&&(R[2]?(A.splice(M+1,1,R[1],R[2]),M++):R[1]||(A.splice(M,1),M--))}A.length||w.splice(T,1)}return w}function x(w,k){for(var T=0;T<k.length;T++)for(var A=k[T],M=0;M<A.length;M++)C(w,A[M])}n.UndoManager=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(i,n,c){var o=i("../range").Range,p=function(){function m(h,g){this.foldData=h,Array.isArray(g)?this.folds=g:g=this.folds=[g];var a=g[g.length-1];this.range=new o(g[0].start.row,g[0].start.column,a.end.row,a.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(l){l.setFoldLine(this)},this)}return m.prototype.shiftRow=function(h){this.start.row+=h,this.end.row+=h,this.folds.forEach(function(g){g.start.row+=h,g.end.row+=h})},m.prototype.addFold=function(h){if(h.sameRow){if(h.start.row<this.startRow||h.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(h),this.folds.sort(function(g,a){return-g.range.compareEnd(a.start.row,a.start.column)}),this.range.compareEnd(h.start.row,h.start.column)>0?(this.end.row=h.end.row,this.end.column=h.end.column):this.range.compareStart(h.end.row,h.end.column)<0&&(this.start.row=h.start.row,this.start.column=h.start.column)}else if(h.start.row==this.end.row)this.folds.push(h),this.end.row=h.end.row,this.end.column=h.end.column;else if(h.end.row==this.start.row)this.folds.unshift(h),this.start.row=h.start.row,this.start.column=h.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");h.foldLine=this},m.prototype.containsRow=function(h){return h>=this.start.row&&h<=this.end.row},m.prototype.walk=function(h,g,a){var l=0,d=this.folds,u,s,r,f=!0;g==null&&(g=this.end.row,a=this.end.column);for(var v=0;v<d.length;v++){if(u=d[v],s=u.range.compareStart(g,a),s==-1){h(null,g,a,l,f);return}if(r=h(null,u.start.row,u.start.column,l,f),r=!r&&h(u.placeholder,u.start.row,u.start.column,l),r||s===0)return;f=!u.sameRow,l=u.end.column}h(null,g,a,l,f)},m.prototype.getNextFoldTo=function(h,g){for(var a,l,d=0;d<this.folds.length;d++){if(a=this.folds[d],l=a.range.compareEnd(h,g),l==-1)return{fold:a,kind:"after"};if(l===0)return{fold:a,kind:"inside"}}return null},m.prototype.addRemoveChars=function(h,g,a){var l=this.getNextFoldTo(h,g),d,u;if(l){if(d=l.fold,l.kind=="inside"&&d.start.column!=g&&d.start.row!=h)window.console&&window.console.log(h,g,d);else if(d.start.row==h){u=this.folds;var s=u.indexOf(d);for(s===0&&(this.start.column+=a),s;s<u.length;s++){if(d=u[s],d.start.column+=a,!d.sameRow)return;d.end.column+=a}this.end.column+=a}}},m.prototype.split=function(h,g){var a=this.getNextFoldTo(h,g);if(!a||a.kind=="inside")return null;var l=a.fold,d=this.folds,u=this.foldData,s=d.indexOf(l),r=d[s-1];this.end.row=r.end.row,this.end.column=r.end.column,d=d.splice(s,d.length-s);var f=new m(u,d);return u.splice(u.indexOf(this)+1,0,f),f},m.prototype.merge=function(h){for(var g=h.folds,a=0;a<g.length;a++)this.addFold(g[a]);var l=this.foldData;l.splice(l.indexOf(h),1)},m.prototype.toString=function(){var h=[this.range.toString()+": ["];return this.folds.forEach(function(g){h.push("  "+g.toString())}),h.push("]"),h.join(`
`)},m.prototype.idxToPosition=function(h){for(var g=0,a=0;a<this.folds.length;a++){var l=this.folds[a];if(h-=l.start.column-g,h<0)return{row:l.start.row,column:l.start.column+h};if(h-=l.placeholder.length,h<0)return l.start;g=l.end.column}return{row:this.end.row,column:this.end.column+h}},m}();n.FoldLine=p}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(i,n,c){var o=i("./range").Range,p=o.comparePoints,m=function(){function h(){this.ranges=[],this.$bias=1}return h.prototype.pointIndex=function(g,a,l){for(var d=this.ranges,u=l||0;u<d.length;u++){var s=d[u],r=p(g,s.end);if(!(r>0)){var f=p(g,s.start);return r===0?a&&f!==0?-u-2:u:f>0||f===0&&!a?u:-u-1}}return-u-1},h.prototype.add=function(g){var a=!g.isEmpty(),l=this.pointIndex(g.start,a);l<0&&(l=-l-1);var d=this.pointIndex(g.end,a,l);return d<0?d=-d-1:d++,this.ranges.splice(l,d-l,g)},h.prototype.addList=function(g){for(var a=[],l=g.length;l--;)a.push.apply(a,this.add(g[l]));return a},h.prototype.substractPoint=function(g){var a=this.pointIndex(g);if(a>=0)return this.ranges.splice(a,1)},h.prototype.merge=function(){var g=[],a=this.ranges;a=a.sort(function(r,f){return p(r.start,f.start)});for(var l=a[0],d,u=1;u<a.length;u++){d=l,l=a[u];var s=p(d.end,l.start);s<0||s==0&&!d.isEmpty()&&!l.isEmpty()||(p(d.end,l.end)<0&&(d.end.row=l.end.row,d.end.column=l.end.column),a.splice(u,1),g.push(l),l=d,u--)}return this.ranges=a,g},h.prototype.contains=function(g,a){return this.pointIndex({row:g,column:a})>=0},h.prototype.containsPoint=function(g){return this.pointIndex(g)>=0},h.prototype.rangeAtPoint=function(g){var a=this.pointIndex(g);if(a>=0)return this.ranges[a]},h.prototype.clipRows=function(g,a){var l=this.ranges;if(l[0].start.row>a||l[l.length-1].start.row<g)return[];var d=this.pointIndex({row:g,column:0});d<0&&(d=-d-1);var u=this.pointIndex({row:a,column:0},d);u<0&&(u=-u-1);for(var s=[],r=d;r<u;r++)s.push(l[r]);return s},h.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},h.prototype.attach=function(g){this.session&&this.detach(),this.session=g,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},h.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},h.prototype.$onChange=function(g){for(var a=g.start,l=g.end,d=a.row,u=l.row,s=this.ranges,r=0,f=s.length;r<f;r++){var v=s[r];if(v.end.row>=d)break}if(g.action=="insert")for(var y=u-d,C=-a.column+l.column;r<f;r++){var v=s[r];if(v.start.row>d)break;if(v.start.row==d&&v.start.column>=a.column&&(v.start.column==a.column&&this.$bias<=0||(v.start.column+=C,v.start.row+=y)),v.end.row==d&&v.end.column>=a.column){if(v.end.column==a.column&&this.$bias<0)continue;v.end.column==a.column&&C>0&&r<f-1&&v.end.column>v.start.column&&v.end.column==s[r+1].start.column&&(v.end.column-=C),v.end.column+=C,v.end.row+=y}}else for(var y=d-u,C=a.column-l.column;r<f;r++){var v=s[r];if(v.start.row>u)break;v.end.row<u&&(d<v.end.row||d==v.end.row&&a.column<v.end.column)?(v.end.row=d,v.end.column=a.column):v.end.row==u?v.end.column<=l.column?(y||v.end.column>a.column)&&(v.end.column=a.column,v.end.row=a.row):(v.end.column+=C,v.end.row+=y):v.end.row>u&&(v.end.row+=y),v.start.row<u&&(d<v.start.row||d==v.start.row&&a.column<v.start.column)?(v.start.row=d,v.start.column=a.column):v.start.row==u?v.start.column<=l.column?(y||v.start.column>a.column)&&(v.start.column=a.column,v.start.row=a.row):(v.start.column+=C,v.start.row+=y):v.start.row>u&&(v.start.row+=y)}if(y!=0&&r<f)for(;r<f;r++){var v=s[r];v.start.row+=y,v.end.row+=y}},h}();m.prototype.comparePoints=p,n.RangeList=m}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(i,n,c){var o=this&&this.__extends||function(){var d=function(u,s){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(r[v]=f[v])},d(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");d(u,s);function r(){this.constructor=u}u.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),p=i("../range_list").RangeList,m=function(d){o(u,d);function u(s,r){var f=d.call(this)||this;return f.foldLine=null,f.placeholder=r,f.range=s,f.start=s.start,f.end=s.end,f.sameRow=s.start.row==s.end.row,f.subFolds=f.ranges=[],f}return u.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},u.prototype.setFoldLine=function(s){this.foldLine=s,this.subFolds.forEach(function(r){r.setFoldLine(s)})},u.prototype.clone=function(){var s=this.range.clone(),r=new u(s,this.placeholder);return this.subFolds.forEach(function(f){r.subFolds.push(f.clone())}),r.collapseChildren=this.collapseChildren,r},u.prototype.addSubFold=function(s){if(!this.range.isEqual(s)){g(s,this.start);for(var C=s.start.row,x=s.start.column,r=0,f=-1;r<this.subFolds.length&&(f=this.subFolds[r].range.compare(C,x),f==1);r++);var v=this.subFolds[r],y=0;if(f==0){if(v.range.containsRange(s))return v.addSubFold(s);y=1}for(var C=s.range.end.row,x=s.range.end.column,w=r,f=-1;w<this.subFolds.length&&(f=this.subFolds[w].range.compare(C,x),f==1);w++);f==0&&w++;for(var k=this.subFolds.splice(r,w-r,s),T=f==0?k.length-1:k.length,A=y;A<T;A++)s.addSubFold(k[A]);return s.setFoldLine(this.foldLine),s}},u.prototype.restoreRange=function(s){return l(s,this.start)},u}(p);function h(d,u){d.row-=u.row,d.row==0&&(d.column-=u.column)}function g(d,u){h(d.start,u),h(d.end,u)}function a(d,u){d.row==0&&(d.column+=u.column),d.row+=u.row}function l(d,u){a(d.start,u),a(d.end,u)}n.Fold=m}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(i,n,c){var o=i("../range").Range,p=i("./fold_line").FoldLine,m=i("./fold").Fold,h=i("../token_iterator").TokenIterator,g=i("../mouse/mouse_event").MouseEvent;function a(){this.getFoldAt=function(l,d,u){var s=this.getFoldLine(l);if(!s)return null;for(var r=s.folds,f=0;f<r.length;f++){var v=r[f].range;if(v.contains(l,d)){if(u==1&&v.isEnd(l,d)&&!v.isEmpty())continue;if(u==-1&&v.isStart(l,d)&&!v.isEmpty())continue;return r[f]}}},this.getFoldsInRange=function(l){var d=l.start,u=l.end,s=this.$foldData,r=[];d.column+=1,u.column-=1;for(var f=0;f<s.length;f++){var v=s[f].range.compareRange(l);if(v!=2){if(v==-2)break;for(var y=s[f].folds,C=0;C<y.length;C++){var x=y[C];if(v=x.range.compareRange(l),v==-2)break;if(v==2)continue;if(v==42)break;r.push(x)}}}return d.column-=1,u.column+=1,r},this.getFoldsInRangeList=function(l){if(Array.isArray(l)){var d=[];l.forEach(function(u){d=d.concat(this.getFoldsInRange(u))},this)}else var d=this.getFoldsInRange(l);return d},this.getAllFolds=function(){for(var l=[],d=this.$foldData,u=0;u<d.length;u++)for(var s=0;s<d[u].folds.length;s++)l.push(d[u].folds[s]);return l},this.getFoldStringAt=function(l,d,u,s){if(s=s||this.getFoldLine(l),!s)return null;for(var r={end:{column:0}},f,v,y=0;y<s.folds.length;y++){v=s.folds[y];var C=v.range.compareEnd(l,d);if(C==-1){f=this.getLine(v.start.row).substring(r.end.column,v.start.column);break}else if(C===0)return null;r=v}return f||(f=this.getLine(v.start.row).substring(r.end.column)),u==-1?f.substring(0,d-r.end.column):u==1?f.substring(d-r.end.column):f},this.getFoldLine=function(l,d){var u=this.$foldData,s=0;for(d&&(s=u.indexOf(d)),s==-1&&(s=0),s;s<u.length;s++){var r=u[s];if(r.start.row<=l&&r.end.row>=l)return r;if(r.end.row>l)return null}return null},this.getNextFoldLine=function(l,d){var u=this.$foldData,s=0;for(d&&(s=u.indexOf(d)),s==-1&&(s=0),s;s<u.length;s++){var r=u[s];if(r.end.row>=l)return r}return null},this.getFoldedRowCount=function(l,d){for(var u=this.$foldData,s=d-l+1,r=0;r<u.length;r++){var f=u[r],v=f.end.row,y=f.start.row;if(v>=d){y<d&&(y>=l?s-=d-y:s=0);break}else v>=l&&(y>=l?s-=v-y:s-=v-l+1)}return s},this.$addFoldLine=function(l){return this.$foldData.push(l),this.$foldData.sort(function(d,u){return d.start.row-u.start.row}),l},this.addFold=function(l,d){var u=this.$foldData,s=!1,r;l instanceof m?r=l:(r=new m(d,l),r.collapseChildren=d.collapseChildren),this.$clipRangeToDocument(r.range);var f=r.start.row,v=r.start.column,y=r.end.row,C=r.end.column,x=this.getFoldAt(f,v,1),w=this.getFoldAt(y,C,-1);if(x&&w==x)return x.addSubFold(r);x&&!x.range.isStart(f,v)&&this.removeFold(x),w&&!w.range.isEnd(y,C)&&this.removeFold(w);var k=this.getFoldsInRange(r.range);k.length>0&&(this.removeFolds(k),r.collapseChildren||k.forEach(function(L){r.addSubFold(L)}));for(var T=0;T<u.length;T++){var A=u[T];if(y==A.start.row){A.addFold(r),s=!0;break}else if(f==A.end.row){if(A.addFold(r),s=!0,!r.sameRow){var M=u[T+1];if(M&&M.start.row==y){A.merge(M);break}}break}else if(y<=A.start.row)break}return s||(A=this.$addFoldLine(new p(this.$foldData,r))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:r,action:"add"}),r},this.addFolds=function(l){l.forEach(function(d){this.addFold(d)},this)},this.removeFold=function(l){var d=l.foldLine,u=d.start.row,s=d.end.row,r=this.$foldData,f=d.folds;if(f.length==1)r.splice(r.indexOf(d),1);else if(d.range.isEnd(l.end.row,l.end.column))f.pop(),d.end.row=f[f.length-1].end.row,d.end.column=f[f.length-1].end.column;else if(d.range.isStart(l.start.row,l.start.column))f.shift(),d.start.row=f[0].start.row,d.start.column=f[0].start.column;else if(l.sameRow)f.splice(f.indexOf(l),1);else{var v=d.split(l.start.row,l.start.column);f=v.folds,f.shift(),v.start.row=f[0].start.row,v.start.column=f[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(u,s):this.$updateRowLengthCache(u,s)),this.$modified=!0,this._signal("changeFold",{data:l,action:"remove"})},this.removeFolds=function(l){for(var d=[],u=0;u<l.length;u++)d.push(l[u]);d.forEach(function(s){this.removeFold(s)},this),this.$modified=!0},this.expandFold=function(l){this.removeFold(l),l.subFolds.forEach(function(d){l.restoreRange(d),this.addFold(d)},this),l.collapseChildren>0&&this.foldAll(l.start.row+1,l.end.row,l.collapseChildren-1),l.subFolds=[]},this.expandFolds=function(l){l.forEach(function(d){this.expandFold(d)},this)},this.unfold=function(l,d){var u,s;if(l==null)u=new o(0,0,this.getLength(),0),d==null&&(d=!0);else if(typeof l=="number")u=new o(l,0,l,this.getLine(l).length);else if("row"in l)u=o.fromPoints(l,l);else{if(Array.isArray(l))return s=[],l.forEach(function(f){s=s.concat(this.unfold(f))},this),s;u=l}s=this.getFoldsInRangeList(u);for(var r=s;s.length==1&&o.comparePoints(s[0].start,u.start)<0&&o.comparePoints(s[0].end,u.end)>0;)this.expandFolds(s),s=this.getFoldsInRangeList(u);if(d!=!1?this.removeFolds(s):this.expandFolds(s),r.length)return r},this.isRowFolded=function(l,d){return!!this.getFoldLine(l,d)},this.getRowFoldEnd=function(l,d){var u=this.getFoldLine(l,d);return u?u.end.row:l},this.getRowFoldStart=function(l,d){var u=this.getFoldLine(l,d);return u?u.start.row:l},this.getFoldDisplayLine=function(l,d,u,s,r){s==null&&(s=l.start.row),r==null&&(r=0),d==null&&(d=l.end.row),u==null&&(u=this.getLine(d).length);var f=this.doc,v="";return l.walk(function(y,C,x,w){if(!(C<s)){if(C==s){if(x<r)return;w=Math.max(r,w)}y!=null?v+=y:v+=f.getLine(C).substring(w,x)}},d,u),v},this.getDisplayLine=function(l,d,u,s){var r=this.getFoldLine(l);if(r)return this.getFoldDisplayLine(r,l,d,u,s);var f;return f=this.doc.getLine(l),f.substring(s||0,d||f.length)},this.$cloneFoldData=function(){var l=[];return l=this.$foldData.map(function(d){var u=d.folds.map(function(s){return s.clone()});return new p(l,u)}),l},this.toggleFold=function(l){var d=this.selection,u=d.getRange(),s,r;if(u.isEmpty()){var f=u.start;if(s=this.getFoldAt(f.row,f.column),s){this.expandFold(s);return}else(r=this.findMatchingBracket(f))?u.comparePoint(r)==1?u.end=r:(u.start=r,u.start.column++,u.end.column--):(r=this.findMatchingBracket({row:f.row,column:f.column+1}))?(u.comparePoint(r)==1?u.end=r:u.start=r,u.start.column++):u=this.getCommentFoldRange(f.row,f.column)||u}else{var v=this.getFoldsInRange(u);if(l&&v.length){this.expandFolds(v);return}else v.length==1&&(s=v[0])}if(s||(s=this.getFoldAt(u.start.row,u.start.column)),s&&s.range.toString()==u.toString()){this.expandFold(s);return}var y="...";if(!u.isMultiLine()){if(y=this.getTextRange(u),y.length<4)return;y=y.trim().substring(0,2)+".."}this.addFold(y,u)},this.getCommentFoldRange=function(l,d,u){var s=new h(this,l,d),r=s.getCurrentToken(),f=r&&r.type;if(r&&/^comment|string/.test(f)){f=f.match(/comment|string/)[0],f=="comment"&&(f+="|doc-start|\\.doc");var v=new RegExp(f),y=new o;if(u!=1){do r=s.stepBackward();while(r&&v.test(r.type));r=s.stepForward()}y.start.row=s.getCurrentTokenRow(),y.start.column=s.getCurrentTokenColumn()+r.value.length,s=new h(this,l,d);var C=this.getState(s.$row);if(u!=-1){var x=-1;do if(r=s.stepForward(),x==-1){var w=this.getState(s.$row);C.toString()!==w.toString()&&(x=s.$row)}else if(s.$row>x)break;while(r&&v.test(r.type));r=s.stepBackward()}else r=s.getCurrentToken();return y.end.row=s.getCurrentTokenRow(),y.end.column=s.getCurrentTokenColumn(),y}},this.foldAll=function(l,d,u,s){u==null&&(u=1e5);var r=this.foldWidgets;if(r){d=d||this.getLength(),l=l||0;for(var f=l;f<d;f++)if(r[f]==null&&(r[f]=this.getFoldWidget(f)),r[f]=="start"&&!(s&&!s(f))){var v=this.getFoldWidgetRange(f);v&&v.isMultiLine()&&v.end.row<=d&&v.start.row>=l&&(f=v.end.row,v.collapseChildren=u,this.addFold("...",v))}}},this.foldToLevel=function(l){for(this.foldAll();l-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var l=this;this.foldAll(null,null,null,function(d){for(var u=l.getTokens(d),s=0;s<u.length;s++){var r=u[s];if(!(r.type=="text"&&/^\s+$/.test(r.value)))return!!/comment/.test(r.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(l){if(!this.$foldStyles[l])throw new Error("invalid fold style: "+l+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=l){this.$foldStyle=l,l=="manual"&&this.unfold();var d=this.$foldMode;this.$setFolding(null),this.$setFolding(d)}},this.$setFolding=function(l){if(this.$foldMode!=l){if(this.$foldMode=l,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!l||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=l.getFoldWidget.bind(l,this,this.$foldStyle),this.getFoldWidgetRange=l.getFoldWidgetRange.bind(l,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(l,d){var u=this.foldWidgets;if(!u||d&&u[l])return{};for(var s=l-1,r;s>=0;){var f=u[s];if(f==null&&(f=u[s]=this.getFoldWidget(s)),f=="start"){var v=this.getFoldWidgetRange(s);if(r||(r=v),v&&v.end.row>=l)break}s--}return{range:s!==-1&&v,firstRange:r}},this.onFoldWidgetClick=function(l,d){d instanceof g&&(d=d.domEvent);var u={children:d.shiftKey,all:d.ctrlKey||d.metaKey,siblings:d.altKey},s=this.$toggleFoldWidget(l,u);if(!s){var r=d.target||d.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(l,d){if(this.getFoldWidget){var u=this.getFoldWidget(l),s=this.getLine(l),r=u==="end"?-1:1,f=this.getFoldAt(l,r===-1?0:s.length,r);if(f)return d.children||d.all?this.removeFold(f):this.expandFold(f),f;var v=this.getFoldWidgetRange(l,!0);if(v&&!v.isMultiLine()&&(f=this.getFoldAt(v.start.row,v.start.column,1),f&&v.isEqual(f.range)))return this.removeFold(f),f;if(d.siblings){var y=this.getParentFoldRangeData(l);if(y.range)var C=y.range.start.row+1,x=y.range.end.row;this.foldAll(C,x,d.all?1e4:0)}else d.children?(x=v?v.end.row:this.getLength(),this.foldAll(l+1,x,d.all?1e4:0)):v&&(d.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(l){var d=this.selection.getCursor().row;d=this.getRowFoldStart(d);var u=this.$toggleFoldWidget(d,{});if(!u){var s=this.getParentFoldRangeData(d,!0);if(u=s.range||s.firstRange,u){d=u.start.row;var r=this.getFoldAt(d,this.getLine(d).length,1);r?this.removeFold(r):this.addFold("...",u)}}},this.updateFoldWidgets=function(l){var d=l.start.row,u=l.end.row-d;if(u===0)this.foldWidgets[d]=null;else if(l.action=="remove")this.foldWidgets.splice(d,u+1,null);else{var s=Array(u+1);s.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}},this.tokenizerUpdateFoldWidgets=function(l){var d=l.data;d.first!=d.last&&this.foldWidgets.length>d.first&&this.foldWidgets.splice(d.first,this.foldWidgets.length)}}n.Folding=a}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(i,n,c){var o=i("../token_iterator").TokenIterator,p=i("../range").Range;function m(){this.findMatchingBracket=function(h,g){if(h.column==0)return null;var a=g||this.getLine(h.row).charAt(h.column-1);if(a=="")return null;var l=a.match(/([\(\[\{])|([\)\]\}])/);return l?l[1]?this.$findClosingBracket(l[1],h):this.$findOpeningBracket(l[2],h):null},this.getBracketRange=function(h){var g=this.getLine(h.row),a=!0,l,d=g.charAt(h.column-1),u=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(u||(d=g.charAt(h.column),h={row:h.row,column:h.column+1},u=d&&d.match(/([\(\[\{])|([\)\]\}])/),a=!1),!u)return null;if(u[1]){var s=this.$findClosingBracket(u[1],h);if(!s)return null;l=p.fromPoints(h,s),a||(l.end.column++,l.start.column--),l.cursor=l.end}else{var s=this.$findOpeningBracket(u[2],h);if(!s)return null;l=p.fromPoints(s,h),a||(l.start.column++,l.end.column--),l.cursor=l.start}return l},this.getMatchingBracketRanges=function(h,g){var a=this.getLine(h.row),l=/([\(\[\{])|([\)\]\}])/,d=!g&&a.charAt(h.column-1),u=d&&d.match(l);if(u||(d=(g===void 0||g)&&a.charAt(h.column),h={row:h.row,column:h.column+1},u=d&&d.match(l)),!u)return null;var s=new p(h.row,h.column-1,h.row,h.column),r=u[1]?this.$findClosingBracket(u[1],h):this.$findOpeningBracket(u[2],h);if(!r)return[s];var f=new p(r.row,r.column,r.row,r.column+1);return[s,f]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(h,g,a){var l=this.$brackets[h],d=1,u=new o(this,g.row,g.column),s=u.getCurrentToken();if(s||(s=u.stepForward()),!!s){a||(a=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var r=g.column-u.getCurrentTokenColumn()-2,f=s.value;;){for(;r>=0;){var v=f.charAt(r);if(v==l){if(d-=1,d==0)return{row:u.getCurrentTokenRow(),column:r+u.getCurrentTokenColumn()}}else v==h&&(d+=1);r-=1}do s=u.stepBackward();while(s&&!a.test(s.type));if(s==null)break;f=s.value,r=f.length-1}return null}},this.$findClosingBracket=function(h,g,a){var l=this.$brackets[h],d=1,u=new o(this,g.row,g.column),s=u.getCurrentToken();if(s||(s=u.stepForward()),!!s){a||(a=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var r=g.column-u.getCurrentTokenColumn();;){for(var f=s.value,v=f.length;r<v;){var y=f.charAt(r);if(y==l){if(d-=1,d==0)return{row:u.getCurrentTokenRow(),column:r+u.getCurrentTokenColumn()}}else y==h&&(d+=1);r+=1}do s=u.stepForward();while(s&&!a.test(s.type));if(s==null)break;r=0}return null}},this.getMatchingTags=function(h){var g=new o(this,h.row,h.column),a=this.$findTagName(g);if(a){var l=g.stepBackward();return l.value==="<"?this.$findClosingTag(g,a):this.$findOpeningTag(g,a)}},this.$findTagName=function(h){var g=h.getCurrentToken(),a=!1,l=!1;if(g&&g.type.indexOf("tag-name")===-1)do l?g=h.stepBackward():g=h.stepForward(),g&&(g.value==="/>"?l=!0:g.type.indexOf("tag-name")!==-1&&(a=!0));while(g&&!a);return g},this.$findClosingTag=function(h,g){var a,l=g.value,d=g.value,u=0,s=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);g=h.stepForward();var r=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+g.value.length),f=!1;do{if(a=g,a.type.indexOf("tag-close")!==-1&&!f){var v=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);f=!0}if(g=h.stepForward(),g){if(g.value===">"&&!f){var v=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);f=!0}if(g.type.indexOf("tag-name")!==-1){if(l=g.value,d===l){if(a.value==="<")u++;else if(a.value==="</"&&(u--,u<0)){h.stepBackward();var y=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2);g=h.stepForward();var C=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+g.value.length);if(g.type.indexOf("tag-close")===-1&&(g=h.stepForward()),g&&g.value===">")var x=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);else return}}}else if(d===l&&g.value==="/>"&&(u--,u<0))var y=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2),C=y,x=C,v=new p(r.end.row,r.end.column,r.end.row,r.end.column+1)}}while(g&&u>=0);if(s&&v&&y&&x&&r&&C)return{openTag:new p(s.start.row,s.start.column,v.end.row,v.end.column),closeTag:new p(y.start.row,y.start.column,x.end.row,x.end.column),openTagName:r,closeTagName:C}},this.$findOpeningTag=function(h,g){var a=h.getCurrentToken(),l=g.value,d=0,u=h.getCurrentTokenRow(),s=h.getCurrentTokenColumn(),r=s+2,f=new p(u,s,u,r);h.stepForward();var v=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+g.value.length);if(g.type.indexOf("tag-close")===-1&&(g=h.stepForward()),!(!g||g.value!==">")){var y=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);h.stepBackward(),h.stepBackward();do if(g=a,u=h.getCurrentTokenRow(),s=h.getCurrentTokenColumn(),r=s+g.value.length,a=h.stepBackward(),g){if(g.type.indexOf("tag-name")!==-1){if(l===g.value)if(a.value==="<"){if(d++,d>0){var C=new p(u,s,u,r),x=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);do g=h.stepForward();while(g&&g.value!==">");var w=new p(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1)}}else a.value==="</"&&d--}else if(g.value==="/>"){for(var k=0,T=a;T;){if(T.type.indexOf("tag-name")!==-1&&T.value===l){d--;break}else if(T.value==="<")break;T=h.stepBackward(),k++}for(var A=0;A<k;A++)h.stepForward()}}while(a&&d<=0);if(x&&w&&f&&y&&C&&v)return{openTag:new p(x.start.row,x.start.column,w.end.row,w.end.column),closeTag:new p(f.start.row,f.start.column,y.end.row,y.end.column),openTagName:C,closeTagName:v}}}}n.BracketMatch=m}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(i,n,c){var o=i("./lib/oop"),p=i("./lib/lang"),m=i("./bidihandler").BidiHandler,h=i("./config"),g=i("./lib/event_emitter").EventEmitter,a=i("./selection").Selection,l=i("./mode/text").Mode,d=i("./range").Range,u=i("./line_widgets").LineWidgets,s=i("./document").Document,r=i("./background_tokenizer").BackgroundTokenizer,f=i("./search_highlight").SearchHighlight,v=i("./undomanager").UndoManager,y=function(){function _(b,E){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++_.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new r(new l().getTokenizer(),this);var S=this;this.bgTokenizer.on("update",function(I){S._signal("tokenizerUpdate",I)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof b!="object"||!b.getLine)&&(b=new s(b)),this.setDocument(b),this.selection=new a(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new m(this),h.resetOptions(this),this.setMode(E),h._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return _.prototype.$initOperationListeners=function(){var b=this;this.curOp=null,this.on("change",function(){b.curOp||(b.startOperation(),b.curOp.selectionBefore=b.$lastSel),b.curOp.docChanged=!0},!0),this.on("changeSelection",function(){b.curOp||(b.startOperation(),b.curOp.selectionBefore=b.$lastSel),b.curOp.selectionChanged=!0},!0),this.$operationResetTimer=p.delayedCall(this.endOperation.bind(this,!0))},_.prototype.startOperation=function(b){if(this.curOp){if(!b||this.curOp.command)return;this.prevOp=this.curOp}b||(b={}),this.$operationResetTimer.schedule(),this.curOp={command:b.command||{},args:b.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",b)},_.prototype.endOperation=function(b){if(this.curOp){if(b&&b.returnValue===!1){this.curOp=null,this._signal("endOperation",b);return}if(b==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var E=this.selection.toJSON();this.curOp.selectionAfter=E,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(E),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",b)}},_.prototype.setDocument=function(b){this.doc&&this.doc.off("change",this.$onChange),this.doc=b,b.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},_.prototype.getDocument=function(){return this.doc},Object.defineProperty(_.prototype,"widgetManager",{get:function(){var b=new u(this);return this.widgetManager=b,this.$editor&&b.attach(this.$editor),b},set:function(b){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:b})},enumerable:!1,configurable:!0}),_.prototype.$resetRowCache=function(b){if(!b){this.$docRowCache=[],this.$screenRowCache=[];return}var E=this.$docRowCache.length,S=this.$getRowCacheIndex(this.$docRowCache,b)+1;E>S&&(this.$docRowCache.splice(S,E),this.$screenRowCache.splice(S,E))},_.prototype.$getRowCacheIndex=function(b,E){for(var S=0,I=b.length-1;S<=I;){var O=S+I>>1,D=b[O];if(E>D)S=O+1;else if(E<D)I=O-1;else return O}return S-1},_.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},_.prototype.onChangeFold=function(b){var E=b.data;this.$resetRowCache(E.start.row)},_.prototype.onChange=function(b){this.$modified=!0,this.$bidiHandler.onChange(b),this.$resetRowCache(b.start.row);var E=this.$updateInternalDataOnChange(b);!this.$fromUndo&&this.$undoManager&&(E&&E.length&&(this.$undoManager.add({action:"removeFolds",folds:E},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(b,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(b),this._signal("change",b)},_.prototype.onSelectionChange=function(){this._signal("changeSelection")},_.prototype.setValue=function(b){this.doc.setValue(b),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},_.fromJSON=function(b){typeof b=="string"&&(b=JSON.parse(b));var E=new v;E.$undoStack=b.history.undo,E.$redoStack=b.history.redo,E.mark=b.history.mark,E.$rev=b.history.rev;var S=new _(b.value);return b.folds.forEach(function(I){S.addFold("...",d.fromPoints(I.start,I.end))}),S.setAnnotations(b.annotations),S.setBreakpoints(b.breakpoints),S.setMode(b.mode),S.setScrollLeft(b.scrollLeft),S.setScrollTop(b.scrollTop),S.setUndoManager(E),S.selection.fromJSON(b.selection),S},_.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(b){return b.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},_.prototype.toString=function(){return this.doc.getValue()},_.prototype.getSelection=function(){return this.selection},_.prototype.getState=function(b){return this.bgTokenizer.getState(b)},_.prototype.getTokens=function(b){return this.bgTokenizer.getTokens(b)},_.prototype.getTokenAt=function(b,E){var S=this.bgTokenizer.getTokens(b),I,O=0;if(E==null){var D=S.length-1;O=this.getLine(b).length}else for(var D=0;D<S.length&&(O+=S[D].value.length,!(O>=E));D++);return I=S[D],I?(I.index=D,I.start=O-I.value.length,I):null},_.prototype.setUndoManager=function(b){if(this.$undoManager=b,this.$informUndoManager&&this.$informUndoManager.cancel(),b){var E=this;b.addSession(this),this.$syncInformUndoManager=function(){E.$informUndoManager.cancel(),E.mergeUndoDeltas=!1},this.$informUndoManager=p.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},_.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},_.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},_.prototype.getTabString=function(){return this.getUseSoftTabs()?p.stringRepeat(" ",this.getTabSize()):"	"},_.prototype.setUseSoftTabs=function(b){this.setOption("useSoftTabs",b)},_.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},_.prototype.setTabSize=function(b){this.setOption("tabSize",b)},_.prototype.getTabSize=function(){return this.$tabSize},_.prototype.isTabStop=function(b){return this.$useSoftTabs&&b.column%this.$tabSize===0},_.prototype.setNavigateWithinSoftTabs=function(b){this.setOption("navigateWithinSoftTabs",b)},_.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},_.prototype.setOverwrite=function(b){this.setOption("overwrite",b)},_.prototype.getOverwrite=function(){return this.$overwrite},_.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},_.prototype.addGutterDecoration=function(b,E){this.$decorations[b]||(this.$decorations[b]=""),this.$decorations[b]+=" "+E,this._signal("changeBreakpoint",{})},_.prototype.removeGutterDecoration=function(b,E){this.$decorations[b]=(this.$decorations[b]||"").replace(" "+E,""),this._signal("changeBreakpoint",{})},_.prototype.getBreakpoints=function(){return this.$breakpoints},_.prototype.setBreakpoints=function(b){this.$breakpoints=[];for(var E=0;E<b.length;E++)this.$breakpoints[b[E]]="ace_breakpoint";this._signal("changeBreakpoint",{})},_.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},_.prototype.setBreakpoint=function(b,E){E===void 0&&(E="ace_breakpoint"),E?this.$breakpoints[b]=E:delete this.$breakpoints[b],this._signal("changeBreakpoint",{})},_.prototype.clearBreakpoint=function(b){delete this.$breakpoints[b],this._signal("changeBreakpoint",{})},_.prototype.addMarker=function(b,E,S,I){var O=this.$markerId++,D={range:b,type:S||"line",renderer:typeof S=="function"?S:null,clazz:E,inFront:!!I,id:O};return I?(this.$frontMarkers[O]=D,this._signal("changeFrontMarker")):(this.$backMarkers[O]=D,this._signal("changeBackMarker")),O},_.prototype.addDynamicMarker=function(b,E){if(b.update){var S=this.$markerId++;return b.id=S,b.inFront=!!E,E?(this.$frontMarkers[S]=b,this._signal("changeFrontMarker")):(this.$backMarkers[S]=b,this._signal("changeBackMarker")),b}},_.prototype.removeMarker=function(b){var E=this.$frontMarkers[b]||this.$backMarkers[b];if(E){var S=E.inFront?this.$frontMarkers:this.$backMarkers;delete S[b],this._signal(E.inFront?"changeFrontMarker":"changeBackMarker")}},_.prototype.getMarkers=function(b){return b?this.$frontMarkers:this.$backMarkers},_.prototype.highlight=function(b){if(!this.$searchHighlight){var E=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(E)}this.$searchHighlight.setRegexp(b)},_.prototype.highlightLines=function(b,E,S,I){typeof E!="number"&&(S=E,E=b),S||(S="ace_step");var O=new d(b,0,E,1/0);return O.id=this.addMarker(O,S,"fullLine",I),O},_.prototype.setAnnotations=function(b){this.$annotations=b,this._signal("changeAnnotation",{})},_.prototype.getAnnotations=function(){return this.$annotations||[]},_.prototype.clearAnnotations=function(){this.setAnnotations([])},_.prototype.$detectNewLine=function(b){var E=b.match(/^.*?(\r?\n)/m);E?this.$autoNewLine=E[1]:this.$autoNewLine=`
`},_.prototype.getWordRange=function(b,E){var S=this.getLine(b),I=!1;if(E>0&&(I=!!S.charAt(E-1).match(this.tokenRe)),I||(I=!!S.charAt(E).match(this.tokenRe)),I)var O=this.tokenRe;else if(/^\s+$/.test(S.slice(E-1,E+1)))var O=/\s/;else var O=this.nonTokenRe;var D=E;if(D>0){do D--;while(D>=0&&S.charAt(D).match(O));D++}for(var P=E;P<S.length&&S.charAt(P).match(O);)P++;return new d(b,D,b,P)},_.prototype.getAWordRange=function(b,E){for(var S=this.getWordRange(b,E),I=this.getLine(S.end.row);I.charAt(S.end.column).match(/[ \t]/);)S.end.column+=1;return S},_.prototype.setNewLineMode=function(b){this.doc.setNewLineMode(b)},_.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},_.prototype.setUseWorker=function(b){this.setOption("useWorker",b)},_.prototype.getUseWorker=function(){return this.$useWorker},_.prototype.onReloadTokenizer=function(b){var E=b.data;this.bgTokenizer.start(E.first),this._signal("tokenizerUpdate",b)},_.prototype.setMode=function(b,E){if(b&&typeof b=="object"){if(b.getTokenizer)return this.$onChangeMode(b);var S=b,I=S.path}else I=b||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[I]&&!S){this.$onChangeMode(this.$modes[I]),E&&E();return}this.$modeId=I,h.loadModule(["mode",I],(function(O){if(this.$modeId!==I)return E&&E();this.$modes[I]&&!S?this.$onChangeMode(this.$modes[I]):O&&O.Mode&&(O=new O.Mode(S),S||(this.$modes[I]=O,O.$id=I),this.$onChangeMode(O)),E&&E()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},_.prototype.$onChangeMode=function(b,E){if(E||(this.$modeId=b.$id),this.$mode!==b){var S=this.$mode;this.$mode=b,this.$stopWorker(),this.$useWorker&&this.$startWorker();var I=b.getTokenizer();if(I.on!==void 0){var O=this.onReloadTokenizer.bind(this);I.on("update",O)}this.bgTokenizer.setTokenizer(I),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=b.tokenRe,this.nonTokenRe=b.nonTokenRe,E||(b.attachToSession&&b.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(b.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:S,mode:b}))}},_.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},_.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(b){h.warn("Could not load worker",b),this.$worker=null}},_.prototype.getMode=function(){return this.$mode},_.prototype.setScrollTop=function(b){this.$scrollTop===b||isNaN(b)||(this.$scrollTop=b,this._signal("changeScrollTop",b))},_.prototype.getScrollTop=function(){return this.$scrollTop},_.prototype.setScrollLeft=function(b){this.$scrollLeft===b||isNaN(b)||(this.$scrollLeft=b,this._signal("changeScrollLeft",b))},_.prototype.getScrollLeft=function(){return this.$scrollLeft},_.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},_.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var b=0;return this.lineWidgets.forEach(function(E){E&&E.screenWidth>b&&(b=E.screenWidth)}),this.lineWidgetWidth=b},_.prototype.$computeWidth=function(b){if(this.$modified||b){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var E=this.doc.getAllLines(),S=this.$rowLengthCache,I=0,O=0,D=this.$foldData[O],P=D?D.start.row:1/0,B=E.length,F=0;F<B;F++){if(F>P){if(F=D.end.row+1,F>=B)break;D=this.$foldData[O++],P=D?D.start.row:1/0}S[F]==null&&(S[F]=this.$getStringScreenWidth(E[F])[0]),S[F]>I&&(I=S[F])}this.screenWidth=I}},_.prototype.getLine=function(b){return this.doc.getLine(b)},_.prototype.getLines=function(b,E){return this.doc.getLines(b,E)},_.prototype.getLength=function(){return this.doc.getLength()},_.prototype.getTextRange=function(b){return this.doc.getTextRange(b||this.selection.getRange())},_.prototype.insert=function(b,E){return this.doc.insert(b,E)},_.prototype.remove=function(b){return this.doc.remove(b)},_.prototype.removeFullLines=function(b,E){return this.doc.removeFullLines(b,E)},_.prototype.undoChanges=function(b,E){if(b.length){this.$fromUndo=!0;for(var S=b.length-1;S!=-1;S--){var I=b[S];I.action=="insert"||I.action=="remove"?this.doc.revertDelta(I):I.folds&&this.addFolds(I.folds)}!E&&this.$undoSelect&&(b.selectionBefore?this.selection.fromJSON(b.selectionBefore):this.selection.setRange(this.$getUndoSelection(b,!0))),this.$fromUndo=!1}},_.prototype.redoChanges=function(b,E){if(b.length){this.$fromUndo=!0;for(var S=0;S<b.length;S++){var I=b[S];(I.action=="insert"||I.action=="remove")&&this.doc.$safeApplyDelta(I)}!E&&this.$undoSelect&&(b.selectionAfter?this.selection.fromJSON(b.selectionAfter):this.selection.setRange(this.$getUndoSelection(b,!1))),this.$fromUndo=!1}},_.prototype.setUndoSelect=function(b){this.$undoSelect=b},_.prototype.$getUndoSelection=function(b,E){function S(B){return E?B.action!=="insert":B.action==="insert"}for(var I,O,D=0;D<b.length;D++){var P=b[D];if(P.start){if(!I){S(P)?I=d.fromPoints(P.start,P.end):I=d.fromPoints(P.start,P.start);continue}S(P)?(O=P.start,I.compare(O.row,O.column)==-1&&I.setStart(O),O=P.end,I.compare(O.row,O.column)==1&&I.setEnd(O)):(O=P.start,I.compare(O.row,O.column)==-1&&(I=d.fromPoints(P.start,P.start)))}}return I},_.prototype.replace=function(b,E){return this.doc.replace(b,E)},_.prototype.moveText=function(b,E,S){var I=this.getTextRange(b),O=this.getFoldsInRange(b),D=d.fromPoints(E,E);if(!S){this.remove(b);var P=b.start.row-b.end.row,B=P?-b.end.column:b.start.column-b.end.column;B&&(D.start.row==b.end.row&&D.start.column>b.end.column&&(D.start.column+=B),D.end.row==b.end.row&&D.end.column>b.end.column&&(D.end.column+=B)),P&&D.start.row>=b.end.row&&(D.start.row+=P,D.end.row+=P)}if(D.end=this.insert(D.start,I),O.length){var F=b.start,W=D.start,P=W.row-F.row,B=W.column-F.column;this.addFolds(O.map(function(V){return V=V.clone(),V.start.row==F.row&&(V.start.column+=B),V.end.row==F.row&&(V.end.column+=B),V.start.row+=P,V.end.row+=P,V}))}return D},_.prototype.indentRows=function(b,E,S){S=S.replace(/\t/g,this.getTabString());for(var I=b;I<=E;I++)this.doc.insertInLine({row:I,column:0},S)},_.prototype.outdentRows=function(b){for(var E=b.collapseRows(),S=new d(0,0,0,0),I=this.getTabSize(),O=E.start.row;O<=E.end.row;++O){var D=this.getLine(O);S.start.row=O,S.end.row=O;for(var P=0;P<I&&D.charAt(P)==" ";++P);P<I&&D.charAt(P)=="	"?(S.start.column=P,S.end.column=P+1):(S.start.column=0,S.end.column=P),this.remove(S)}},_.prototype.$moveLines=function(b,E,S){if(b=this.getRowFoldStart(b),E=this.getRowFoldEnd(E),S<0){var I=this.getRowFoldStart(b+S);if(I<0)return 0;var O=I-b}else if(S>0){var I=this.getRowFoldEnd(E+S);if(I>this.doc.getLength()-1)return 0;var O=I-E}else{b=this.$clipRowToDocument(b),E=this.$clipRowToDocument(E);var O=E-b+1}var D=new d(b,0,E,Number.MAX_VALUE),P=this.getFoldsInRange(D).map(function(F){return F=F.clone(),F.start.row+=O,F.end.row+=O,F}),B=S==0?this.doc.getLines(b,E):this.doc.removeFullLines(b,E);return this.doc.insertFullLines(b+O,B),P.length&&this.addFolds(P),O},_.prototype.moveLinesUp=function(b,E){return this.$moveLines(b,E,-1)},_.prototype.moveLinesDown=function(b,E){return this.$moveLines(b,E,1)},_.prototype.duplicateLines=function(b,E){return this.$moveLines(b,E,0)},_.prototype.$clipRowToDocument=function(b){return Math.max(0,Math.min(b,this.doc.getLength()-1))},_.prototype.$clipColumnToRow=function(b,E){return E<0?0:Math.min(this.doc.getLine(b).length,E)},_.prototype.$clipPositionToDocument=function(b,E){if(E=Math.max(0,E),b<0)b=0,E=0;else{var S=this.doc.getLength();b>=S?(b=S-1,E=this.doc.getLine(S-1).length):E=Math.min(this.doc.getLine(b).length,E)}return{row:b,column:E}},_.prototype.$clipRangeToDocument=function(b){b.start.row<0?(b.start.row=0,b.start.column=0):b.start.column=this.$clipColumnToRow(b.start.row,b.start.column);var E=this.doc.getLength()-1;return b.end.row>E?(b.end.row=E,b.end.column=this.doc.getLine(E).length):b.end.column=this.$clipColumnToRow(b.end.row,b.end.column),b},_.prototype.setUseWrapMode=function(b){if(b!=this.$useWrapMode){if(this.$useWrapMode=b,this.$modified=!0,this.$resetRowCache(0),b){var E=this.getLength();this.$wrapData=Array(E),this.$updateWrapData(0,E-1)}this._signal("changeWrapMode")}},_.prototype.getUseWrapMode=function(){return this.$useWrapMode},_.prototype.setWrapLimitRange=function(b,E){(this.$wrapLimitRange.min!==b||this.$wrapLimitRange.max!==E)&&(this.$wrapLimitRange={min:b,max:E},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},_.prototype.adjustWrapLimit=function(b,E){var S=this.$wrapLimitRange;S.max<0&&(S={min:E,max:E});var I=this.$constrainWrapLimit(b,S.min,S.max);return I!=this.$wrapLimit&&I>1?(this.$wrapLimit=I,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},_.prototype.$constrainWrapLimit=function(b,E,S){return E&&(b=Math.max(E,b)),S&&(b=Math.min(S,b)),b},_.prototype.getWrapLimit=function(){return this.$wrapLimit},_.prototype.setWrapLimit=function(b){this.setWrapLimitRange(b,b)},_.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},_.prototype.$updateInternalDataOnChange=function(b){var E=this.$useWrapMode,S=b.action,I=b.start,O=b.end,D=I.row,P=O.row,B=P-D,F=null;if(this.$updating=!0,B!=0)if(S==="remove"){this[E?"$wrapData":"$rowLengthCache"].splice(D,B);var W=this.$foldData;F=this.getFoldsInRange(b),this.removeFolds(F);var N=this.getFoldLine(O.row),j=0;if(N){N.addRemoveChars(O.row,O.column,I.column-O.column),N.shiftRow(-B);var V=this.getFoldLine(D);V&&V!==N&&(V.merge(N),N=V),j=W.indexOf(N)+1}for(j;j<W.length;j++){var N=W[j];N.start.row>=O.row&&N.shiftRow(-B)}P=D}else{var H=Array(B);H.unshift(D,0);var G=E?this.$wrapData:this.$rowLengthCache;G.splice.apply(G,H);var W=this.$foldData,N=this.getFoldLine(D),j=0;if(N){var X=N.range.compareInside(I.row,I.column);X==0?(N=N.split(I.row,I.column),N&&(N.shiftRow(B),N.addRemoveChars(P,0,O.column-I.column))):X==-1&&(N.addRemoveChars(D,0,O.column-I.column),N.shiftRow(B)),j=W.indexOf(N)+1}for(j;j<W.length;j++){var N=W[j];N.start.row>=D&&N.shiftRow(B)}}else{B=Math.abs(b.start.column-b.end.column),S==="remove"&&(F=this.getFoldsInRange(b),this.removeFolds(F),B=-B);var N=this.getFoldLine(D);N&&N.addRemoveChars(D,I.column,B)}return E&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,E?this.$updateWrapData(D,P):this.$updateRowLengthCache(D,P),F},_.prototype.$updateRowLengthCache=function(b,E){this.$rowLengthCache[b]=null,this.$rowLengthCache[E]=null},_.prototype.$updateWrapData=function(b,E){var S=this.doc.getAllLines(),I=this.getTabSize(),O=this.$wrapData,D=this.$wrapLimit,P,B,F=b;for(E=Math.min(E,S.length-1);F<=E;)B=this.getFoldLine(F,B),B?(P=[],B.walk((function(W,N,j,V){var H;if(W!=null){H=this.$getDisplayTokens(W,P.length),H[0]=w;for(var G=1;G<H.length;G++)H[G]=k}else H=this.$getDisplayTokens(S[N].substring(V,j),P.length);P=P.concat(H)}).bind(this),B.end.row,S[B.end.row].length+1),O[B.start.row]=this.$computeWrapSplits(P,D,I),F=B.end.row+1):(P=this.$getDisplayTokens(S[F]),O[F]=this.$computeWrapSplits(P,D,I),F++)},_.prototype.$computeWrapSplits=function(b,E,S){if(b.length==0)return[];var I=[],O=b.length,D=0,P=0,B=this.$wrapAsCode,F=this.$indentedSoftWrap,W=E<=Math.max(2*S,8)||F===!1?0:Math.floor(E/2);function N(){var X=0;if(W===0)return X;if(F)for(var J=0;J<b.length;J++){var K=b[J];if(K==A)X+=1;else if(K==M)X+=S;else{if(K==L)continue;break}}return B&&F!==!1&&(X+=S),Math.min(X,W)}function j(X){for(var J=X-D,K=D;K<X;K++){var ee=b[K];(ee===12||ee===2)&&(J-=1)}I.length||(V=N(),I.indent=V),P+=J,I.push(P),D=X}for(var V=0;O-D>E-V;){var H=D+E-V;if(b[H-1]>=A&&b[H]>=A){j(H);continue}if(b[H]==w||b[H]==k){for(H;H!=D-1&&b[H]!=w;H--);if(H>D){j(H);continue}for(H=D+E,H;H<b.length&&b[H]==k;H++);if(H==b.length)break;j(H);continue}for(var G=Math.max(H-(E-(E>>2)),D-1);H>G&&b[H]<w;)H--;if(B){for(;H>G&&b[H]<w;)H--;for(;H>G&&b[H]==T;)H--}else for(;H>G&&b[H]<A;)H--;if(H>G){j(++H);continue}H=D+E,b[H]==x&&H--,j(H-V)}return I},_.prototype.$getDisplayTokens=function(b,E){var S=[],I;E=E||0;for(var O=0;O<b.length;O++){var D=b.charCodeAt(O);if(D==9){I=this.getScreenTabSize(S.length+E),S.push(M);for(var P=1;P<I;P++)S.push(L)}else D==32?S.push(A):D>39&&D<48||D>57&&D<64?S.push(T):D>=4352&&R(D)?S.push(C,x):S.push(C)}return S},_.prototype.$getStringScreenWidth=function(b,E,S){if(E==0)return[0,0];E==null&&(E=1/0),S=S||0;var I,O;for(O=0;O<b.length&&(I=b.charCodeAt(O),I==9?S+=this.getScreenTabSize(S):I>=4352&&R(I)?S+=2:S+=1,!(S>E));O++);return[S,O]},_.prototype.getRowLength=function(b){var E=1;return this.lineWidgets&&(E+=this.lineWidgets[b]&&this.lineWidgets[b].rowCount||0),!this.$useWrapMode||!this.$wrapData[b]?E:this.$wrapData[b].length+E},_.prototype.getRowLineCount=function(b){return!this.$useWrapMode||!this.$wrapData[b]?1:this.$wrapData[b].length+1},_.prototype.getRowWrapIndent=function(b){if(this.$useWrapMode){var E=this.screenToDocumentPosition(b,Number.MAX_VALUE),S=this.$wrapData[E.row];return S.length&&S[0]<E.column?S.indent:0}else return 0},_.prototype.getScreenLastRowColumn=function(b){var E=this.screenToDocumentPosition(b,Number.MAX_VALUE);return this.documentToScreenColumn(E.row,E.column)},_.prototype.getDocumentLastRowColumn=function(b,E){var S=this.documentToScreenRow(b,E);return this.getScreenLastRowColumn(S)},_.prototype.getDocumentLastRowColumnPosition=function(b,E){var S=this.documentToScreenRow(b,E);return this.screenToDocumentPosition(S,Number.MAX_VALUE/10)},_.prototype.getRowSplitData=function(b){if(this.$useWrapMode)return this.$wrapData[b]},_.prototype.getScreenTabSize=function(b){return this.$tabSize-(b%this.$tabSize|0)},_.prototype.screenToDocumentRow=function(b,E){return this.screenToDocumentPosition(b,E).row},_.prototype.screenToDocumentColumn=function(b,E){return this.screenToDocumentPosition(b,E).column},_.prototype.screenToDocumentPosition=function(b,E,S){if(b<0)return{row:0,column:0};var I,O=0,D=0,P,B=0,F=0,W=this.$screenRowCache,N=this.$getRowCacheIndex(W,b),j=W.length;if(j&&N>=0)var B=W[N],O=this.$docRowCache[N],V=b>W[j-1];else var V=!j;for(var H=this.getLength()-1,G=this.getNextFoldLine(O),X=G?G.start.row:1/0;B<=b&&(F=this.getRowLength(O),!(B+F>b||O>=H));)B+=F,O++,O>X&&(O=G.end.row+1,G=this.getNextFoldLine(O,G),X=G?G.start.row:1/0),V&&(this.$docRowCache.push(O),this.$screenRowCache.push(B));if(G&&G.start.row<=O)I=this.getFoldDisplayLine(G),O=G.start.row;else{if(B+F<=b||O>H)return{row:H,column:this.getLine(H).length};I=this.getLine(O),G=null}var J=0,K=Math.floor(b-B);if(this.$useWrapMode){var ee=this.$wrapData[O];ee&&(P=ee[K],K>0&&ee.length&&(J=ee.indent,D=ee[K-1]||ee[ee.length-1],I=I.substring(D)))}return S!==void 0&&this.$bidiHandler.isBidiRow(B+K,O,K)&&(E=this.$bidiHandler.offsetToCol(S)),D+=this.$getStringScreenWidth(I,E-J)[1],this.$useWrapMode&&D>=P&&(D=P-1),G?G.idxToPosition(D):{row:O,column:D}},_.prototype.documentToScreenPosition=function(b,E){if(typeof E>"u")var S=this.$clipPositionToDocument(b.row,b.column);else S=this.$clipPositionToDocument(b,E);b=S.row,E=S.column;var I=0,O=null,D=null;D=this.getFoldAt(b,E,1),D&&(b=D.start.row,E=D.start.column);var P,B=0,F=this.$docRowCache,W=this.$getRowCacheIndex(F,b),N=F.length;if(N&&W>=0)var B=F[W],I=this.$screenRowCache[W],j=b>F[N-1];else var j=!N;for(var V=this.getNextFoldLine(B),H=V?V.start.row:1/0;B<b;){if(B>=H){if(P=V.end.row+1,P>b)break;V=this.getNextFoldLine(P,V),H=V?V.start.row:1/0}else P=B+1;I+=this.getRowLength(B),B=P,j&&(this.$docRowCache.push(B),this.$screenRowCache.push(I))}var G="";V&&B>=H?(G=this.getFoldDisplayLine(V,b,E),O=V.start.row):(G=this.getLine(b).substring(0,E),O=b);var X=0;if(this.$useWrapMode){var J=this.$wrapData[O];if(J){for(var K=0;G.length>=J[K];)I++,K++;G=G.substring(J[K-1]||0,G.length),X=K>0?J.indent:0}}return this.lineWidgets&&this.lineWidgets[B]&&this.lineWidgets[B].rowsAbove&&(I+=this.lineWidgets[B].rowsAbove),{row:I,column:X+this.$getStringScreenWidth(G)[0]}},_.prototype.documentToScreenColumn=function(b,E){return this.documentToScreenPosition(b,E).column},_.prototype.documentToScreenRow=function(b,E){return this.documentToScreenPosition(b,E).row},_.prototype.getScreenLength=function(){var b=0,E=null;if(this.$useWrapMode)for(var O=this.$wrapData.length,D=0,I=0,E=this.$foldData[I++],P=E?E.start.row:1/0;D<O;){var B=this.$wrapData[D];b+=B?B.length+1:1,D++,D>P&&(D=E.end.row+1,E=this.$foldData[I++],P=E?E.start.row:1/0)}else{b=this.getLength();for(var S=this.$foldData,I=0;I<S.length;I++)E=S[I],b-=E.end.row-E.start.row}return this.lineWidgets&&(b+=this.$getWidgetScreenLength()),b},_.prototype.$setFontMetrics=function(b){this.$enableVarChar&&(this.$getStringScreenWidth=function(E,S,I){if(S===0)return[0,0];S||(S=1/0),I=I||0;var O,D;for(D=0;D<E.length&&(O=E.charAt(D),O==="	"?I+=this.getScreenTabSize(I):I+=b.getCharacterWidth(O),!(I>S));D++);return[I,D]})},_.prototype.getPrecedingCharacter=function(){var b=this.selection.getCursor();if(b.column===0)return b.row===0?"":this.doc.getNewLineCharacter();var E=this.getLine(b.row);return E[b.column-1]},_.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},_}();y.$uid=0,y.prototype.$modes=h.$modes,y.prototype.getValue=y.prototype.toString,y.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},y.prototype.$overwrite=!1,y.prototype.$mode=null,y.prototype.$modeId=null,y.prototype.$scrollTop=0,y.prototype.$scrollLeft=0,y.prototype.$wrapLimit=80,y.prototype.$useWrapMode=!1,y.prototype.$wrapLimitRange={min:null,max:null},y.prototype.lineWidgets=null,y.prototype.isFullWidth=R,o.implement(y.prototype,g);var C=1,x=2,w=3,k=4,T=9,A=10,M=11,L=12;function R(_){return _<4352?!1:_>=4352&&_<=4447||_>=4515&&_<=4519||_>=4602&&_<=4607||_>=9001&&_<=9002||_>=11904&&_<=11929||_>=11931&&_<=12019||_>=12032&&_<=12245||_>=12272&&_<=12283||_>=12288&&_<=12350||_>=12353&&_<=12438||_>=12441&&_<=12543||_>=12549&&_<=12589||_>=12593&&_<=12686||_>=12688&&_<=12730||_>=12736&&_<=12771||_>=12784&&_<=12830||_>=12832&&_<=12871||_>=12880&&_<=13054||_>=13056&&_<=19903||_>=19968&&_<=42124||_>=42128&&_<=42182||_>=43360&&_<=43388||_>=44032&&_<=55203||_>=55216&&_<=55238||_>=55243&&_<=55291||_>=63744&&_<=64255||_>=65040&&_<=65049||_>=65072&&_<=65106||_>=65108&&_<=65126||_>=65128&&_<=65131||_>=65281&&_<=65376||_>=65504&&_<=65510}i("./edit_session/folding").Folding.call(y.prototype),i("./edit_session/bracket_match").BracketMatch.call(y.prototype),h.defineOptions(y.prototype,"session",{wrap:{set:function(_){if(!_||_=="off"?_=!1:_=="free"?_=!0:_=="printMargin"?_=-1:typeof _=="string"&&(_=parseInt(_,10)||!1),this.$wrap!=_)if(this.$wrap=_,!_)this.setUseWrapMode(!1);else{var b=typeof _=="number"?_:null;this.setWrapLimitRange(b,b),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(_){_=_=="auto"?this.$mode.type!="text":_!="text",_!=this.$wrapAsCode&&(this.$wrapAsCode=_,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(_){this.$useWorker=_,this.$stopWorker(),_&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(_){_=parseInt(_),_>0&&this.$tabSize!==_&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=_,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(_){this.setFoldStyle(_)},handlesSet:!0},overwrite:{set:function(_){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(_){this.doc.setNewLineMode(_)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(_){this.setMode(_)},get:function(){return this.$modeId},handlesSet:!0}}),n.EditSession=y}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(i,n,c){var o=i("./lib/lang"),p=i("./lib/oop"),m=i("./range").Range,h=function(){function a(){this.$options={}}return a.prototype.set=function(l){return p.mixin(this.$options,l),this},a.prototype.getOptions=function(){return o.copyObject(this.$options)},a.prototype.setOptions=function(l){this.$options=l},a.prototype.find=function(l){var d=this.$options,u=this.$matchIterator(l,d);if(!u)return!1;var s=null;return u.forEach(function(r,f,v,y){return s=new m(r,f,v,y),f==y&&d.start&&d.start.start&&d.skipCurrent!=!1&&s.isEqual(d.start)?(s=null,!1):!0}),s},a.prototype.findAll=function(l){var d=this.$options;if(!d.needle)return[];this.$assembleRegExp(d);var u=d.range,s=u?l.getLines(u.start.row,u.end.row):l.doc.getAllLines(),r=[],f=d.re;if(d.$isMultiLine){var v=f.length,y=s.length-v,C;e:for(var x=f.offset||0;x<=y;x++){for(var w=0;w<v;w++)if(s[x+w].search(f[w])==-1)continue e;var k=s[x],T=s[x+v-1],A=k.length-k.match(f[0])[0].length,M=T.match(f[v-1])[0].length;C&&C.end.row===x&&C.end.column>A||(r.push(C=new m(x,A,x+v-1,M)),v>2&&(x=x+v-2))}}else for(var L=0;L<s.length;L++)for(var R=o.getMatchOffsets(s[L],f),w=0;w<R.length;w++){var _=R[w];r.push(new m(L,_.offset,L,_.offset+_.length))}if(u){for(var b=u.start.column,E=u.end.column,L=0,w=r.length-1;L<w&&r[L].start.column<b&&r[L].start.row==0;)L++;for(var S=u.end.row-u.start.row;L<w&&r[w].end.column>E&&r[w].end.row==S;)w--;for(r=r.slice(L,w+1),L=0,w=r.length;L<w;L++)r[L].start.row+=u.start.row,r[L].end.row+=u.start.row}return r},a.prototype.replace=function(l,d){var u=this.$options,s=this.$assembleRegExp(u);if(u.$isMultiLine)return d;if(s){var r=s.exec(l);if(!r||r[0].length!=l.length)return null;if(u.regExp||(d=d.replace(/\$/g,"$$$$")),d=l.replace(s,d),u.preserveCase){d=d.split("");for(var f=Math.min(l.length,l.length);f--;){var v=l[f];v&&v.toLowerCase()!=v?d[f]=d[f].toUpperCase():d[f]=d[f].toLowerCase()}d=d.join("")}return d}},a.prototype.$assembleRegExp=function(l,d){if(l.needle instanceof RegExp)return l.re=l.needle;var u=l.needle;if(!l.needle)return l.re=!1;l.regExp||(u=o.escapeRegExp(u));var s=l.caseSensitive?"gm":"gmi";try{new RegExp(u,"u"),l.$supportsUnicodeFlag=!0,s+="u"}catch{l.$supportsUnicodeFlag=!1}if(l.wholeWord&&(u=g(u,l)),l.$isMultiLine=!d&&/[\n\r]/.test(u),l.$isMultiLine)return l.re=this.$assembleMultilineRegExp(u,s);try{var r=new RegExp(u,s)}catch{r=!1}return l.re=r},a.prototype.$assembleMultilineRegExp=function(l,d){for(var u=l.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),s=[],r=0;r<u.length;r++)try{s.push(new RegExp(u[r],d))}catch{return!1}return s},a.prototype.$matchIterator=function(l,d){var u=this.$assembleRegExp(d);if(!u)return!1;var s=d.backwards==!0,r=d.skipCurrent!=!1,f=u.unicode,v=d.range,y=d.start;y||(y=v?v[s?"end":"start"]:l.selection.getRange()),y.start&&(y=y[r!=s?"end":"start"]);var C=v?v.start.row:0,x=v?v.end.row:l.getLength()-1;if(s)var w=function(A){var M=y.row;if(!T(M,y.column,A)){for(M--;M>=C;M--)if(T(M,Number.MAX_VALUE,A))return;if(d.wrap!=!1){for(M=x,C=y.row;M>=C;M--)if(T(M,Number.MAX_VALUE,A))return}}};else var w=function(M){var L=y.row;if(!T(L,y.column,M)){for(L=L+1;L<=x;L++)if(T(L,0,M))return;if(d.wrap!=!1){for(L=C,x=y.row;L<=x;L++)if(T(L,0,M))return}}};if(d.$isMultiLine)var k=u.length,T=function(A,M,L){var R=s?A-k+1:A;if(!(R<0||R+k>l.getLength())){var _=l.getLine(R),b=_.search(u[0]);if(!(!s&&b<M||b===-1)){for(var E=1;E<k;E++)if(_=l.getLine(R+E),_.search(u[E])==-1)return;var S=_.match(u[k-1])[0].length;if(!(s&&S>M)&&L(R,b,R+k-1,S))return!0}}};else if(s)var T=function(M,L,R){var _=l.getLine(M),b=[],E,S=0;for(u.lastIndex=0;E=u.exec(_);){var I=E[0].length;if(S=E.index,!I){if(S>=_.length)break;u.lastIndex=S+=o.skipEmptyMatch(_,S,f)}if(E.index+I>L)break;b.push(E.index,I)}for(var O=b.length-1;O>=0;O-=2){var D=b[O-1],I=b[O];if(R(M,D,M,D+I))return!0}};else var T=function(M,L,R){var _=l.getLine(M),b,E;for(u.lastIndex=L;E=u.exec(_);){var S=E[0].length;if(b=E.index,R(M,b,M,b+S))return!0;if(!S&&(u.lastIndex=b+=o.skipEmptyMatch(_,b,f),b>=_.length))return!1}};return{forEach:w}},a}();function g(a,l){var d=o.supportsLookbehind();function u(v,y){y===void 0&&(y=!0);var C=d&&l.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return C.test(v)||l.regExp?d&&l.$supportsUnicodeFlag?y?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var s=Array.from(a),r=s[0],f=s[s.length-1];return u(r)+a+u(f,!1)}n.Search=h}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,n,c){var o=this&&this.__extends||function(){var d=function(u,s){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(r[v]=f[v])},d(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");d(u,s);function r(){this.constructor=u}u.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),p=i("../lib/keys"),m=i("../lib/useragent"),h=p.KEY_MODS,g=function(){function d(u,s){this.$init(u,s,!1)}return d.prototype.$init=function(u,s,r){this.platform=s||(m.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(u),this.$singleCommand=r},d.prototype.addCommand=function(u){this.commands[u.name]&&this.removeCommand(u),this.commands[u.name]=u,u.bindKey&&this._buildKeyHash(u)},d.prototype.removeCommand=function(u,s){var r=u&&(typeof u=="string"?u:u.name);u=this.commands[r],s||delete this.commands[r];var f=this.commandKeyBinding;for(var v in f){var y=f[v];if(y==u)delete f[v];else if(Array.isArray(y)){var C=y.indexOf(u);C!=-1&&(y.splice(C,1),y.length==1&&(f[v]=y[0]))}}},d.prototype.bindKey=function(u,s,r){if(typeof u=="object"&&u&&(r==null&&(r=u.position),u=u[this.platform]),!!u){if(typeof s=="function")return this.addCommand({exec:s,bindKey:u,name:s.name||u});u.split("|").forEach(function(f){var v="";if(f.indexOf(" ")!=-1){var y=f.split(/\s+/);f=y.pop(),y.forEach(function(w){var k=this.parseKeys(w),T=h[k.hashId]+k.key;v+=(v?" ":"")+T,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var C=this.parseKeys(f),x=h[C.hashId]+C.key;this._addCommandToBinding(v+x,s,r)},this)}},d.prototype._addCommandToBinding=function(u,s,r){var f=this.commandKeyBinding,v;if(!s)delete f[u];else if(!f[u]||this.$singleCommand)f[u]=s;else{Array.isArray(f[u])?(v=f[u].indexOf(s))!=-1&&f[u].splice(v,1):f[u]=[f[u]],typeof r!="number"&&(r=a(s));var y=f[u];for(v=0;v<y.length;v++){var C=y[v],x=a(C);if(x>r)break}y.splice(v,0,s)}},d.prototype.addCommands=function(u){u&&Object.keys(u).forEach(function(s){var r=u[s];if(r){if(typeof r=="string")return this.bindKey(r,s);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=s),this.addCommand(r))}},this)},d.prototype.removeCommands=function(u){Object.keys(u).forEach(function(s){this.removeCommand(u[s])},this)},d.prototype.bindKeys=function(u){Object.keys(u).forEach(function(s){this.bindKey(s,u[s])},this)},d.prototype._buildKeyHash=function(u){this.bindKey(u.bindKey,u)},d.prototype.parseKeys=function(u){var s=u.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),r=s.pop(),f=p[r];if(p.FUNCTION_KEYS[f])r=p.FUNCTION_KEYS[f].toLowerCase();else if(s.length){if(s.length==1&&s[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(var v=0,y=s.length;y--;){var C=p.KEY_MODS[s[y]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+s[y]+" in "+u),!1;v|=C}return{key:r,hashId:v}},d.prototype.findKeyCommand=function(u,s){var r=h[u]+s;return this.commandKeyBinding[r]},d.prototype.handleKeyboard=function(u,s,r,f){if(!(f<0)){var v=h[s]+r,y=this.commandKeyBinding[v];return u.$keyChain&&(u.$keyChain+=" "+v,y=this.commandKeyBinding[u.$keyChain]||y),y&&(y=="chainKeys"||y[y.length-1]=="chainKeys")?(u.$keyChain=u.$keyChain||v,{command:"null"}):(u.$keyChain&&((!s||s==4)&&r.length==1?u.$keyChain=u.$keyChain.slice(0,-v.length-1):(s==-1||f>0)&&(u.$keyChain="")),{command:y})}},d.prototype.getStatusText=function(u,s){return s.$keyChain||""},d}();function a(d){return typeof d=="object"&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}var l=function(d){o(u,d);function u(s,r){var f=d.call(this,s,r)||this;return f.$singleCommand=!0,f}return u}(g);l.call=function(d,u,s){g.prototype.$init.call(d,u,s,!0)},g.call=function(d,u,s){g.prototype.$init.call(d,u,s,!1)},n.HashHandler=l,n.MultiHashHandler=g}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(i,n,c){var o=this&&this.__extends||function(){var a=function(l,d){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,s){u.__proto__=s}||function(u,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(u[r]=s[r])},a(l,d)};return function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(l,d);function u(){this.constructor=l}l.prototype=d===null?Object.create(d):(u.prototype=d.prototype,new u)}}(),p=i("../lib/oop"),m=i("../keyboard/hash_handler").MultiHashHandler,h=i("../lib/event_emitter").EventEmitter,g=function(a){o(l,a);function l(d,u){var s=a.call(this,u,d)||this;return s.byName=s.commands,s.setDefaultHandler("exec",function(r){return r.args?r.command.exec(r.editor,r.args,r.event,!1):r.command.exec(r.editor,{},r.event,!0)}),s}return l.prototype.exec=function(d,u,s){if(Array.isArray(d)){for(var r=d.length;r--;)if(this.exec(d[r],u,s))return!0;return!1}if(typeof d=="string"&&(d=this.commands[d]),!this.canExecute(d,u))return!1;var f={editor:u,command:d,args:s};return f.returnValue=this._emit("exec",f),this._signal("afterExec",f),f.returnValue!==!1},l.prototype.canExecute=function(d,u){return typeof d=="string"&&(d=this.commands[d]),!(!d||u&&u.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(u))},l.prototype.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(u){this.macro.push([u.command,u.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},l.prototype.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(u){typeof u=="string"?this.exec(u,d):this.exec(u[0],d,u[1])},this)}finally{this.$inReplay=!1}}},l.prototype.trimMacro=function(d){return d.map(function(u){return typeof u[0]!="string"&&(u[0]=u[0].name),u[1]||(u=u[0]),u})},l}(m);p.implement(g.prototype,h),n.CommandManager=g}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(i,n,c){var o=i("../lib/lang"),p=i("../config"),m=i("../range").Range;function h(a,l){return{win:a,mac:l}}n.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:h("Ctrl-,","Command-,"),exec:function(a){p.loadModule("ace/ext/settings_menu",function(l){l.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:h("Alt-E","F4"),exec:function(a){p.loadModule("ace/ext/error_marker",function(l){l.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:h("Alt-Shift-E","Shift-F4"),exec:function(a){p.loadModule("ace/ext/error_marker",function(l){l.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:h("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:h(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:h("Ctrl-L","Command-L"),exec:function(a,l){typeof l=="number"&&!isNaN(l)&&a.gotoLine(l),a.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:h("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:h("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:h("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:h("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:h("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:h("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:h("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:h("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:h("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:h("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:h("Ctrl-F","Command-F"),exec:function(a){p.loadModule("ace/ext/searchbox",function(l){l.Search(a)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:h("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:h("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:h("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:h("Up","Up|Ctrl-P"),exec:function(a,l){a.navigateUp(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:h("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:h("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:h("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:h("Down","Down|Ctrl-N"),exec:function(a,l){a.navigateDown(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:h("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:h("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:h("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:h("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:h("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:h("Left","Left|Ctrl-B"),exec:function(a,l){a.navigateLeft(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:h("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:h("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:h("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:h("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:h("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:h("Right","Right|Ctrl-F"),exec:function(a,l){a.navigateRight(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:h(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:h("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:h(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:h("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:h("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:h("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:h("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:h("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:h("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:h("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:h(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(a){},readOnly:!0},{name:"cut",description:"Cut",exec:function(a){var l=a.$copyWithEmptySelection&&a.selection.isEmpty(),d=l?a.selection.getLineRange():a.selection.getRange();a._emit("cut",d),d.isEmpty()||a.session.remove(d),a.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(a,l){a.$handlePaste(l)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:h("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:h("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:h("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:h("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:h("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:h("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:h("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:h("Ctrl-H","Command-Option-F"),exec:function(a){p.loadModule("ace/ext/searchbox",function(l){l.Search(a,!0)})}},{name:"undo",description:"Undo",bindKey:h("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",description:"Redo",bindKey:h("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:h("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:h("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:h("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:h("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:h("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:h("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:h("Shift-Delete",null),exec:function(a){if(a.selection.isEmpty())a.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:h("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:h("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:h("Ctrl-Shift-Backspace",null),exec:function(a){var l=a.selection.getRange();l.start.column=0,a.session.remove(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:h("Ctrl-Shift-Delete",null),exec:function(a){var l=a.selection.getRange();l.end.column=Number.MAX_VALUE,a.session.remove(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:h("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:h("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:h("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:h("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:h("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:h("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(a,l){a.insert(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(a,l){a.insert(o.stringRepeat(l.text||"",l.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:h(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:h("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:h("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:h("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:h(null,null),exec:function(a){a.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:h("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var l=a.selection.getRange();l.start.column=l.end.column=0,l.end.row++,a.selection.setRange(l,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:h("Ctrl+F3","F3"),exec:function(a){a.openLink()}},{name:"joinlines",description:"Join lines",bindKey:h(null,null),exec:function(a){for(var l=a.selection.isBackwards(),d=l?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),u=l?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),s=a.session.doc.getLine(d.row).length,r=a.session.doc.getTextRange(a.selection.getRange()),f=r.replace(/\n\s*/," ").length,v=a.session.doc.getLine(d.row),y=d.row+1;y<=u.row+1;y++){var C=o.stringTrimLeft(o.stringTrimRight(a.session.doc.getLine(y)));C.length!==0&&(C=" "+C),v+=C}u.row+1<a.session.doc.getLength()-1&&(v+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new m(d.row,0,u.row+2,0),v),f>0?(a.selection.moveCursorTo(d.row,d.column),a.selection.selectTo(d.row,d.column+f)):(s=a.session.doc.getLine(d.row).length>s?s+1:s,a.selection.moveCursorTo(d.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:h(null,null),exec:function(a){var l=a.session.doc.getLength()-1,d=a.session.doc.getLine(l).length,u=a.selection.rangeList.ranges,s=[];u.length<1&&(u=[a.selection.getRange()]);for(var r=0;r<u.length;r++)r==u.length-1&&(u[r].end.row===l&&u[r].end.column===d||s.push(new m(u[r].end.row,u[r].end.column,l,d))),r===0?u[r].start.row===0&&u[r].start.column===0||s.push(new m(0,0,u[r].start.row,u[r].start.column)):s.push(new m(u[r-1].end.row,u[r-1].end.column,u[r].start.row,u[r].start.column));a.exitMultiSelectMode(),a.clearSelection();for(var r=0;r<s.length;r++)a.selection.addRange(s[r],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(a){a.selection.clearSelection(),a.navigateLineEnd(),a.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(a){a.selection.clearSelection();var l=a.getCursorPosition();a.selection.moveTo(l.row-1,Number.MAX_VALUE),a.insert(`
`),l.row===0&&a.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(a){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),a.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:h("F1","F1"),exec:function(a){a.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:h(null,null),exec:function(a){a.prompt({$type:"modes"})},readOnly:!0}];for(var g=1;g<9;g++)n.commands.push({name:"foldToLevel"+g,description:"Fold To Level "+g,level:g,exec:function(a){a.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(i,n,c){var o=i("../lib/keys"),p=i("../mouse/default_gutter_handler").GutterTooltip,m=function(){function g(a){this.editor=a,this.gutterLayer=a.renderer.$gutterLayer,this.element=a.renderer.$gutter,this.lines=a.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new p(this.editor)}return g.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},g.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},g.prototype.$onGutterKeyDown=function(a){if(this.annotationTooltip.isOpen){a.preventDefault(),a.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(a.target===this.element){if(a.keyCode!=o.enter)return;a.preventDefault();var l=this.editor.getCursorPosition().row;this.editor.isRowVisible(l)||this.editor.scrollToLine(l,!0,!0),setTimeout((function(){var d=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),u=this.$findNearestFoldWidget(d),s=this.$findNearestAnnotation(d);if(!(u===null&&s===null)){if(u===null&&s!==null){this.activeRowIndex=s,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(u!==null&&s===null){this.activeRowIndex=u,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(s-d)<Math.abs(u-d)){this.activeRowIndex=s,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=u,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(a),setTimeout((function(){this.editor._signal("gutterkeydown",new h(a,this))}).bind(this),10)},g.prototype.$handleGutterKeyboardInteraction=function(a){if(a.keyCode===o.tab){a.preventDefault();return}if(a.keyCode===o.escape){a.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(a.keyCode===o.up){switch(a.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(a.keyCode===o.down){switch(a.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(a.keyCode===o.left){a.preventDefault(),this.$switchLane("annotation");return}if(a.keyCode===o.right){a.preventDefault(),this.$switchLane("fold");return}if(a.keyCode===o.enter||a.keyCode===o.space){switch(a.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var l=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),a),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==l&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(l),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var d=this.lines.cells[this.activeRowIndex].element.childNodes[2],u=d.getBoundingClientRect(),s=this.annotationTooltip.getElement().style;s.left=u.right+"px",s.top=u.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},g.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},g.prototype.$isFoldWidgetVisible=function(a){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(a)),d=this.$getFoldWidget(a).style.display!=="none";return l&&d},g.prototype.$isAnnotationVisible=function(a){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(a)),d=this.$getAnnotation(a).style.display!=="none";return l&&d},g.prototype.$getFoldWidget=function(a){var l=this.lines.get(a),d=l.element;return d.childNodes[1]},g.prototype.$getAnnotation=function(a){var l=this.lines.get(a),d=l.element;return d.childNodes[2]},g.prototype.$findNearestFoldWidget=function(a){if(this.$isFoldWidgetVisible(a))return a;for(var l=0;a-l>0||a+l<this.lines.getLength()-1;){if(l++,a-l>=0&&this.$isFoldWidgetVisible(a-l))return a-l;if(a+l<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(a+l))return a+l}return null},g.prototype.$findNearestAnnotation=function(a){if(this.$isAnnotationVisible(a))return a;for(var l=0;a-l>0||a+l<this.lines.getLength()-1;){if(l++,a-l>=0&&this.$isAnnotationVisible(a-l))return a-l;if(a+l<=this.lines.getLength()-1&&this.$isAnnotationVisible(a+l))return a+l}return null},g.prototype.$focusFoldWidget=function(a){if(a!=null){var l=this.$getFoldWidget(a);l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus()}},g.prototype.$focusAnnotation=function(a){if(a!=null){var l=this.$getAnnotation(a);l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus()}},g.prototype.$blurFoldWidget=function(a){var l=this.$getFoldWidget(a);l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur()},g.prototype.$blurAnnotation=function(a){var l=this.$getAnnotation(a);l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur()},g.prototype.$moveFoldWidgetUp=function(){for(var a=this.activeRowIndex;a>0;)if(a--,this.$isFoldWidgetVisible(a)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);return}},g.prototype.$moveFoldWidgetDown=function(){for(var a=this.activeRowIndex;a<this.lines.getLength()-1;)if(a++,this.$isFoldWidgetVisible(a)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);return}},g.prototype.$moveAnnotationUp=function(){for(var a=this.activeRowIndex;a>0;)if(a--,this.$isAnnotationVisible(a)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);return}},g.prototype.$moveAnnotationDown=function(){for(var a=this.activeRowIndex;a<this.lines.getLength()-1;)if(a++,this.$isAnnotationVisible(a)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);return}},g.prototype.$switchLane=function(a){switch(a){case"annotation":if(this.activeLane==="annotation")break;var l=this.$findNearestAnnotation(this.activeRowIndex);if(l==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var d=this.$findNearestFoldWidget(this.activeRowIndex);if(d==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$focusFoldWidget(this.activeRowIndex);break}},g.prototype.$rowIndexToRow=function(a){var l=this.lines.get(a);return l?l.row:null},g.prototype.$rowToRowIndex=function(a){for(var l=0;l<this.lines.getLength();l++){var d=this.lines.get(l);if(d.row==a)return l}return null},g}();n.GutterKeyboardHandler=m;var h=function(){function g(a,l){this.gutterKeyboardHandler=l,this.domEvent=a}return g.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},g.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},g.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},g.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},g}();n.GutterKeyboardEvent=h}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(i,n,c){var o=this&&this.__values||function(_){var b=typeof Symbol=="function"&&Symbol.iterator,E=b&&_[b],S=0;if(E)return E.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&S>=_.length&&(_=void 0),{value:_&&_[S++],done:!_}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},p=i("./lib/oop"),m=i("./lib/dom"),h=i("./lib/lang"),g=i("./lib/useragent"),a=i("./keyboard/textinput").TextInput,l=i("./mouse/mouse_handler").MouseHandler,d=i("./mouse/fold_handler").FoldHandler,u=i("./keyboard/keybinding").KeyBinding,s=i("./edit_session").EditSession,r=i("./search").Search,f=i("./range").Range,v=i("./lib/event_emitter").EventEmitter,y=i("./commands/command_manager").CommandManager,C=i("./commands/default_commands").commands,x=i("./config"),w=i("./token_iterator").TokenIterator,k=i("./keyboard/gutter_handler").GutterKeyboardHandler,T=i("./config").nls,A=i("./clipboard"),M=i("./lib/keys"),L=function(){function _(b,E,S){this.session,this.$toDestroy=[];var I=b.getContainerElement();this.container=I,this.renderer=b,this.id="editor"+ ++_.$uid,this.commands=new y(g.isMac?"mac":"win",C),typeof document=="object"&&(this.textInput=new a(b.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new d(this)),this.keyBinding=new u(this),this.$search=new r().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(O,D){D._$emitInputEvent.schedule(31)}),this.setSession(E||S&&S.session||new s("")),x.resetOptions(this),S&&this.setOptions(S),x._signal("editor",this)}return _.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},_.prototype.startOperation=function(b){this.session.startOperation(b)},_.prototype.endOperation=function(b){this.session.endOperation(b)},_.prototype.onStartOperation=function(b){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,b||(this.previousCommand=null)},_.prototype.onEndOperation=function(b){if(this.curOp&&this.session){if(b&&b.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var E=this.curOp.command,S=E&&E.scrollIntoView;if(S){switch(S){case"center-animate":S="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var I=this.selection.getRange(),O=this.renderer.layerConfig;(I.start.row>=O.lastRow||I.end.row<=O.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}S=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},_.prototype.$historyTracker=function(b){if(this.$mergeUndoDeltas){var E=this.prevOp,S=this.$mergeableCommands,I=E.command&&b.command.name==E.command.name;if(b.command.name=="insertstring"){var O=b.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),I=I&&this.mergeNextCommand&&(!/\s/.test(O)||/\s/.test(E.args)),this.mergeNextCommand=!0}else I=I&&S.indexOf(b.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(I=!1),I?this.session.mergeUndoDeltas=!0:S.indexOf(b.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},_.prototype.setKeyboardHandler=function(b,E){if(b&&typeof b=="string"&&b!="ace"){this.$keybindingId=b;var S=this;x.loadModule(["keybinding",b],function(I){S.$keybindingId==b&&S.keyBinding.setKeyboardHandler(I&&I.handler),E&&E()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(b),E&&E()},_.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},_.prototype.setSession=function(b){if(this.session!=b){this.curOp&&this.endOperation(),this.curOp={};var E=this.session;if(E){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var S=this.session.getSelection();S.off("changeCursor",this.$onCursorChange),S.off("changeSelection",this.$onSelectionChange)}this.session=b,b?(this.$onDocumentChange=this.onDocumentChange.bind(this),b.on("change",this.$onDocumentChange),this.renderer.setSession(b),this.$onChangeMode=this.onChangeMode.bind(this),b.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),b.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),b.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),b.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),b.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),b.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=b.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(b)),this._signal("changeSession",{session:b,oldSession:E}),this.curOp=null,E&&E._signal("changeEditor",{oldEditor:this}),E&&(E.$editor=null),b&&b._signal("changeEditor",{editor:this}),b&&(b.$editor=this),b&&!b.destroyed&&b.bgTokenizer.scheduleStart()}},_.prototype.getSession=function(){return this.session},_.prototype.setValue=function(b,E){return this.session.doc.setValue(b),E?E==1?this.navigateFileEnd():E==-1&&this.navigateFileStart():this.selectAll(),b},_.prototype.getValue=function(){return this.session.getValue()},_.prototype.getSelection=function(){return this.selection},_.prototype.resize=function(b){this.renderer.onResize(b)},_.prototype.setTheme=function(b,E){this.renderer.setTheme(b,E)},_.prototype.getTheme=function(){return this.renderer.getTheme()},_.prototype.setStyle=function(b){this.renderer.setStyle(b)},_.prototype.unsetStyle=function(b){this.renderer.unsetStyle(b)},_.prototype.getFontSize=function(){return this.getOption("fontSize")||m.computedStyle(this.container).fontSize},_.prototype.setFontSize=function(b){this.setOption("fontSize",b)},_.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var b=this;this.$highlightPending=!0,setTimeout(function(){b.$highlightPending=!1;var E=b.session;if(!(!E||E.destroyed)){E.$bracketHighlight&&(E.$bracketHighlight.markerIds.forEach(function(N){E.removeMarker(N)}),E.$bracketHighlight=null);var S=b.getCursorPosition(),I=b.getKeyboardHandler(),O=I&&I.$getDirectionForHighlight&&I.$getDirectionForHighlight(b),D=E.getMatchingBracketRanges(S,O);if(!D){var P=new w(E,S.row,S.column),B=P.getCurrentToken();if(B&&/\b(?:tag-open|tag-name)/.test(B.type)){var F=E.getMatchingTags(S);F&&(D=[F.openTagName.isEmpty()?F.openTag:F.openTagName,F.closeTagName.isEmpty()?F.closeTag:F.closeTagName])}}if(!D&&E.$mode.getMatching&&(D=E.$mode.getMatching(b.session)),!D){b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide();return}var W="ace_bracket";Array.isArray(D)?D.length==1&&(W="ace_error_bracket"):D=[D],D.length==2&&(f.comparePoints(D[0].end,D[1].start)==0?D=[f.fromPoints(D[0].start,D[1].end)]:f.comparePoints(D[0].start,D[1].end)==0&&(D=[f.fromPoints(D[1].start,D[0].end)])),E.$bracketHighlight={ranges:D,markerIds:D.map(function(N){return E.addMarker(N,W,"text")})},b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide()}},50)}},_.prototype.focus=function(){this.textInput.focus()},_.prototype.isFocused=function(){return this.textInput.isFocused()},_.prototype.blur=function(){this.textInput.blur()},_.prototype.onFocus=function(b){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",b))},_.prototype.onBlur=function(b){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",b))},_.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},_.prototype.onDocumentChange=function(b){var E=this.session.$useWrapMode,S=b.start.row==b.end.row?b.end.row:1/0;this.renderer.updateLines(b.start.row,S,E),this._signal("change",b),this.$cursorChange()},_.prototype.onTokenizerUpdate=function(b){var E=b.data;this.renderer.updateLines(E.first,E.last)},_.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},_.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},_.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},_.prototype.$updateHighlightActiveLine=function(){var b=this.getSession(),E;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(E=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(E=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(E=!1)),b.$highlightLineMarker&&!E)b.removeMarker(b.$highlightLineMarker.id),b.$highlightLineMarker=null;else if(!b.$highlightLineMarker&&E){var S=new f(E.row,E.column,E.row,1/0);S.id=b.addMarker(S,"ace_active-line","screenLine"),b.$highlightLineMarker=S}else E&&(b.$highlightLineMarker.start.row=E.row,b.$highlightLineMarker.end.row=E.row,b.$highlightLineMarker.start.column=E.column,b._signal("changeBackMarker"))},_.prototype.onSelectionChange=function(b){var E=this.session;if(E.$selectionMarker&&E.removeMarker(E.$selectionMarker),E.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var S=this.selection.getRange(),I=this.getSelectionStyle();E.$selectionMarker=E.addMarker(S,"ace_selection",I)}var O=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(O),this._signal("changeSelection")},_.prototype.$getSelectionHighLightRegexp=function(){var b=this.session,E=this.getSelectionRange();if(!(E.isEmpty()||E.isMultiLine())){var S=E.start.column,I=E.end.column,O=b.getLine(E.start.row),D=O.substring(S,I);if(!(D.length>5e3||!/[\w\d]/.test(D))){var P=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:D}),B=O.substring(S-1,I+1);if(P.test(B))return P}}},_.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},_.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},_.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},_.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},_.prototype.onChangeMode=function(b){this.renderer.updateText(),this._emit("changeMode",b)},_.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},_.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},_.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},_.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},_.prototype.getCopyText=function(){var b=this.getSelectedText(),E=this.session.doc.getNewLineCharacter(),S=!1;if(!b&&this.$copyWithEmptySelection){S=!0;for(var I=this.selection.getAllRanges(),O=0;O<I.length;O++){var D=I[O];O&&I[O-1].start.row==D.start.row||(b+=this.session.getLine(D.start.row)+E)}}var P={text:b};return this._signal("copy",P),A.lineMode=S?P.text:!1,P.text},_.prototype.onCopy=function(){this.commands.exec("copy",this)},_.prototype.onCut=function(){this.commands.exec("cut",this)},_.prototype.onPaste=function(b,E){var S={text:b,event:E};this.commands.exec("paste",this,S)},_.prototype.$handlePaste=function(b){typeof b=="string"&&(b={text:b}),this._signal("paste",b);var E=b.text,S=E===A.lineMode,I=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)S?I.insert({row:this.selection.lead.row,column:0},E):this.insert(E);else if(S)this.selection.rangeList.ranges.forEach(function(W){I.insert({row:W.start.row,column:0},E)});else{var O=E.split(/\r\n|\r|\n/),D=this.selection.rangeList.ranges,P=O.length==2&&(!O[0]||!O[1]);if(O.length!=D.length||P)return this.commands.exec("insertstring",this,E);for(var B=D.length;B--;){var F=D[B];F.isEmpty()||I.remove(F),I.insert(F.start,O[B])}}},_.prototype.execCommand=function(b,E){return this.commands.exec(b,this,E)},_.prototype.insert=function(b,E){var S=this.session,I=S.getMode(),O=this.getCursorPosition();if(this.getBehavioursEnabled()&&!E){var D=I.transformAction(S.getState(O.row),"insertion",this,S,b);D&&(b!==D.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),b=D.text)}if(b=="	"&&(b=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&b.indexOf(`
`)==-1){var P=f.fromPoints(O,O);P.end.column+=b.length,this.session.remove(P)}}else{var P=this.getSelectionRange();O=this.session.remove(P),this.clearSelection()}if(b==`
`||b==`\r
`){var N=S.getLine(O.row);if(O.column>N.search(/\S|$/)){var B=N.substr(O.column).search(/\S|$/);S.doc.removeInLine(O.row,O.column,O.column+B)}}this.clearSelection();var F=O.column,W=S.getState(O.row),N=S.getLine(O.row),j=I.checkOutdent(W,N,b);if(S.insert(O,b),D&&D.selection&&(D.selection.length==2?this.selection.setSelectionRange(new f(O.row,F+D.selection[0],O.row,F+D.selection[1])):this.selection.setSelectionRange(new f(O.row+D.selection[0],D.selection[1],O.row+D.selection[2],D.selection[3]))),this.$enableAutoIndent){if(S.getDocument().isNewLine(b)){var V=I.getNextLineIndent(W,N.slice(0,O.column),S.getTabString());S.insert({row:O.row+1,column:0},V)}j&&I.autoOutdent(W,S,O.row)}},_.prototype.autoIndent=function(){for(var b=this.session,E=b.getMode(),S=this.selection.isEmpty()?[new f(0,0,b.doc.getLength()-1,0)]:this.selection.getAllRanges(),I="",O="",D="",P=b.getTabString(),B=0;B<S.length;B++)for(var F=S[B].start.row,W=S[B].end.row,N=F;N<=W;N++){N>0&&(I=b.getState(N-1),O=b.getLine(N-1),D=E.getNextLineIndent(I,O,P));var j=b.getLine(N),V=E.$getIndent(j);if(D!==V){if(V.length>0){var H=new f(N,0,N,V.length);b.remove(H)}D.length>0&&b.insert({row:N,column:0},D)}E.autoOutdent(I,b,N)}},_.prototype.onTextInput=function(b,E){if(!E)return this.keyBinding.onTextInput(b);this.startOperation({command:{name:"insertstring"}});var S=this.applyComposition.bind(this,b,E);this.selection.rangeCount?this.forEachSelection(S):S(),this.endOperation()},_.prototype.applyComposition=function(b,E){if(E.extendLeft||E.extendRight){var S=this.selection.getRange();S.start.column-=E.extendLeft,S.end.column+=E.extendRight,S.start.column<0&&(S.start.row--,S.start.column+=this.session.getLine(S.start.row).length+1),this.selection.setRange(S),!b&&!S.isEmpty()&&this.remove()}if((b||!this.selection.isEmpty())&&this.insert(b,!0),E.restoreStart||E.restoreEnd){var S=this.selection.getRange();S.start.column-=E.restoreStart,S.end.column-=E.restoreEnd,this.selection.setRange(S)}},_.prototype.onCommandKey=function(b,E,S){return this.keyBinding.onCommandKey(b,E,S)},_.prototype.setOverwrite=function(b){this.session.setOverwrite(b)},_.prototype.getOverwrite=function(){return this.session.getOverwrite()},_.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},_.prototype.setScrollSpeed=function(b){this.setOption("scrollSpeed",b)},_.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},_.prototype.setDragDelay=function(b){this.setOption("dragDelay",b)},_.prototype.getDragDelay=function(){return this.getOption("dragDelay")},_.prototype.setSelectionStyle=function(b){this.setOption("selectionStyle",b)},_.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},_.prototype.setHighlightActiveLine=function(b){this.setOption("highlightActiveLine",b)},_.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},_.prototype.setHighlightGutterLine=function(b){this.setOption("highlightGutterLine",b)},_.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},_.prototype.setHighlightSelectedWord=function(b){this.setOption("highlightSelectedWord",b)},_.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},_.prototype.setAnimatedScroll=function(b){this.renderer.setAnimatedScroll(b)},_.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},_.prototype.setShowInvisibles=function(b){this.renderer.setShowInvisibles(b)},_.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},_.prototype.setDisplayIndentGuides=function(b){this.renderer.setDisplayIndentGuides(b)},_.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},_.prototype.setHighlightIndentGuides=function(b){this.renderer.setHighlightIndentGuides(b)},_.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},_.prototype.setShowPrintMargin=function(b){this.renderer.setShowPrintMargin(b)},_.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},_.prototype.setPrintMarginColumn=function(b){this.renderer.setPrintMarginColumn(b)},_.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},_.prototype.setReadOnly=function(b){this.setOption("readOnly",b)},_.prototype.getReadOnly=function(){return this.getOption("readOnly")},_.prototype.setBehavioursEnabled=function(b){this.setOption("behavioursEnabled",b)},_.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},_.prototype.setWrapBehavioursEnabled=function(b){this.setOption("wrapBehavioursEnabled",b)},_.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},_.prototype.setShowFoldWidgets=function(b){this.setOption("showFoldWidgets",b)},_.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},_.prototype.setFadeFoldWidgets=function(b){this.setOption("fadeFoldWidgets",b)},_.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},_.prototype.remove=function(b){this.selection.isEmpty()&&(b=="left"?this.selection.selectLeft():this.selection.selectRight());var E=this.getSelectionRange();if(this.getBehavioursEnabled()){var S=this.session,I=S.getState(E.start.row),O=S.getMode().transformAction(I,"deletion",this,S,E);if(E.end.column===0){var D=S.getTextRange(E);if(D[D.length-1]==`
`){var P=S.getLine(E.end.row);/^\s+$/.test(P)&&(E.end.column=P.length)}}O&&(E=O)}this.session.remove(E),this.clearSelection()},_.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var b=this.getSelectionRange();b.start.column==b.end.column&&b.start.row==b.end.row&&(b.end.column=0,b.end.row++),this.session.remove(b),this.clearSelection()},_.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var b=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(b)},_.prototype.setGhostText=function(b,E){this.renderer.setGhostText(b,E)},_.prototype.removeGhostText=function(){this.renderer.removeGhostText()},_.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var b=this.getCursorPosition(),E=b.column;if(E!==0){var S=this.session.getLine(b.row),I,O;E<S.length?(I=S.charAt(E)+S.charAt(E-1),O=new f(b.row,E-1,b.row,E+1)):(I=S.charAt(E-1)+S.charAt(E-2),O=new f(b.row,E-2,b.row,E)),this.session.replace(O,I),this.session.selection.moveToPosition(O.end)}}},_.prototype.toLowerCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var E=this.getSelectionRange(),S=this.session.getTextRange(E);this.session.replace(E,S.toLowerCase()),this.selection.setSelectionRange(b)},_.prototype.toUpperCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var E=this.getSelectionRange(),S=this.session.getTextRange(E);this.session.replace(E,S.toUpperCase()),this.selection.setSelectionRange(b)},_.prototype.indent=function(){var b=this.session,E=this.getSelectionRange();if(E.start.row<E.end.row){var S=this.$getSelectedRows();b.indentRows(S.first,S.last,"	");return}else if(E.start.column<E.end.column){var I=b.getTextRange(E);if(!/^\s+$/.test(I)){var S=this.$getSelectedRows();b.indentRows(S.first,S.last,"	");return}}var O=b.getLine(E.start.row),D=E.start,P=b.getTabSize(),B=b.documentToScreenColumn(D.row,D.column);if(this.session.getUseSoftTabs())var F=P-B%P,W=h.stringRepeat(" ",F);else{for(var F=B%P;O[E.start.column-1]==" "&&F;)E.start.column--,F--;this.selection.setSelectionRange(E),W="	"}return this.insert(W)},_.prototype.blockIndent=function(){var b=this.$getSelectedRows();this.session.indentRows(b.first,b.last,"	")},_.prototype.blockOutdent=function(){var b=this.session.getSelection();this.session.outdentRows(b.getRange())},_.prototype.sortLines=function(){for(var b=this.$getSelectedRows(),E=this.session,S=[],I=b.first;I<=b.last;I++)S.push(E.getLine(I));S.sort(function(P,B){return P.toLowerCase()<B.toLowerCase()?-1:P.toLowerCase()>B.toLowerCase()?1:0});for(var O=new f(0,0,0,0),I=b.first;I<=b.last;I++){var D=E.getLine(I);O.start.row=I,O.end.row=I,O.end.column=D.length,E.replace(O,S[I-b.first])}},_.prototype.toggleCommentLines=function(){var b=this.session.getState(this.getCursorPosition().row),E=this.$getSelectedRows();this.session.getMode().toggleCommentLines(b,this.session,E.first,E.last)},_.prototype.toggleBlockComment=function(){var b=this.getCursorPosition(),E=this.session.getState(b.row),S=this.getSelectionRange();this.session.getMode().toggleBlockComment(E,this.session,S,b)},_.prototype.getNumberAt=function(b,E){var S=/[\-]?[0-9]+(?:\.[0-9]+)?/g;S.lastIndex=0;for(var I=this.session.getLine(b);S.lastIndex<E;){var O=S.exec(I);if(O.index<=E&&O.index+O[0].length>=E){var D={value:O[0],start:O.index,end:O.index+O[0].length};return D}}return null},_.prototype.modifyNumber=function(b){var E=this.selection.getCursor().row,S=this.selection.getCursor().column,I=new f(E,S-1,E,S),O=this.session.getTextRange(I);if(!isNaN(parseFloat(O))&&isFinite(O)){var D=this.getNumberAt(E,S);if(D){var P=D.value.indexOf(".")>=0?D.start+D.value.indexOf(".")+1:D.end,B=D.start+D.value.length-P,F=parseFloat(D.value);F*=Math.pow(10,B),P!==D.end&&S<P?b*=Math.pow(10,D.end-S-1):b*=Math.pow(10,D.end-S),F+=b,F/=Math.pow(10,B);var W=F.toFixed(B),N=new f(E,D.start,E,D.end);this.session.replace(N,W),this.moveCursorTo(E,Math.max(D.start+1,S+W.length-D.value.length))}}else this.toggleWord()},_.prototype.toggleWord=function(){var b=this.selection.getCursor().row,E=this.selection.getCursor().column;this.selection.selectWord();var S=this.getSelectedText(),I=this.selection.getWordRange().start.column,O=S.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),D=E-I-1;D<0&&(D=0);var P=0,B=0,F=this;S.match(/[A-Za-z0-9_]+/)&&O.forEach(function(K,ee){B=P+K.length,D>=P&&D<=B&&(S=K,F.selection.clearSelection(),F.moveCursorTo(b,P+I),F.selection.selectTo(b,B+I)),P=B});for(var W=this.$toggleWordPairs,N,j=0;j<W.length;j++)for(var V=W[j],H=0;H<=1;H++){var G=+!H,X=S.match(new RegExp("^\\s?_?("+h.escapeRegExp(V[H])+")\\s?$","i"));if(X){var J=S.match(new RegExp("([_]|^|\\s)("+h.escapeRegExp(X[1])+")($|\\s)","g"));J&&(N=S.replace(new RegExp(h.escapeRegExp(V[H]),"i"),function(K){var ee=V[G];return K.toUpperCase()==K?ee=ee.toUpperCase():K.charAt(0).toUpperCase()==K.charAt(0)&&(ee=ee.substr(0,0)+V[G].charAt(0).toUpperCase()+ee.substr(1)),ee}),this.insert(N),N="")}}},_.prototype.findLinkAt=function(b,E){var S,I,O=this.session.getLine(b),D=O.split(/((?:https?|ftp):\/\/[\S]+)/),P=E;P<0&&(P=0);var B=0,F=0,W;try{for(var N=o(D),j=N.next();!j.done;j=N.next()){var V=j.value;if(F=B+V.length,P>=B&&P<=F&&V.match(/((?:https?|ftp):\/\/[\S]+)/)){W=V.replace(/[\s:.,'";}\]]+$/,"");break}B=F}}catch(H){S={error:H}}finally{try{j&&!j.done&&(I=N.return)&&I.call(N)}finally{if(S)throw S.error}}return W},_.prototype.openLink=function(){var b=this.selection.getCursor(),E=this.findLinkAt(b.row,b.column);return E&&window.open(E,"_blank"),E!=null},_.prototype.removeLines=function(){var b=this.$getSelectedRows();this.session.removeFullLines(b.first,b.last),this.clearSelection()},_.prototype.duplicateSelection=function(){var b=this.selection,E=this.session,S=b.getRange(),I=b.isBackwards();if(S.isEmpty()){var O=S.start.row;E.duplicateLines(O,O)}else{var D=I?S.start:S.end,P=E.insert(D,E.getTextRange(S));S.start=D,S.end=P,b.setSelectionRange(S,I)}},_.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},_.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},_.prototype.moveText=function(b,E,S){return this.session.moveText(b,E,S)},_.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},_.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},_.prototype.$moveLines=function(b,E){var S,I,O=this.selection;if(!O.inMultiSelectMode||this.inVirtualSelectionMode){var D=O.toOrientedRange();S=this.$getSelectedRows(D),I=this.session.$moveLines(S.first,S.last,E?0:b),E&&b==-1&&(I=0),D.moveBy(I,0),O.fromOrientedRange(D)}else{var P=O.rangeList.ranges;O.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var B=0,F=0,W=P.length,N=0;N<W;N++){var j=N;P[N].moveBy(B,0),S=this.$getSelectedRows(P[N]);for(var V=S.first,H=S.last;++N<W;){F&&P[N].moveBy(F,0);var G=this.$getSelectedRows(P[N]);if(E&&G.first!=H)break;if(!E&&G.first>H+1)break;H=G.last}for(N--,B=this.session.$moveLines(V,H,E?0:b),E&&b==-1&&(j=N+1);j<=N;)P[j].moveBy(B,0),j++;E||(B=0),F+=B}O.fromOrientedRange(O.ranges[0]),O.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},_.prototype.$getSelectedRows=function(b){return b=(b||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(b.start.row),last:this.session.getRowFoldEnd(b.end.row)}},_.prototype.onCompositionStart=function(b){this.renderer.showComposition(b)},_.prototype.onCompositionUpdate=function(b){this.renderer.setCompositionText(b)},_.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},_.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},_.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},_.prototype.isRowVisible=function(b){return b>=this.getFirstVisibleRow()&&b<=this.getLastVisibleRow()},_.prototype.isRowFullyVisible=function(b){return b>=this.renderer.getFirstFullyVisibleRow()&&b<=this.renderer.getLastFullyVisibleRow()},_.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},_.prototype.$moveByPage=function(b,E){var S=this.renderer,I=this.renderer.layerConfig,O=b*Math.floor(I.height/I.lineHeight);E===!0?this.selection.$moveSelection(function(){this.moveCursorBy(O,0)}):E===!1&&(this.selection.moveCursorBy(O,0),this.selection.clearSelection());var D=S.scrollTop;S.scrollBy(0,O*I.lineHeight),E!=null&&S.scrollCursorIntoView(null,.5),S.animateScrolling(D)},_.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},_.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},_.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},_.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},_.prototype.scrollPageDown=function(){this.$moveByPage(1)},_.prototype.scrollPageUp=function(){this.$moveByPage(-1)},_.prototype.scrollToRow=function(b){this.renderer.scrollToRow(b)},_.prototype.scrollToLine=function(b,E,S,I){this.renderer.scrollToLine(b,E,S,I)},_.prototype.centerSelection=function(){var b=this.getSelectionRange(),E={row:Math.floor(b.start.row+(b.end.row-b.start.row)/2),column:Math.floor(b.start.column+(b.end.column-b.start.column)/2)};this.renderer.alignCursor(E,.5)},_.prototype.getCursorPosition=function(){return this.selection.getCursor()},_.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},_.prototype.getSelectionRange=function(){return this.selection.getRange()},_.prototype.selectAll=function(){this.selection.selectAll()},_.prototype.clearSelection=function(){this.selection.clearSelection()},_.prototype.moveCursorTo=function(b,E){this.selection.moveCursorTo(b,E)},_.prototype.moveCursorToPosition=function(b){this.selection.moveCursorToPosition(b)},_.prototype.jumpToMatching=function(b,E){var S=this.getCursorPosition(),I=new w(this.session,S.row,S.column),O=I.getCurrentToken(),D=0;O&&O.type.indexOf("tag-name")!==-1&&(O=I.stepBackward());var P=O||I.stepForward();if(P){var B,F=!1,W={},N=S.column-P.start,j,V={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(P.value.match(/[{}()\[\]]/g)){for(;N<P.value.length&&!F;N++)if(V[P.value[N]])switch(j=V[P.value[N]]+"."+P.type.replace("rparen","lparen"),isNaN(W[j])&&(W[j]=0),P.value[N]){case"(":case"[":case"{":W[j]++;break;case")":case"]":case"}":W[j]--,W[j]===-1&&(B="bracket",F=!0);break}}else P.type.indexOf("tag-name")!==-1&&(isNaN(W[P.value])&&(W[P.value]=0),O.value==="<"&&D>1?W[P.value]++:O.value==="</"&&W[P.value]--,W[P.value]===-1&&(B="tag",F=!0));F||(O=P,D++,P=I.stepForward(),N=0)}while(P&&!F);if(B){var H,G;if(B==="bracket")H=this.session.getBracketRange(S),H||(H=new f(I.getCurrentTokenRow(),I.getCurrentTokenColumn()+N-1,I.getCurrentTokenRow(),I.getCurrentTokenColumn()+N-1),G=H.start,(E||G.row===S.row&&Math.abs(G.column-S.column)<2)&&(H=this.session.getBracketRange(G)));else if(B==="tag"){if(!P||P.type.indexOf("tag-name")===-1)return;if(H=new f(I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2,I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2),H.compare(S.row,S.column)===0){var X=this.session.getMatchingTags(S);X&&(X.openTag.contains(S.row,S.column)?(H=X.closeTag,G=H.start):(H=X.openTag,X.closeTag.start.row===S.row&&X.closeTag.start.column===S.column?G=H.end:G=H.start))}G=G||H.start}G=H&&H.cursor||G,G&&(b?H&&E?this.selection.setRange(H):H&&H.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(G.row,G.column):this.selection.moveTo(G.row,G.column))}}},_.prototype.gotoLine=function(b,E,S){this.selection.clearSelection(),this.session.unfold({row:b-1,column:E||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(b-1,E||0),this.isRowFullyVisible(b-1)||this.scrollToLine(b-1,!0,S)},_.prototype.navigateTo=function(b,E){this.selection.moveTo(b,E)},_.prototype.navigateUp=function(b){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var E=this.selection.anchor.getPosition();return this.moveCursorToPosition(E)}this.selection.clearSelection(),this.selection.moveCursorBy(-b||-1,0)},_.prototype.navigateDown=function(b){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var E=this.selection.anchor.getPosition();return this.moveCursorToPosition(E)}this.selection.clearSelection(),this.selection.moveCursorBy(b||1,0)},_.prototype.navigateLeft=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorLeft();else{var E=this.getSelectionRange().start;this.moveCursorToPosition(E)}this.clearSelection()},_.prototype.navigateRight=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorRight();else{var E=this.getSelectionRange().end;this.moveCursorToPosition(E)}this.clearSelection()},_.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},_.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},_.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},_.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},_.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},_.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},_.prototype.replace=function(b,E){E&&this.$search.set(E);var S=this.$search.find(this.session),I=0;return S&&(this.$tryReplace(S,b)&&(I=1),this.selection.setSelectionRange(S),this.renderer.scrollSelectionIntoView(S.start,S.end)),I},_.prototype.replaceAll=function(b,E){E&&this.$search.set(E);var S=this.$search.findAll(this.session),I=0;if(!S.length)return I;var O=this.getSelectionRange();this.selection.moveTo(0,0);for(var D=S.length-1;D>=0;--D)this.$tryReplace(S[D],b)&&I++;return this.selection.setSelectionRange(O),I},_.prototype.$tryReplace=function(b,E){var S=this.session.getTextRange(b);return E=this.$search.replace(S,E),E!==null?(b.end=this.session.replace(b,E),b):null},_.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},_.prototype.find=function(b,E,S){E||(E={}),typeof b=="string"||b instanceof RegExp?E.needle=b:typeof b=="object"&&p.mixin(E,b);var I=this.selection.getRange();E.needle==null&&(b=this.session.getTextRange(I)||this.$search.$options.needle,b||(I=this.session.getWordRange(I.start.row,I.start.column),b=this.session.getTextRange(I)),this.$search.set({needle:b})),this.$search.set(E),E.start||this.$search.set({start:I});var O=this.$search.find(this.session);if(E.preventScroll)return O;if(O)return this.revealRange(O,S),O;E.backwards?I.start=I.end:I.end=I.start,this.selection.setRange(I)},_.prototype.findNext=function(b,E){this.find({skipCurrent:!0,backwards:!1},b,E)},_.prototype.findPrevious=function(b,E){this.find(b,{skipCurrent:!0,backwards:!0},E)},_.prototype.revealRange=function(b,E){this.session.unfold(b),this.selection.setSelectionRange(b);var S=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(b.start,b.end,.5),E!==!1&&this.renderer.animateScrolling(S)},_.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},_.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},_.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(b){b.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},_.prototype.setAutoScrollEditorIntoView=function(b){if(b){var E,S=this,I=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var O=this.$scrollAnchor;O.style.cssText="position:absolute",this.container.insertBefore(O,this.container.firstChild);var D=this.on("changeSelection",function(){I=!0}),P=this.renderer.on("beforeRender",function(){I&&(E=S.renderer.container.getBoundingClientRect())}),B=this.renderer.on("afterRender",function(){if(I&&E&&(S.isFocused()||S.searchBox&&S.searchBox.isFocused())){var F=S.renderer,W=F.$cursorLayer.$pixelPos,N=F.layerConfig,j=W.top-N.offset;W.top>=0&&j+E.top<0?I=!0:W.top<N.height&&W.top+E.top+N.lineHeight>window.innerHeight?I=!1:I=null,I!=null&&(O.style.top=j+"px",O.style.left=W.left+"px",O.style.height=N.lineHeight+"px",O.scrollIntoView(I)),I=E=null}});this.setAutoScrollEditorIntoView=function(F){F||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",D),this.renderer.off("afterRender",B),this.renderer.off("beforeRender",P))}}},_.prototype.$resetCursorStyle=function(){var b=this.$cursorStyle||"ace",E=this.renderer.$cursorLayer;E&&(E.setSmoothBlinking(/smooth/.test(b)),E.isBlinking=!this.$readOnly&&b!="wide",m.setCssClass(E.element,"ace_slim-cursors",/slim/.test(b)))},_.prototype.prompt=function(b,E,S){var I=this;x.loadModule("ace/ext/prompt",function(O){O.prompt(I,b,E,S)})},_}();L.$uid=0,L.prototype.curOp=null,L.prototype.prevOp={},L.prototype.$mergeableCommands=["backspace","del","insertstring"],L.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],p.implement(L.prototype,v),x.defineOptions(L.prototype,"editor",{selectionStyle:{set:function(_){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:_})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(_){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(_){this.textInput.setReadOnly(_),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(_){this.textInput.setCopyWithEmptySelection(_)},initialValue:!1},cursorStyle:{set:function(_){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(_){this.setAutoScrollEditorIntoView(_)}},keyboardHandler:{set:function(_){this.setKeyboardHandler(_)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(_){this.session.setValue(_)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(_){this.setSession(_)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(_){this.renderer.$gutterLayer.setShowLineNumbers(_),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),_&&this.$relativeLineNumbers?R.attach(this):R.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(_){this.$showLineNumbers&&_?R.attach(this):R.detach(this)}},placeholder:{set:function(_){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var b=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(b&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),m.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!b&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),m.addCssClass(this.container,"ace_hasPlaceholder");var E=m.createElement("div");E.className="ace_placeholder",E.textContent=this.$placeholder||"",this.renderer.placeholderNode=E,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!b&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(_){var b={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(I){I.blur(),I.renderer.scroller.focus()},readOnly:!0},E=function(I){if(I.target==this.renderer.scroller&&I.keyCode===M.enter){I.preventDefault();var O=this.getCursorPosition().row;this.isRowVisible(O)||this.scrollToLine(O,!0,!0),this.focus()}},S;_?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(g.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",T("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",T("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",E.bind(this)),this.commands.addCommand(b),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",T("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",T("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),S||(S=new k(this)),S.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",E.bind(this)),this.commands.removeCommand(b),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),S&&S.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(_){this.$textInputAriaLabel=_},initialValue:""},enableMobileMenu:{set:function(_){this.$enableMobileMenu=_},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var R={getText:function(_,b){return(Math.abs(_.selection.lead.row-b)||b+1+(b<9?"·":""))+""},getWidth:function(_,b,E){return Math.max(b.toString().length,(E.lastRow+1).toString().length,2)*E.characterWidth},update:function(_,b){b.renderer.$loop.schedule(b.renderer.CHANGE_GUTTER)},attach:function(_){_.renderer.$gutterLayer.$renderer=this,_.on("changeSelection",this.update),this.update(null,_)},detach:function(_){_.renderer.$gutterLayer.$renderer==this&&(_.renderer.$gutterLayer.$renderer=null),_.off("changeSelection",this.update),this.update(null,_)}};n.Editor=L}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(i,n,c){var o=i("../lib/dom"),p=function(){function m(h,g){this.element=h,this.canvasHeight=g||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return m.prototype.moveContainer=function(h){o.translate(this.element,0,-(h.firstRowScreen*h.lineHeight%this.canvasHeight)-h.offset*this.$offsetCoefficient)},m.prototype.pageChanged=function(h,g){return Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)!==Math.floor(g.firstRowScreen*g.lineHeight/this.canvasHeight)},m.prototype.computeLineTop=function(h,g,a){var l=g.firstRowScreen*g.lineHeight,d=Math.floor(l/this.canvasHeight),u=a.documentToScreenRow(h,0)*g.lineHeight;return u-d*this.canvasHeight},m.prototype.computeLineHeight=function(h,g,a){return g.lineHeight*a.getRowLineCount(h)},m.prototype.getLength=function(){return this.cells.length},m.prototype.get=function(h){return this.cells[h]},m.prototype.shift=function(){this.$cacheCell(this.cells.shift())},m.prototype.pop=function(){this.$cacheCell(this.cells.pop())},m.prototype.push=function(h){if(Array.isArray(h)){this.cells.push.apply(this.cells,h);for(var g=o.createFragment(this.element),a=0;a<h.length;a++)g.appendChild(h[a].element);this.element.appendChild(g)}else this.cells.push(h),this.element.appendChild(h.element)},m.prototype.unshift=function(h){if(Array.isArray(h)){this.cells.unshift.apply(this.cells,h);for(var g=o.createFragment(this.element),a=0;a<h.length;a++)g.appendChild(h[a].element);this.element.firstChild?this.element.insertBefore(g,this.element.firstChild):this.element.appendChild(g)}else this.cells.unshift(h),this.element.insertAdjacentElement("afterbegin",h.element)},m.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},m.prototype.$cacheCell=function(h){h&&(h.element.remove(),this.cellCache.push(h))},m.prototype.createCell=function(h,g,a,l){var d=this.cellCache.pop();if(!d){var u=o.createElement("div");l&&l(u),this.element.appendChild(u),d={element:u,text:"",row:h}}return d.row=h,d},m}();n.Lines=p}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(i,n,c){var o=i("../lib/dom"),p=i("../lib/oop"),m=i("../lib/lang"),h=i("../lib/event_emitter").EventEmitter,g=i("./lines").Lines,a=i("../config").nls,l=function(){function u(s){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",s.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new g(this.element),this.$lines.$offsetCoefficient=1}return u.prototype.setSession=function(s){this.session&&this.session.off("change",this.$updateAnnotations),this.session=s,s&&s.on("change",this.$updateAnnotations)},u.prototype.addGutterDecoration=function(s,r){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(s,r)},u.prototype.removeGutterDecoration=function(s,r){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(s,r)},u.prototype.setAnnotations=function(s){this.$annotations=[];for(var r=0;r<s.length;r++){var f=s[r],v=f.row,y=this.$annotations[v];y||(y=this.$annotations[v]={text:[],type:[],displayText:[]});var C=f.text,x=f.text,w=f.type;C=C?m.escapeHTML(C):f.html||"",x=x||f.html||"",y.text.indexOf(C)===-1&&(y.text.push(C),y.type.push(w),y.displayText.push(x));var k=f.className;k?y.className=k:w==="error"?y.className=" ace_error":w==="security"&&!/\bace_error\b/.test(y.className)?y.className=" ace_security":w==="warning"&&!/\bace_(error|security)\b/.test(y.className)?y.className=" ace_warning":w==="info"&&!y.className?y.className=" ace_info":w==="hint"&&!y.className&&(y.className=" ace_hint")}},u.prototype.$updateAnnotations=function(s){if(this.$annotations.length){var r=s.start.row,f=s.end.row-r;if(f!==0)if(s.action=="remove")this.$annotations.splice(r,f+1,null);else{var v=new Array(f+1);v.unshift(r,1),this.$annotations.splice.apply(this.$annotations,v)}}},u.prototype.update=function(s){this.config=s;var r=this.session,f=s.firstRow,v=Math.min(s.lastRow+s.gutterOffset,r.getLength()-1);this.oldLastRow=v,this.config=s,this.$lines.moveContainer(s),this.$updateCursorRow();for(var y=r.getNextFoldLine(f),C=y?y.start.row:1/0,x=null,w=-1,k=f;;){if(k>C&&(k=y.end.row+1,y=r.getNextFoldLine(k,y),C=y?y.start.row:1/0),k>v){for(;this.$lines.getLength()>w+1;)this.$lines.pop();break}x=this.$lines.get(++w),x?x.row=k:(x=this.$lines.createCell(k,s,this.session,d),this.$lines.push(x)),this.$renderCell(x,s,y,k),k++}this._signal("afterRender"),this.$updateGutterWidth(s)},u.prototype.$updateGutterWidth=function(s){var r=this.session,f=r.gutterRenderer||this.$renderer,v=r.$firstLineNumber,y=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||r.$useWrapMode)&&(y=r.getLength()+v-1);var C=f?f.getWidth(r,y,s):y.toString().length*s.characterWidth,x=this.$padding||this.$computePadding();C+=x.left+x.right,C!==this.gutterWidth&&!isNaN(C)&&(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},u.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var s=this.session.selection.getCursor();this.$cursorRow!==s.row&&(this.$cursorRow=s.row)}},u.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var s=this.session.selection.cursor.row;if(this.$cursorRow=s,!(this.$cursorCell&&this.$cursorCell.row==s)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var r=this.$lines.cells;this.$cursorCell=null;for(var f=0;f<r.length;f++){var v=r[f];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var y=this.session.getFoldLine(this.$cursorRow);if(f>0&&y&&y.start.row==r[f-1].row)v=r[f-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},u.prototype.scrollLines=function(s){var r=this.config;if(this.config=s,this.$updateCursorRow(),this.$lines.pageChanged(r,s))return this.update(s);this.$lines.moveContainer(s);var f=Math.min(s.lastRow+s.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=f,!r||v<s.firstRow)return this.update(s);if(f<r.firstRow)return this.update(s);if(r.firstRow<s.firstRow)for(var y=this.session.getFoldedRowCount(r.firstRow,s.firstRow-1);y>0;y--)this.$lines.shift();if(v>f)for(var y=this.session.getFoldedRowCount(f+1,v);y>0;y--)this.$lines.pop();s.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLines(s,s.firstRow,r.firstRow-1)),f>v&&this.$lines.push(this.$renderLines(s,v+1,f)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(s)},u.prototype.$renderLines=function(s,r,f){for(var v=[],y=r,C=this.session.getNextFoldLine(y),x=C?C.start.row:1/0;y>x&&(y=C.end.row+1,C=this.session.getNextFoldLine(y,C),x=C?C.start.row:1/0),!(y>f);){var w=this.$lines.createCell(y,s,this.session,d);this.$renderCell(w,s,C,y),v.push(w),y++}return v},u.prototype.$renderCell=function(s,r,f,v){var y=s.element,C=this.session,x=y.childNodes[0],w=y.childNodes[1],k=y.childNodes[2],T=k.firstChild,A=C.$firstLineNumber,M=C.$breakpoints,L=C.$decorations,R=C.gutterRenderer||this.$renderer,_=this.$showFoldWidgets&&C.foldWidgets,b=f?f.start.row:Number.MAX_VALUE,E=r.lineHeight+"px",S=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",I=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",O=(R?R.getText(C,v):v+A).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||f&&v<this.$cursorRow&&v>=b&&this.$cursorRow<=f.end.row)&&(S+="ace_gutter-active-line ",this.$cursorCell!=s&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=s)),M[v]&&(S+=M[v]),L[v]&&(S+=L[v]),this.$annotations[v]&&v!==b&&(S+=this.$annotations[v].className),_){var D=_[v];D==null&&(D=_[v]=C.getFoldWidget(v))}if(D){var P="ace_fold-widget ace_"+D,B=D=="start"&&v==b&&v<f.end.row;if(B){P+=" ace_closed";for(var F="",W=!1,N=v+1;N<=f.end.row;N++)if(this.$annotations[N]){if(this.$annotations[N].className===" ace_error"){W=!0,F=" ace_error_fold";break}this.$annotations[N].className===" ace_security"?(W=!0,F=" ace_security_fold"):this.$annotations[N].className===" ace_warning"&&F!==" ace_security_fold"&&(W=!0,F=" ace_warning_fold")}S+=F}else P+=" ace_open";w.className!=P&&(w.className=P),o.setStyle(w.style,"height",E),o.setStyle(w.style,"display","inline-block"),w.setAttribute("role","button"),w.setAttribute("tabindex","-1");var j=C.getFoldWidgetRange(v);j?w.setAttribute("aria-label",a("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[j.start.row+1,j.end.row+1])):f?w.setAttribute("aria-label",a("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[f.start.row+1,f.end.row+1])):w.setAttribute("aria-label",a("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[v+1])),B?(w.setAttribute("aria-expanded","false"),w.setAttribute("title",a("gutter.code-folding.closed.title","Unfold code"))):(w.setAttribute("aria-expanded","true"),w.setAttribute("title",a("gutter.code-folding.open.title","Fold code")))}else w&&(o.setStyle(w.style,"display","none"),w.setAttribute("tabindex","0"),w.removeAttribute("role"),w.removeAttribute("aria-label"));if(W&&this.$showFoldedAnnotations){k.className="ace_gutter_annotation",T.className=I,T.className+=F,o.setStyle(T.style,"height",E),o.setStyle(k.style,"display","block"),o.setStyle(k.style,"height",E);var V;switch(F){case" ace_error_fold":V=a("gutter.annotation.aria-label.error","Error, read annotations row $0",[O]);break;case" ace_security_fold":V=a("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[O]);break;case" ace_warning_fold":V=a("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[O]);break}k.setAttribute("aria-label",V),k.setAttribute("tabindex","-1"),k.setAttribute("role","button")}else if(this.$annotations[v]){k.className="ace_gutter_annotation",T.className=I,this.$useSvgGutterIcons?T.className+=this.$annotations[v].className:y.classList.add(this.$annotations[v].className.replace(" ","")),o.setStyle(T.style,"height",E),o.setStyle(k.style,"display","block"),o.setStyle(k.style,"height",E);var V;switch(this.$annotations[v].className){case" ace_error":V=a("gutter.annotation.aria-label.error","Error, read annotations row $0",[O]);break;case" ace_security":V=a("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[O]);break;case" ace_warning":V=a("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[O]);break;case" ace_info":V=a("gutter.annotation.aria-label.info","Info, read annotations row $0",[O]);break;case" ace_hint":V=a("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[O]);break}k.setAttribute("aria-label",V),k.setAttribute("tabindex","-1"),k.setAttribute("role","button")}else o.setStyle(k.style,"display","none"),k.removeAttribute("aria-label"),k.removeAttribute("role"),k.setAttribute("tabindex","0");return O!==x.data&&(x.data=O),y.className!=S&&(y.className=S),o.setStyle(s.element.style,"height",this.$lines.computeLineHeight(v,r,C)+"px"),o.setStyle(s.element.style,"top",this.$lines.computeLineTop(v,r,C)+"px"),s.text=O,k.style.display==="none"&&w.style.display==="none"?s.element.setAttribute("aria-hidden",!0):s.element.setAttribute("aria-hidden",!1),s},u.prototype.setHighlightGutterLine=function(s){this.$highlightGutterLine=s},u.prototype.setShowLineNumbers=function(s){this.$renderer=!s&&{getWidth:function(){return 0},getText:function(){return""}}},u.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},u.prototype.setShowFoldWidgets=function(s){s?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=s,this.$padding=null},u.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},u.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var s=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(s.borderLeftWidth)||0)+(parseInt(s.paddingLeft)||0)+1,this.$padding.right=(parseInt(s.borderRightWidth)||0)+(parseInt(s.paddingRight)||0),this.$padding},u.prototype.getRegion=function(s){var r=this.$padding||this.$computePadding(),f=this.element.getBoundingClientRect();if(s.x<r.left+f.left)return"markers";if(this.$showFoldWidgets&&s.x>f.right-r.right)return"foldWidgets"},u}();l.prototype.$fixedWidth=!1,l.prototype.$highlightGutterLine=!0,l.prototype.$renderer="",l.prototype.$showLineNumbers=!0,l.prototype.$showFoldWidgets=!0,p.implement(l.prototype,h);function d(u){var s=document.createTextNode("");u.appendChild(s);var r=o.createElement("span");u.appendChild(r);var f=o.createElement("span");u.appendChild(f);var v=o.createElement("span");return f.appendChild(v),u}n.Gutter=l}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(i,n,c){var o=i("../range").Range,p=i("../lib/dom"),m=function(){function g(a){this.element=p.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)}return g.prototype.setPadding=function(a){this.$padding=a},g.prototype.setSession=function(a){this.session=a},g.prototype.setMarkers=function(a){this.markers=a},g.prototype.elt=function(a,l){var d=this.i!=-1&&this.element.childNodes[this.i];d?this.i++:(d=document.createElement("div"),this.element.appendChild(d),this.i=-1),d.style.cssText=l,d.className=a},g.prototype.update=function(a){if(a){this.config=a,this.i=0;var l;for(var d in this.markers){var u=this.markers[d];if(!u.range){u.update(l,this,this.session,a);continue}var s=u.range.clipRows(a.firstRow,a.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),u.renderer){var r=this.$getTop(s.start.row,a),f=this.$padding+s.start.column*a.characterWidth;u.renderer(l,s,f,r,a)}else u.type=="fullLine"?this.drawFullLineMarker(l,s,u.clazz,a):u.type=="screenLine"?this.drawScreenLineMarker(l,s,u.clazz,a):s.isMultiLine()?u.type=="text"?this.drawTextMarker(l,s,u.clazz,a):this.drawMultiLineMarker(l,s,u.clazz,a):this.drawSingleLineMarker(l,s,u.clazz+" ace_start ace_br15",a)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},g.prototype.$getTop=function(a,l){return(a-l.firstRowScreen)*l.lineHeight},g.prototype.drawTextMarker=function(a,l,d,u,s){for(var r=this.session,f=l.start.row,v=l.end.row,y=f,C=0,x=0,w=r.getScreenLastRowColumn(y),k=new o(y,l.start.column,y,x);y<=v;y++)k.start.row=k.end.row=y,k.start.column=y==f?l.start.column:r.getRowWrapIndent(y),k.end.column=w,C=x,x=w,w=y+1<v?r.getScreenLastRowColumn(y+1):y==v?0:l.end.column,this.drawSingleLineMarker(a,k,d+(y==f?" ace_start":"")+" ace_br"+h(y==f||y==f+1&&l.start.column,C<x,x>w,y==v),u,y==v?0:1,s)},g.prototype.drawMultiLineMarker=function(a,l,d,u,s){var r=this.$padding,f=u.lineHeight,v=this.$getTop(l.start.row,u),y=r+l.start.column*u.characterWidth;if(s=s||"",this.session.$bidiHandler.isBidiRow(l.start.row)){var C=l.clone();C.end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(a,C,d+" ace_br1 ace_start",u,null,s)}else this.elt(d+" ace_br1 ace_start","height:"+f+"px;right:"+r+"px;top:"+v+"px;left:"+y+"px;"+(s||""));if(this.session.$bidiHandler.isBidiRow(l.end.row)){var C=l.clone();C.start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(a,C,d+" ace_br12",u,null,s)}else{v=this.$getTop(l.end.row,u);var x=l.end.column*u.characterWidth;this.elt(d+" ace_br12","height:"+f+"px;width:"+x+"px;top:"+v+"px;left:"+r+"px;"+(s||""))}if(f=(l.end.row-l.start.row-1)*u.lineHeight,!(f<=0)){v=this.$getTop(l.start.row+1,u);var w=(l.start.column?1:0)|(l.end.column?0:8);this.elt(d+(w?" ace_br"+w:""),"height:"+f+"px;right:"+r+"px;top:"+v+"px;left:"+r+"px;"+(s||""))}},g.prototype.drawSingleLineMarker=function(a,l,d,u,s,r){if(this.session.$bidiHandler.isBidiRow(l.start.row))return this.drawBidiSingleLineMarker(a,l,d,u,s,r);var f=u.lineHeight,v=(l.end.column+(s||0)-l.start.column)*u.characterWidth,y=this.$getTop(l.start.row,u),C=this.$padding+l.start.column*u.characterWidth;this.elt(d,"height:"+f+"px;width:"+v+"px;top:"+y+"px;left:"+C+"px;"+(r||""))},g.prototype.drawBidiSingleLineMarker=function(a,l,d,u,s,r){var f=u.lineHeight,v=this.$getTop(l.start.row,u),y=this.$padding,C=this.session.$bidiHandler.getSelections(l.start.column,l.end.column);C.forEach(function(x){this.elt(d,"height:"+f+"px;width:"+(x.width+(s||0))+"px;top:"+v+"px;left:"+(y+x.left)+"px;"+(r||""))},this)},g.prototype.drawFullLineMarker=function(a,l,d,u,s){var r=this.$getTop(l.start.row,u),f=u.lineHeight;l.start.row!=l.end.row&&(f+=this.$getTop(l.end.row,u)-r),this.elt(d,"height:"+f+"px;top:"+r+"px;left:0;right:0;"+(s||""))},g.prototype.drawScreenLineMarker=function(a,l,d,u,s){var r=this.$getTop(l.start.row,u),f=u.lineHeight;this.elt(d,"height:"+f+"px;top:"+r+"px;left:0;right:0;"+(s||""))},g}();m.prototype.$padding=0;function h(g,a,l,d){return(g?1:0)|(a?2:0)|(l?4:0)|(d?8:0)}n.Marker=m}),ace.define("ace/layer/text_util",["require","exports","module"],function(i,n,c){var o=new Set(["text","rparen","lparen"]);n.isTextToken=function(p){return o.has(p)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(i,n,c){var o=i("../lib/oop"),p=i("../lib/dom"),m=i("../lib/lang"),h=i("./lines").Lines,g=i("../lib/event_emitter").EventEmitter,a=i("../config").nls,l=i("./text_util").isTextToken,d=function(){function u(s){this.dom=p,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",s.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new h(this.element)}return u.prototype.$updateEolChar=function(){var s=this.session.doc,r=s.getNewLineCharacter()==`
`&&s.getNewLineMode()!="windows",f=r?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=f)return this.EOL_CHAR=f,!0},u.prototype.setPadding=function(s){this.$padding=s,this.element.style.margin="0 "+s+"px"},u.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},u.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},u.prototype.$setFontMetrics=function(s){this.$fontMetrics=s,this.$fontMetrics.on("changeCharacterSize",(function(r){this._signal("changeCharacterSize",r)}).bind(this)),this.$pollSizeChanges()},u.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},u.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},u.prototype.setSession=function(s){this.session=s,s&&this.$computeTabString()},u.prototype.setShowInvisibles=function(s){return this.showInvisibles==s?!1:(this.showInvisibles=s,typeof s=="string"?(this.showSpaces=/tab/i.test(s),this.showTabs=/space/i.test(s),this.showEOL=/eol/i.test(s)):this.showSpaces=this.showTabs=this.showEOL=s,this.$computeTabString(),!0)},u.prototype.setDisplayIndentGuides=function(s){return this.displayIndentGuides==s?!1:(this.displayIndentGuides=s,this.$computeTabString(),!0)},u.prototype.setHighlightIndentGuides=function(s){return this.$highlightIndentGuides===s?!1:(this.$highlightIndentGuides=s,s)},u.prototype.$computeTabString=function(){var s=this.session.getTabSize();this.tabSize=s;for(var r=this.$tabStrings=[0],f=1;f<s+1;f++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=m.stringRepeat(this.TAB_CHAR,f),r.push(v)}else r.push(this.dom.createTextNode(m.stringRepeat(" ",f),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var y="ace_indent-guide",C=this.showSpaces?" ace_invisible ace_invisible_space":"",x=this.showSpaces?m.stringRepeat(this.SPACE_CHAR,this.tabSize):m.stringRepeat(" ",this.tabSize),w=this.showTabs?" ace_invisible ace_invisible_tab":"",k=this.showTabs?m.stringRepeat(this.TAB_CHAR,this.tabSize):x,v=this.dom.createElement("span");v.className=y+C,v.textContent=x,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=y+w,v.textContent=k,this.$tabStrings["	"]=v}},u.prototype.updateLines=function(s,r,f){if(this.config.lastRow!=s.lastRow||this.config.firstRow!=s.firstRow)return this.update(s);this.config=s;for(var v=Math.max(r,s.firstRow),y=Math.min(f,s.lastRow),C=this.element.childNodes,x=0,k=s.firstRow;k<v;k++){var T=this.session.getFoldLine(k);if(T)if(T.containsRow(v)){v=T.start.row;break}else k=T.end.row;x++}for(var w=!1,k=v,T=this.session.getNextFoldLine(k),A=T?T.start.row:1/0;k>A&&(k=T.end.row+1,T=this.session.getNextFoldLine(k,T),A=T?T.start.row:1/0),!(k>y);){var M=C[x++];if(M){this.dom.removeChildren(M),this.$renderLine(M,k,k==A?T:!1),w&&(M.style.top=this.$lines.computeLineTop(k,s,this.session)+"px");var L=s.lineHeight*this.session.getRowLength(k)+"px";M.style.height!=L&&(w=!0,M.style.height=L)}k++}if(w)for(;x<this.$lines.cells.length;){var R=this.$lines.cells[x++];R.element.style.top=this.$lines.computeLineTop(R.row,s,this.session)+"px"}},u.prototype.scrollLines=function(s){var r=this.config;if(this.config=s,this.$lines.pageChanged(r,s))return this.update(s);this.$lines.moveContainer(s);var f=s.lastRow,v=r?r.lastRow:-1;if(!r||v<s.firstRow)return this.update(s);if(f<r.firstRow)return this.update(s);if(!r||r.lastRow<s.firstRow)return this.update(s);if(s.lastRow<r.firstRow)return this.update(s);if(r.firstRow<s.firstRow)for(var y=this.session.getFoldedRowCount(r.firstRow,s.firstRow-1);y>0;y--)this.$lines.shift();if(r.lastRow>s.lastRow)for(var y=this.session.getFoldedRowCount(s.lastRow+1,r.lastRow);y>0;y--)this.$lines.pop();s.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLinesFragment(s,s.firstRow,r.firstRow-1)),s.lastRow>r.lastRow&&this.$lines.push(this.$renderLinesFragment(s,r.lastRow+1,s.lastRow)),this.$highlightIndentGuide()},u.prototype.$renderLinesFragment=function(s,r,f){for(var v=[],y=r,C=this.session.getNextFoldLine(y),x=C?C.start.row:1/0;y>x&&(y=C.end.row+1,C=this.session.getNextFoldLine(y,C),x=C?C.start.row:1/0),!(y>f);){var w=this.$lines.createCell(y,s,this.session),k=w.element;this.dom.removeChildren(k),p.setStyle(k.style,"height",this.$lines.computeLineHeight(y,s,this.session)+"px"),p.setStyle(k.style,"top",this.$lines.computeLineTop(y,s,this.session)+"px"),this.$renderLine(k,y,y==x?C:!1),this.$useLineGroups()?k.className="ace_line_group":k.className="ace_line",v.push(w),y++}return v},u.prototype.update=function(s){this.$lines.moveContainer(s),this.config=s;for(var r=s.firstRow,f=s.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(s,r,f))},u.prototype.$renderToken=function(s,r,f,v){for(var y=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,x=this.dom.createFragment(this.element),w,k=0;w=C.exec(v);){var T=w[1],A=w[2],M=w[3],L=w[4],R=w[5];if(!(!y.showSpaces&&A)){var _=k!=w.index?v.slice(k,w.index):"";if(k=w.index+w[0].length,_&&x.appendChild(this.dom.createTextNode(_,this.element)),T){var b=y.session.getScreenTabSize(r+w.index);x.appendChild(y.$tabStrings[b].cloneNode(!0)),r+=b-1}else if(A)if(y.showSpaces){var E=this.dom.createElement("span");E.className="ace_invisible ace_invisible_space",E.textContent=m.stringRepeat(y.SPACE_CHAR,A.length),x.appendChild(E)}else x.appendChild(this.dom.createTextNode(A,this.element));else if(M){var E=this.dom.createElement("span");E.className="ace_invisible ace_invisible_space ace_invalid",E.textContent=m.stringRepeat(y.SPACE_CHAR,M.length),x.appendChild(E)}else if(L){r+=1;var E=this.dom.createElement("span");E.style.width=y.config.characterWidth*2+"px",E.className=y.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",E.textContent=y.showSpaces?y.SPACE_CHAR:L,x.appendChild(E)}else if(R){r+=1;var E=this.dom.createElement("span");E.style.width=y.config.characterWidth*2+"px",E.className="ace_cjk",E.textContent=R,x.appendChild(E)}}}if(x.appendChild(this.dom.createTextNode(k?v.slice(k):v,this.element)),l(f.type))s.appendChild(x);else{var S="ace_"+f.type.replace(/\./g," ace_"),E=this.dom.createElement("span");f.type=="fold"&&(E.style.width=f.value.length*this.config.characterWidth+"px",E.setAttribute("title",a("inline-fold.closed.title","Unfold code"))),E.className=S,E.appendChild(x),s.appendChild(E)}return r+v.length},u.prototype.renderIndentGuide=function(s,r,f){var v=r.search(this.$indentGuideRe);if(v<=0||v>=f)return r;if(r[0]==" "){v-=v%this.tabSize;for(var y=v/this.tabSize,C=0;C<y;C++)s.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(v)}else if(r[0]=="	"){for(var C=0;C<v;C++)s.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(v)}return this.$highlightIndentGuide(),r},u.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var s=this.session.doc.$lines;if(s){var r=this.session.selection.getCursor(),f=/^\s*/.exec(this.session.doc.getLine(r.row))[0].length,v=Math.floor(f/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:r.row};var y=this.session.$bracketHighlight;if(y){for(var C=this.session.$bracketHighlight.ranges,x=0;x<C.length;x++)if(r.row!==C[x].start.row){this.$highlightIndentGuideMarker.end=C[x].start.row,r.row>C[x].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&s[r.row]!==""&&r.column===s[r.row].length){this.$highlightIndentGuideMarker.dir=1;for(var x=r.row+1;x<s.length;x++){var w=s[x],k=/^\s*/.exec(w)[0].length;if(w!==""&&(this.$highlightIndentGuideMarker.end=x,k<=f))break}}this.$renderHighlightIndentGuide()}}},u.prototype.$clearActiveIndentGuide=function(){for(var s=this.$lines.cells,r=0;r<s.length;r++){var f=s[r],v=f.element.childNodes;if(v.length>0){for(var y=0;y<v.length;y++)if(v[y].classList&&v[y].classList.contains("ace_indent-guide-active")){v[y].classList.remove("ace_indent-guide-active");break}}}},u.prototype.$setIndentGuideActive=function(s,r){var f=this.session.doc.getLine(s.row);if(f!==""){var v=s.element.childNodes;if(v){var y=v[r-1];y&&y.classList&&y.classList.contains("ace_indent-guide")&&y.classList.add("ace_indent-guide-active")}}},u.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var s=this.$lines.cells;this.$clearActiveIndentGuide();var r=this.$highlightIndentGuideMarker.indentLevel;if(r!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var f=0;f<s.length;f++){var v=s[f];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,r)}}else for(var f=s.length-1;f>=0;f--){var v=s[f];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,r)}}}},u.prototype.$createLineElement=function(s){var r=this.dom.createElement("div");return r.className="ace_line",r.style.height=this.config.lineHeight+"px",r},u.prototype.$renderWrappedLine=function(s,r,f){var v=0,y=0,C=f[0],x=0,w=this.$createLineElement();s.appendChild(w);for(var k=0;k<r.length;k++){var T=r[k],A=T.value;if(k==0&&this.displayIndentGuides){if(v=A.length,A=this.renderIndentGuide(w,A,C),!A)continue;v-=A.length}if(v+A.length<C)x=this.$renderToken(w,x,T,A),v+=A.length;else{for(;v+A.length>=C;)x=this.$renderToken(w,x,T,A.substring(0,C-v)),A=A.substring(C-v),v=C,w=this.$createLineElement(),s.appendChild(w),w.appendChild(this.dom.createTextNode(m.stringRepeat(" ",f.indent),this.element)),y++,x=0,C=f[y]||Number.MAX_VALUE;A.length!=0&&(v+=A.length,x=this.$renderToken(w,x,T,A))}}f[f.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(w,x,null,"",!0)},u.prototype.$renderSimpleLine=function(s,r){for(var f=0,v=0;v<r.length;v++){var y=r[v],C=y.value;if(!(v==0&&this.displayIndentGuides&&(C=this.renderIndentGuide(s,C),!C))){if(f+C.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(s,f,y,C);f=this.$renderToken(s,f,y,C)}}},u.prototype.$renderOverflowMessage=function(s,r,f,v,y){f&&this.$renderToken(s,r,f,v.slice(0,this.MAX_LINE_LENGTH-r));var C=this.dom.createElement("span");C.className="ace_inline_button ace_keyword ace_toggle_wrap",C.textContent=y?"<hide>":"<click to see more...>",s.appendChild(C)},u.prototype.$renderLine=function(s,r,f){if(!f&&f!=!1&&(f=this.session.getFoldLine(r)),f)var v=this.$getFoldLineTokens(r,f);else var v=this.session.getTokens(r);var y=s;if(v.length){var C=this.session.getRowSplitData(r);if(C&&C.length){this.$renderWrappedLine(s,v,C);var y=s.lastChild}else{var y=s;this.$useLineGroups()&&(y=this.$createLineElement(),s.appendChild(y)),this.$renderSimpleLine(y,v)}}else this.$useLineGroups()&&(y=this.$createLineElement(),s.appendChild(y));if(this.showEOL&&y){f&&(r=f.end.row);var x=this.dom.createElement("span");x.className="ace_invisible ace_invisible_eol",x.textContent=r==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild(x)}},u.prototype.$getFoldLineTokens=function(s,r){var f=this.session,v=[];function y(x,w,k){for(var T=0,A=0;A+x[T].value.length<w;)if(A+=x[T].value.length,T++,T==x.length)return;if(A!=w){var M=x[T].value.substring(w-A);M.length>k-w&&(M=M.substring(0,k-w)),v.push({type:x[T].type,value:M}),A=w+M.length,T+=1}for(;A<k&&T<x.length;){var M=x[T].value;M.length+A>k?v.push({type:x[T].type,value:M.substring(0,k-A)}):v.push(x[T]),A+=M.length,T+=1}}var C=f.getTokens(s);return r.walk(function(x,w,k,T,A){x!=null?v.push({type:"fold",value:x}):(A&&(C=f.getTokens(w)),C.length&&y(C,T,k))},r.end.row,this.session.getLine(r.end.row).length),v},u.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},u}();d.prototype.EOF_CHAR="¶",d.prototype.EOL_CHAR_LF="¬",d.prototype.EOL_CHAR_CRLF="¤",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="—",d.prototype.SPACE_CHAR="·",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,o.implement(d.prototype,g),n.Text=d}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(i,n,c){var o=i("../lib/dom"),p=function(){function m(h){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",h.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return m.prototype.$updateOpacity=function(h){for(var g=this.cursors,a=g.length;a--;)o.setStyle(g[a].style,"opacity",h?"":"0")},m.prototype.$startCssAnimation=function(){for(var h=this.cursors,g=h.length;g--;)h[g].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},m.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},m.prototype.setPadding=function(h){this.$padding=h},m.prototype.setSession=function(h){this.session=h},m.prototype.setBlinking=function(h){h!=this.isBlinking&&(this.isBlinking=h,this.restartTimer())},m.prototype.setBlinkInterval=function(h){h!=this.blinkInterval&&(this.blinkInterval=h,this.restartTimer())},m.prototype.setSmoothBlinking=function(h){h!=this.smoothBlinking&&(this.smoothBlinking=h,o.setCssClass(this.element,"ace_smooth-blinking",h),this.$updateCursors(!0),this.restartTimer())},m.prototype.addCursor=function(){var h=o.createElement("div");return h.className="ace_cursor",this.element.appendChild(h),this.cursors.push(h),h},m.prototype.removeCursor=function(){if(this.cursors.length>1){var h=this.cursors.pop();return h.parentNode.removeChild(h),h}},m.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.restartTimer=function(){var h=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),h(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var g=(function(){this.timeoutId=setTimeout(function(){h(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){h(!0),g()},this.blinkInterval),g()}},m.prototype.getPixelPosition=function(h,g){if(!this.config||!this.session)return{left:0,top:0};h||(h=this.session.selection.getCursor());var a=this.session.documentToScreenPosition(h),l=this.$padding+(this.session.$bidiHandler.isBidiRow(a.row,h.row)?this.session.$bidiHandler.getPosLeft(a.column):a.column*this.config.characterWidth),d=(a.row-(g?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:l,top:d}},m.prototype.isCursorInView=function(h,g){return h.top>=0&&h.top<g.maxHeight},m.prototype.update=function(h){this.config=h;var g=this.session.$selectionMarkers,a=0,l=0;(g===void 0||g.length===0)&&(g=[{cursor:null}]);for(var a=0,d=g.length;a<d;a++){var u=this.getPixelPosition(g[a].cursor,!0);if(!((u.top>h.height+h.offset||u.top<0)&&a>1)){var s=this.cursors[l++]||this.addCursor(),r=s.style;this.drawCursor?this.drawCursor(s,u,h,g[a],this.session):this.isCursorInView(u,h)?(o.setStyle(r,"display","block"),o.translate(s,u.left,u.top),o.setStyle(r,"width",Math.round(h.characterWidth)+"px"),o.setStyle(r,"height",h.lineHeight+"px")):o.setStyle(r,"display","none")}}for(;this.cursors.length>l;)this.removeCursor();var f=this.session.getOverwrite();this.$setOverwrite(f),this.$pixelPos=u,this.restartTimer()},m.prototype.$setOverwrite=function(h){h!=this.overwrite&&(this.overwrite=h,h?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},m.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},m}();p.prototype.$padding=0,p.prototype.drawCursor=null,n.Cursor=p}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,n,c){var o=this&&this.__extends||function(){var s=function(r,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(v[C]=y[C])},s(r,f)};return function(r,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");s(r,f);function v(){this.constructor=r}r.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),p=i("./lib/oop"),m=i("./lib/dom"),h=i("./lib/event"),g=i("./lib/event_emitter").EventEmitter,a=32768,l=function(){function s(r,f){this.element=m.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+f,this.inner=m.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addListener(this.element,"scroll",this.onScroll.bind(this)),h.addListener(this.element,"mousedown",h.preventDefault)}return s.prototype.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1},s}();p.implement(l.prototype,g);var d=function(s){o(r,s);function r(f,v){var y=s.call(this,f,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,v.$scrollbarWidth=y.width=m.scrollbarWidth(f.ownerDocument),y.inner.style.width=y.element.style.width=(y.width||15)+5+"px",y.$minWidth=0,y}return r.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var f=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-f)/(this.coeff-f)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},r.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},r.prototype.setHeight=function(f){this.element.style.height=f+"px"},r.prototype.setScrollHeight=function(f){this.scrollHeight=f,f>a?(this.coeff=a/f,f=a):this.coeff!=1&&(this.coeff=1),this.inner.style.height=f+"px"},r.prototype.setScrollTop=function(f){this.scrollTop!=f&&(this.skipEvent=!0,this.scrollTop=f,this.element.scrollTop=f*this.coeff)},r}(l);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var u=function(s){o(r,s);function r(f,v){var y=s.call(this,f,"-h")||this;return y.scrollLeft=0,y.height=v.$scrollbarWidth,y.inner.style.height=y.element.style.height=(y.height||15)+5+"px",y}return r.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},r.prototype.getHeight=function(){return this.isVisible?this.height:0},r.prototype.setWidth=function(f){this.element.style.width=f+"px"},r.prototype.setInnerWidth=function(f){this.inner.style.width=f+"px"},r.prototype.setScrollWidth=function(f){this.inner.style.width=f+"px"},r.prototype.setScrollLeft=function(f){this.scrollLeft!=f&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=f)},r}(l);n.ScrollBar=d,n.ScrollBarV=d,n.ScrollBarH=u,n.VScrollBar=d,n.HScrollBar=u}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,n,c){var o=this&&this.__extends||function(){var u=function(s,r){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(f[y]=v[y])},u(s,r)};return function(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");u(s,r);function f(){this.constructor=s}s.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}(),p=i("./lib/oop"),m=i("./lib/dom"),h=i("./lib/event"),g=i("./lib/event_emitter").EventEmitter;m.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var a=function(){function u(s,r){this.element=m.createElement("div"),this.element.className="ace_sb"+r,this.inner=m.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,s.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return u.prototype.setVisible=function(s){this.element.style.display=s?"":"none",this.isVisible=s,this.coeff=1},u}();p.implement(a.prototype,g);var l=function(u){o(s,u);function s(r,f){var v=u.call(this,r,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=r,v.width=v.VScrollWidth,v.renderer=f,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return s.prototype.onMouseDown=function(r,f){if(r==="mousedown"&&!(h.getButton(f)!==0||f.detail===2)){if(f.target===this.inner){var v=this,y=f.clientY,C=function(L){y=L.clientY},x=function(){clearInterval(A)},w=f.clientY,k=this.thumbTop,T=function(){if(y!==void 0){var L=v.scrollTopFromThumbTop(k+y-w);L!==v.scrollTop&&v._emit("scroll",{data:L})}};h.capture(this.inner,C,x);var A=setInterval(T,20);return h.preventDefault(f)}var M=f.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(M)}),h.preventDefault(f)}},s.prototype.getHeight=function(){return this.height},s.prototype.scrollTopFromThumbTop=function(r){var f=r*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return f=f>>0,f<0?f=0:f>this.pageHeight-this.viewHeight&&(f=this.pageHeight-this.viewHeight),f},s.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},s.prototype.setHeight=function(r){this.height=Math.max(0,r),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},s.prototype.setScrollHeight=function(r,f){this.pageHeight===r&&!f||(this.pageHeight=r,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},s.prototype.setScrollTop=function(r){this.scrollTop=r,r<0&&(r=0),this.thumbTop=r*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},s}(a);l.prototype.setInnerHeight=l.prototype.setScrollHeight;var d=function(u){o(s,u);function s(r,f){var v=u.call(this,r,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=f,v}return s.prototype.onMouseDown=function(r,f){if(r==="mousedown"&&!(h.getButton(f)!==0||f.detail===2)){if(f.target===this.inner){var v=this,y=f.clientX,C=function(L){y=L.clientX},x=function(){clearInterval(A)},w=f.clientX,k=this.thumbLeft,T=function(){if(y!==void 0){var L=v.scrollLeftFromThumbLeft(k+y-w);L!==v.scrollLeft&&v._emit("scroll",{data:L})}};h.capture(this.inner,C,x);var A=setInterval(T,20);return h.preventDefault(f)}var M=f.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(M)}),h.preventDefault(f)}},s.prototype.getHeight=function(){return this.isVisible?this.height:0},s.prototype.scrollLeftFromThumbLeft=function(r){var f=r*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return f=f>>0,f<0?f=0:f>this.pageWidth-this.viewWidth&&(f=this.pageWidth-this.viewWidth),f},s.prototype.setWidth=function(r){this.width=Math.max(0,r),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},s.prototype.setScrollWidth=function(r,f){this.pageWidth===r&&!f||(this.pageWidth=r,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},s.prototype.setScrollLeft=function(r){this.scrollLeft=r,r<0&&(r=0),this.thumbLeft=r*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},s}(a);d.prototype.setInnerWidth=d.prototype.setScrollWidth,n.ScrollBar=l,n.ScrollBarV=l,n.ScrollBarH=d,n.VScrollBar=l,n.HScrollBar=d}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(i,n,c){var o=i("./lib/event"),p=function(){function m(h,g){this.onRender=h,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=g||window;var a=this;this._flush=function(l){a.pending=!1;var d=a.changes;if(d&&(o.blockIdle(100),a.changes=0,a.onRender(d)),a.changes){if(a.$recursionLimit--<0)return;a.schedule()}else a.$recursionLimit=2}}return m.prototype.schedule=function(h){this.changes=this.changes|h,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},m.prototype.clear=function(h){var g=this.changes;return this.changes=0,g},m}();n.RenderLoop=p}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(i,n,c){var o=i("../lib/oop"),p=i("../lib/dom"),m=i("../lib/lang"),h=i("../lib/event"),g=i("../lib/useragent"),a=i("../lib/event_emitter").EventEmitter,l=512,d=typeof ResizeObserver=="function",u=200,s=function(){function r(f){this.el=p.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=p.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=p.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),f.appendChild(this.el),this.$measureNode.textContent=m.stringRepeat("X",l),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return r.prototype.$setMeasureNodeStyles=function(f,v){f.width=f.height="auto",f.left=f.top="0px",f.visibility="hidden",f.position="absolute",f.whiteSpace="pre",g.isIE<8?f["font-family"]="inherit":f.font="inherit",f.overflow=v?"hidden":"visible"},r.prototype.checkForSizeChanges=function(f){if(f===void 0&&(f=this.$measureSizes()),f&&(this.$characterSize.width!==f.width||this.$characterSize.height!==f.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=f,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===f.width&&v.height===f.height,this._emit("changeCharacterSize",{data:f})}},r.prototype.$addObserver=function(){var f=this;this.$observer=new window.ResizeObserver(function(v){f.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},r.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var f=this;return this.$pollSizeChangesTimer=h.onIdle(function v(){f.checkForSizeChanges(),h.onIdle(v,500)},500)},r.prototype.setPolling=function(f){f?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},r.prototype.$measureSizes=function(f){var v={height:(f||this.$measureNode).clientHeight,width:(f||this.$measureNode).clientWidth/l};return v.width===0||v.height===0?null:v},r.prototype.$measureCharWidth=function(f){this.$main.textContent=m.stringRepeat(f,l);var v=this.$main.getBoundingClientRect();return v.width/l},r.prototype.getCharacterWidth=function(f){var v=this.charSizes[f];return v===void 0&&(v=this.charSizes[f]=this.$measureCharWidth(f)/this.$characterSize.width),v},r.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},r.prototype.$getZoom=function(f){return!f||!f.parentElement?1:(Number(window.getComputedStyle(f).zoom)||1)*this.$getZoom(f.parentElement)},r.prototype.$initTransformMeasureNodes=function(){var f=function(v,y){return["div",{style:"position: absolute;top:"+v+"px;left:"+y+"px;"}]};this.els=p.buildDom([f(0,0),f(u,0),f(0,u),f(u,u)],this.el)},r.prototype.transformCoordinates=function(f,v){if(f){var y=this.$getZoom(this.el);f=k(1/y,f)}function C(B,F,W){var N=B[1]*F[0]-B[0]*F[1];return[(-F[1]*W[0]+F[0]*W[1])/N,(+B[1]*W[0]-B[0]*W[1])/N]}function x(B,F){return[B[0]-F[0],B[1]-F[1]]}function w(B,F){return[B[0]+F[0],B[1]+F[1]]}function k(B,F){return[B*F[0],B*F[1]]}this.els||this.$initTransformMeasureNodes();function T(B){var F=B.getBoundingClientRect();return[F.left,F.top]}var A=T(this.els[0]),M=T(this.els[1]),L=T(this.els[2]),R=T(this.els[3]),_=C(x(R,M),x(R,L),x(w(M,L),w(R,A))),b=k(1+_[0],x(M,A)),E=k(1+_[1],x(L,A));if(v){var S=v,I=_[0]*S[0]/u+_[1]*S[1]/u+1,O=w(k(S[0],b),k(S[1],E));return w(k(1/I/u,O),A)}var D=x(f,A),P=C(x(b,k(_[0],D)),x(E,k(_[1],D)),D);return k(u,P)},r}();s.prototype.$characterSize={width:0,height:0},o.implement(s.prototype,a),n.FontMetrics=s}),ace.define("ace/css/editor-css",["require","exports","module"],function(i,n,c){c.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(i,n,c){var o=i("../lib/dom"),p=i("../lib/oop"),m=i("../lib/event_emitter").EventEmitter,h=function(){function g(a,l){this.canvas=o.createElement("canvas"),this.renderer=l,this.pixelRatio=1,this.maxHeight=l.layerConfig.maxHeight,this.lineHeight=l.layerConfig.lineHeight,this.canvasHeight=a.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=a.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},a.element.appendChild(this.canvas)}return g.prototype.$updateDecorators=function(a){var l=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(a){this.maxHeight=a.maxHeight,this.lineHeight=a.lineHeight,this.canvasHeight=a.height;var d=(a.lastRow+1)*this.lineHeight;d<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var u=this.canvas.getContext("2d");function s(R,_){return R.priority<_.priority?-1:R.priority>_.priority?1:0}var r=this.renderer.session.$annotations;if(u.clearRect(0,0,this.canvas.width,this.canvas.height),r){var f={info:1,warning:2,error:3};r.forEach(function(R){R.priority=f[R.type]||null}),r=r.sort(s);for(var v=this.renderer.session.$foldData,y=0;y<r.length;y++){var C=r[y].row,x=this.compensateFoldRows(C,v),w=Math.round((C-x)*this.lineHeight*this.heightRatio),k=Math.round((C-x)*this.lineHeight*this.heightRatio),T=Math.round(((C-x)*this.lineHeight+this.lineHeight)*this.heightRatio),A=T-k;if(A<this.minDecorationHeight){var M=(k+T)/2|0;M<this.halfMinDecorationHeight?M=this.halfMinDecorationHeight:M+this.halfMinDecorationHeight>this.canvasHeight&&(M=this.canvasHeight-this.halfMinDecorationHeight),k=Math.round(M-this.halfMinDecorationHeight),T=Math.round(M+this.halfMinDecorationHeight)}u.fillStyle=l[r[y].type]||null,u.fillRect(0,w,this.canvasWidth,T-k)}}var L=this.renderer.session.selection.getCursor();if(L){var x=this.compensateFoldRows(L.row,v),w=Math.round((L.row-x)*this.lineHeight*this.heightRatio);u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,w,this.canvasWidth,2)}},g.prototype.compensateFoldRows=function(a,l){var d=0;if(l&&l.length>0)for(var u=0;u<l.length;u++)a>l[u].start.row&&a<l[u].end.row?d+=a-l[u].start.row:a>=l[u].end.row&&(d+=l[u].end.row-l[u].start.row);return d},g}();p.implement(h.prototype,m),n.Decorator=h}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(i,n,c){var o=i("./lib/oop"),p=i("./lib/dom"),m=i("./lib/lang"),h=i("./config"),g=i("./layer/gutter").Gutter,a=i("./layer/marker").Marker,l=i("./layer/text").Text,d=i("./layer/cursor").Cursor,u=i("./scrollbar").HScrollBar,s=i("./scrollbar").VScrollBar,r=i("./scrollbar_custom").HScrollBar,f=i("./scrollbar_custom").VScrollBar,v=i("./renderloop").RenderLoop,y=i("./layer/font_metrics").FontMetrics,C=i("./lib/event_emitter").EventEmitter,x=i("./css/editor-css"),w=i("./layer/decorators").Decorator,k=i("./lib/useragent"),T=i("./layer/text_util").isTextToken;p.importCssString(x,"ace_editor.css",!1);var A=function(){function M(L,R){var _=this;this.container=L||p.createElement("div"),p.addCssClass(this.container,"ace_editor"),p.HI_DPI&&p.addCssClass(this.container,"ace_hidpi"),this.setTheme(R),h.get("useStrictCSP")==null&&h.set("useStrictCSP",!1),this.$gutter=p.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=p.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=p.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new g(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var b=this.$textLayer=new l(this.content);this.canvas=b.element,this.$markerFront=new a(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new s(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",function(E){_.$scrollAnimation||_.session.setScrollTop(E.data-_.scrollMargin.top)}),this.scrollBarH.on("scroll",function(E){_.$scrollAnimation||_.session.setScrollLeft(E.data-_.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new y(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(E){_.updateCharacterSize(),_.onResize(!0,_.gutterWidth,_.$size.width,_.$size.height),_._signal("changeCharacterSize",E)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!k.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),h.resetOptions(this),h._signal("renderer",this)}return M.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),p.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},M.prototype.setSession=function(L){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=L,L&&this.scrollMargin.top&&L.getScrollTop()<=0&&L.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(L),this.$markerBack.setSession(L),this.$markerFront.setSession(L),this.$gutterLayer.setSession(L),this.$textLayer.setSession(L),L&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},M.prototype.updateLines=function(L,R,_){if(R===void 0&&(R=1/0),this.$changedLines?(this.$changedLines.firstRow>L&&(this.$changedLines.firstRow=L),this.$changedLines.lastRow<R&&(this.$changedLines.lastRow=R)):this.$changedLines={firstRow:L,lastRow:R},this.$changedLines.lastRow<this.layerConfig.firstRow)if(_)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},M.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},M.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},M.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},M.prototype.updateFull=function(L){L?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},M.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},M.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},M.prototype.onResize=function(L,R,_,b){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=L?1:0;var E=this.container;b||(b=E.clientHeight||E.scrollHeight),!b&&this.$maxLines&&this.lineHeight>1&&(!E.style.height||E.style.height=="0px")&&(E.style.height="1px",b=E.clientHeight||E.scrollHeight),_||(_=E.clientWidth||E.scrollWidth);var S=this.$updateCachedSize(L,R,_,b);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!_&&!b)return this.resizing=0;L&&(this.$gutterLayer.$padding=null),L?this.$renderChanges(S|this.$changes,!0):this.$loop.schedule(S|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},M.prototype.$updateCachedSize=function(L,R,_,b){b-=this.$extraHeight||0;var E=0,S=this.$size,I={width:S.width,height:S.height,scrollerHeight:S.scrollerHeight,scrollerWidth:S.scrollerWidth};if(b&&(L||S.height!=b)&&(S.height=b,E|=this.CHANGE_SIZE,S.scrollerHeight=S.height,this.$horizScroll&&(S.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(S.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",E=E|this.CHANGE_SCROLL),_&&(L||S.width!=_)){E|=this.CHANGE_SIZE,S.width=_,R==null&&(R=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=R,p.setStyle(this.scrollBarH.element.style,"left",R+"px"),p.setStyle(this.scroller.style,"left",R+this.margin.left+"px"),S.scrollerWidth=Math.max(0,_-R-this.scrollBarV.getWidth()-this.margin.h),p.setStyle(this.$gutter.style,"left",this.margin.left+"px");var O=this.scrollBarV.getWidth()+"px";p.setStyle(this.scrollBarH.element.style,"right",O),p.setStyle(this.scroller.style,"right",O),p.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(S.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||L)&&(E|=this.CHANGE_FULL)}return S.$dirty=!_||!b,E&&this._signal("resize",I),E},M.prototype.onGutterResize=function(L){var R=this.$showGutter?L:0;R!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,R,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},M.prototype.adjustWrapLimit=function(){var L=this.$size.scrollerWidth-this.$padding*2,R=Math.floor(L/this.characterWidth);return this.session.adjustWrapLimit(R,this.$showPrintMargin&&this.$printMarginColumn)},M.prototype.setAnimatedScroll=function(L){this.setOption("animatedScroll",L)},M.prototype.getAnimatedScroll=function(){return this.$animatedScroll},M.prototype.setShowInvisibles=function(L){this.setOption("showInvisibles",L),this.session.$bidiHandler.setShowInvisibles(L)},M.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},M.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},M.prototype.setDisplayIndentGuides=function(L){this.setOption("displayIndentGuides",L)},M.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},M.prototype.setHighlightIndentGuides=function(L){this.setOption("highlightIndentGuides",L)},M.prototype.setShowPrintMargin=function(L){this.setOption("showPrintMargin",L)},M.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},M.prototype.setPrintMarginColumn=function(L){this.setOption("printMarginColumn",L)},M.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},M.prototype.getShowGutter=function(){return this.getOption("showGutter")},M.prototype.setShowGutter=function(L){return this.setOption("showGutter",L)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.setFadeFoldWidgets=function(L){this.setOption("fadeFoldWidgets",L)},M.prototype.setHighlightGutterLine=function(L){this.setOption("highlightGutterLine",L)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var L=p.createElement("div");L.className="ace_layer ace_print-margin-layer",this.$printMarginEl=p.createElement("div"),this.$printMarginEl.className="ace_print-margin",L.appendChild(this.$printMarginEl),this.content.insertBefore(L,this.content.firstChild)}var R=this.$printMarginEl.style;R.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",R.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},M.prototype.getContainerElement=function(){return this.container},M.prototype.getMouseEventTarget=function(){return this.scroller},M.prototype.getTextAreaContainer=function(){return this.container},M.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var L=this.textarea.style,R=this.$composition;if(!this.$keepTextAreaAtCursor&&!R){p.translate(this.textarea,-100,0);return}var _=this.$cursorLayer.$pixelPos;if(_){R&&R.markerRange&&(_=this.$cursorLayer.getPixelPosition(R.markerRange.start,!0));var b=this.layerConfig,E=_.top,S=_.left;E-=b.offset;var I=R&&R.useTextareaForIME||k.isMobile?this.lineHeight:1;if(E<0||E>b.height-I){p.translate(this.textarea,0,0);return}var O=1,D=this.$size.height-I;if(!R)E+=this.lineHeight;else if(R.useTextareaForIME){var P=this.textarea.value;O=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else E+=this.lineHeight+2;S-=this.scrollLeft,S>this.$size.scrollerWidth-O&&(S=this.$size.scrollerWidth-O),S+=this.gutterWidth+this.margin.left,p.setStyle(L,"height",I+"px"),p.setStyle(L,"width",O+"px"),p.translate(this.textarea,Math.min(S,this.$size.scrollerWidth-O),Math.min(E,D))}}},M.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},M.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},M.prototype.getLastFullyVisibleRow=function(){var L=this.layerConfig,R=L.lastRow,_=this.session.documentToScreenRow(R,0)*L.lineHeight;return _-this.session.getScrollTop()>L.height-L.lineHeight?R-1:R},M.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},M.prototype.setPadding=function(L){this.$padding=L,this.$textLayer.setPadding(L),this.$cursorLayer.setPadding(L),this.$markerFront.setPadding(L),this.$markerBack.setPadding(L),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},M.prototype.setScrollMargin=function(L,R,_,b){var E=this.scrollMargin;E.top=L|0,E.bottom=R|0,E.right=b|0,E.left=_|0,E.v=E.top+E.bottom,E.h=E.left+E.right,E.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-E.top),this.updateFull()},M.prototype.setMargin=function(L,R,_,b){var E=this.margin;E.top=L|0,E.bottom=R|0,E.right=b|0,E.left=_|0,E.v=E.top+E.bottom,E.h=E.left+E.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},M.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},M.prototype.setHScrollBarAlwaysVisible=function(L){this.setOption("hScrollBarAlwaysVisible",L)},M.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},M.prototype.setVScrollBarAlwaysVisible=function(L){this.setOption("vScrollBarAlwaysVisible",L)},M.prototype.$updateScrollBarV=function(){var L=this.layerConfig.maxHeight,R=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(L-=(R-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>L-R&&(L=this.scrollTop+R,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(L+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},M.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},M.prototype.freeze=function(){this.$frozen=!0},M.prototype.unfreeze=function(){this.$frozen=!1},M.prototype.$renderChanges=function(L,R){if(this.$changes&&(L|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!L&&!R){this.$changes|=L;return}if(this.$size.$dirty)return this.$changes|=L,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",L),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var _=this.layerConfig;if(L&this.CHANGE_FULL||L&this.CHANGE_SIZE||L&this.CHANGE_TEXT||L&this.CHANGE_LINES||L&this.CHANGE_SCROLL||L&this.CHANGE_H_SCROLL){if(L|=this.$computeLayerConfig()|this.$loop.clear(),_.firstRow!=this.layerConfig.firstRow&&_.firstRowScreen==this.layerConfig.firstRowScreen){var b=this.scrollTop+(_.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;b>0&&(this.scrollTop=b,L=L|this.CHANGE_SCROLL,L|=this.$computeLayerConfig()|this.$loop.clear())}_=this.layerConfig,this.$updateScrollBarV(),L&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),p.translate(this.content,-this.scrollLeft,-_.offset);var E=_.width+2*this.$padding+"px",S=_.minHeight+"px";p.setStyle(this.content.style,"width",E),p.setStyle(this.content.style,"height",S)}if(L&this.CHANGE_H_SCROLL&&(p.translate(this.content,-this.scrollLeft,-_.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),L&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(_),this.$showGutter&&this.$gutterLayer.update(_),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_),this.$markerBack.update(_),this.$markerFront.update(_),this.$cursorLayer.update(_),this.$moveTextAreaToCursor(),this._signal("afterRender",L);return}if(L&this.CHANGE_SCROLL){this.$changedLines=null,L&this.CHANGE_TEXT||L&this.CHANGE_LINES?this.$textLayer.update(_):this.$textLayer.scrollLines(_),this.$showGutter&&(L&this.CHANGE_GUTTER||L&this.CHANGE_LINES?this.$gutterLayer.update(_):this.$gutterLayer.scrollLines(_)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_),this.$markerBack.update(_),this.$markerFront.update(_),this.$cursorLayer.update(_),this.$moveTextAreaToCursor(),this._signal("afterRender",L);return}L&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(_),this.$showGutter&&this.$gutterLayer.update(_),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_)):L&this.CHANGE_LINES?((this.$updateLines()||L&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(_),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_)):L&this.CHANGE_TEXT||L&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(_),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_)):L&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(_),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(_)),L&this.CHANGE_CURSOR&&(this.$cursorLayer.update(_),this.$moveTextAreaToCursor()),L&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(_),L&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(_),this._signal("afterRender",L)},M.prototype.$autosize=function(){var L=this.session.getScreenLength()*this.lineHeight,R=this.$maxLines*this.lineHeight,_=Math.min(R,Math.max((this.$minLines||1)*this.lineHeight,L))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(_+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&_>this.$maxPixelHeight&&(_=this.$maxPixelHeight);var b=_<=2*this.lineHeight,E=!b&&L>R;if(_!=this.desiredHeight||this.$size.height!=this.desiredHeight||E!=this.$vScroll){E!=this.$vScroll&&(this.$vScroll=E,this.scrollBarV.setVisible(E));var S=this.container.clientWidth;this.container.style.height=_+"px",this.$updateCachedSize(!0,this.$gutterWidth,S,_),this.desiredHeight=_,this._signal("autosize")}},M.prototype.$computeLayerConfig=function(){var L=this.session,R=this.$size,_=R.height<=2*this.lineHeight,b=this.session.getScreenLength(),E=b*this.lineHeight,S=this.$getLongestLine(),I=!_&&(this.$hScrollBarAlwaysVisible||R.scrollerWidth-S-2*this.$padding<0),O=this.$horizScroll!==I;O&&(this.$horizScroll=I,this.scrollBarH.setVisible(I));var D=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var P=R.scrollerHeight+this.lineHeight,B=!this.$maxLines&&this.$scrollPastEnd?(R.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;E+=B;var F=this.scrollMargin;this.session.setScrollTop(Math.max(-F.top,Math.min(this.scrollTop,E-R.scrollerHeight+F.bottom))),this.session.setScrollLeft(Math.max(-F.left,Math.min(this.scrollLeft,S+2*this.$padding-R.scrollerWidth+F.right)));var W=!_&&(this.$vScrollBarAlwaysVisible||R.scrollerHeight-E+B<0||this.scrollTop>F.top),N=D!==W;N&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var j=this.scrollTop%this.lineHeight,V=Math.ceil(P/this.lineHeight)-1,H=Math.max(0,Math.round((this.scrollTop-j)/this.lineHeight)),G=H+V,X,J,K=this.lineHeight;H=L.screenToDocumentRow(H,0);var ee=L.getFoldLine(H);ee&&(H=ee.start.row),X=L.documentToScreenRow(H,0),J=L.getRowLength(H)*K,G=Math.min(L.screenToDocumentRow(G,0),L.getLength()-1),P=R.scrollerHeight+L.getRowLength(G)*K+J,j=this.scrollTop-X*K;var fe=0;return(this.layerConfig.width!=S||O)&&(fe=this.CHANGE_H_SCROLL),(O||N)&&(fe|=this.$updateCachedSize(!0,this.gutterWidth,R.width,R.height),this._signal("scrollbarVisibilityChanged"),N&&(S=this.$getLongestLine())),this.layerConfig={width:S,padding:this.$padding,firstRow:H,firstRowScreen:X,lastRow:G,lineHeight:K,characterWidth:this.characterWidth,minHeight:P,maxHeight:E,offset:j,gutterOffset:K?Math.max(0,Math.ceil((j+R.height-R.scrollerHeight)/K)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(S-this.$padding),fe},M.prototype.$updateLines=function(){if(this.$changedLines){var L=this.$changedLines.firstRow,R=this.$changedLines.lastRow;this.$changedLines=null;var _=this.layerConfig;if(!(L>_.lastRow+1)&&!(R<_.firstRow)){if(R===1/0){this.$showGutter&&this.$gutterLayer.update(_),this.$textLayer.update(_);return}return this.$textLayer.updateLines(_,L,R),!0}}},M.prototype.$getLongestLine=function(){var L=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(L+=1),this.$textLayer&&L>this.$textLayer.MAX_LINE_LENGTH&&(L=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(L*this.characterWidth))},M.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},M.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},M.prototype.addGutterDecoration=function(L,R){this.$gutterLayer.addGutterDecoration(L,R)},M.prototype.removeGutterDecoration=function(L,R){this.$gutterLayer.removeGutterDecoration(L,R)},M.prototype.updateBreakpoints=function(L){this._rows=L,this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.setAnnotations=function(L){this.$gutterLayer.setAnnotations(L),this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},M.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},M.prototype.showCursor=function(){this.$cursorLayer.showCursor()},M.prototype.scrollSelectionIntoView=function(L,R,_){this.scrollCursorIntoView(L,_),this.scrollCursorIntoView(R,_)},M.prototype.scrollCursorIntoView=function(L,R,_){if(this.$size.scrollerHeight!==0){var b=this.$cursorLayer.getPixelPosition(L),E=b.left,S=b.top,I=_&&_.top||0,O=_&&_.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var D=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;D+I>S?(R&&D+I>S+this.lineHeight&&(S-=R*this.$size.scrollerHeight),S===0&&(S=-this.scrollMargin.top),this.session.setScrollTop(S)):D+this.$size.scrollerHeight-O<S+this.lineHeight&&(R&&D+this.$size.scrollerHeight-O<S-this.lineHeight&&(S+=R*this.$size.scrollerHeight),this.session.setScrollTop(S+this.lineHeight+O-this.$size.scrollerHeight));var P=this.scrollLeft,B=2*this.layerConfig.characterWidth;E-B<P?(E-=B,E<this.$padding+B&&(E=-this.scrollMargin.left),this.session.setScrollLeft(E)):(E+=B,P+this.$size.scrollerWidth<E+this.characterWidth?this.session.setScrollLeft(Math.round(E+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&E-P<this.characterWidth&&this.session.setScrollLeft(0))}},M.prototype.getScrollTop=function(){return this.session.getScrollTop()},M.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},M.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},M.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},M.prototype.scrollToRow=function(L){this.session.setScrollTop(L*this.lineHeight)},M.prototype.alignCursor=function(L,R){typeof L=="number"&&(L={row:L,column:0});var _=this.$cursorLayer.getPixelPosition(L),b=this.$size.scrollerHeight-this.lineHeight,E=_.top-b*(R||0);return this.session.setScrollTop(E),E},M.prototype.$calcSteps=function(L,R){var _=0,b=this.STEPS,E=[],S=function(I,O,D){return D*(Math.pow(I-1,3)+1)+O};for(_=0;_<b;++_)E.push(S(_/this.STEPS,L,R-L));return E},M.prototype.scrollToLine=function(L,R,_,b){var E=this.$cursorLayer.getPixelPosition({row:L,column:0}),S=E.top;R&&(S-=this.$size.scrollerHeight/2);var I=this.scrollTop;this.session.setScrollTop(S),_!==!1&&this.animateScrolling(I,b)},M.prototype.animateScrolling=function(L,R){var _=this.scrollTop;if(!this.$animatedScroll)return;var b=this;if(L==_)return;if(this.$scrollAnimation){var E=this.$scrollAnimation.steps;if(E.length&&(L=E[0],L==_))return}var S=b.$calcSteps(L,_);this.$scrollAnimation={from:L,to:_,steps:S},clearInterval(this.$timer),b.session.setScrollTop(S.shift()),b.session.$scrollTop=_;function I(){b.$timer=clearInterval(b.$timer),b.$scrollAnimation=null,b.$stopAnimation=!1,R&&R()}this.$timer=setInterval(function(){if(b.$stopAnimation){I();return}if(!b.session)return clearInterval(b.$timer);S.length?(b.session.setScrollTop(S.shift()),b.session.$scrollTop=_):_!=null?(b.session.$scrollTop=-1,b.session.setScrollTop(_),_=null):I()},10)},M.prototype.scrollToY=function(L){this.scrollTop!==L&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=L)},M.prototype.scrollToX=function(L){this.scrollLeft!==L&&(this.scrollLeft=L),this.$loop.schedule(this.CHANGE_H_SCROLL)},M.prototype.scrollTo=function(L,R){this.session.setScrollTop(R),this.session.setScrollLeft(L)},M.prototype.scrollBy=function(L,R){R&&this.session.setScrollTop(this.session.getScrollTop()+R),L&&this.session.setScrollLeft(this.session.getScrollLeft()+L)},M.prototype.isScrollableBy=function(L,R){if(R<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||R>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||L<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||L>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},M.prototype.pixelToScreenCoordinates=function(L,R){var _;if(this.$hasCssTransforms){_={top:0,left:0};var b=this.$fontMetrics.transformCoordinates([L,R]);L=b[1]-this.gutterWidth-this.margin.left,R=b[0]}else _=this.scroller.getBoundingClientRect();var E=L+this.scrollLeft-_.left-this.$padding,S=E/this.characterWidth,I=Math.floor((R+this.scrollTop-_.top)/this.lineHeight),O=this.$blockCursor?Math.floor(S):Math.round(S);return{row:I,column:O,side:S-O>0?1:-1,offsetX:E}},M.prototype.screenToTextCoordinates=function(L,R){var _;if(this.$hasCssTransforms){_={top:0,left:0};var b=this.$fontMetrics.transformCoordinates([L,R]);L=b[1]-this.gutterWidth-this.margin.left,R=b[0]}else _=this.scroller.getBoundingClientRect();var E=L+this.scrollLeft-_.left-this.$padding,S=E/this.characterWidth,I=this.$blockCursor?Math.floor(S):Math.round(S),O=Math.floor((R+this.scrollTop-_.top)/this.lineHeight);return this.session.screenToDocumentPosition(O,Math.max(I,0),E)},M.prototype.textToScreenCoordinates=function(L,R){var _=this.scroller.getBoundingClientRect(),b=this.session.documentToScreenPosition(L,R),E=this.$padding+(this.session.$bidiHandler.isBidiRow(b.row,L)?this.session.$bidiHandler.getPosLeft(b.column):Math.round(b.column*this.characterWidth)),S=b.row*this.lineHeight;return{pageX:_.left+E-this.scrollLeft,pageY:_.top+S-this.scrollTop}},M.prototype.visualizeFocus=function(){p.addCssClass(this.container,"ace_focus")},M.prototype.visualizeBlur=function(){p.removeCssClass(this.container,"ace_focus")},M.prototype.showComposition=function(L){this.$composition=L,L.cssText||(L.cssText=this.textarea.style.cssText),L.useTextareaForIME==null&&(L.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(p.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):L.markerId=this.session.addMarker(L.markerRange,"ace_composition_marker","text")},M.prototype.setCompositionText=function(L){var R=this.session.selection.cursor;this.addToken(L,"composition_placeholder",R.row,R.column),this.$moveTextAreaToCursor()},M.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),p.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var L=this.session.selection.cursor;this.removeExtraToken(L.row,L.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},M.prototype.setGhostText=function(L,R){var _=this.session.selection.cursor,b=R||{row:_.row,column:_.column};this.removeGhostText();var E=this.$calculateWrappedTextChunks(L,b);this.addToken(E[0].text,"ghost_text",b.row,b.column),this.$ghostText={text:L,position:{row:b.row,column:b.column}};var S=p.createElement("div");if(E.length>1){var I=this.hideTokensAfterPosition(b.row,b.column),O;E.slice(1).forEach(function(N){var j=p.createElement("div"),V=p.createElement("span");V.className="ace_ghost_text",N.wrapped&&(j.className="ghost_text_line_wrapped"),N.text.length===0&&(N.text=" "),V.appendChild(p.createTextNode(N.text)),j.appendChild(V),S.appendChild(j),O=j}),I.forEach(function(N){var j=p.createElement("span");T(N.type)||(j.className="ace_"+N.type.replace(/\./g," ace_")),j.appendChild(p.createTextNode(N.value)),O.appendChild(j)}),this.$ghostTextWidget={el:S,row:b.row,column:b.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var D=this.$cursorLayer.getPixelPosition(b,!0),P=this.container,B=P.getBoundingClientRect().height,F=E.length*this.lineHeight,W=F<B-D.top;if(W)return;F<B?this.scrollBy(0,(E.length-1)*this.lineHeight):this.scrollToRow(b.row)}},M.prototype.$calculateWrappedTextChunks=function(L,R){var _=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(_/this.characterWidth)-2;b=b<=0?60:b;for(var E=L.split(/\r?\n/),S=[],I=0;I<E.length;I++){var O=this.session.$getDisplayTokens(E[I],R.column),D=this.session.$computeWrapSplits(O,b,this.session.$tabSize);if(D.length>0){var P=0;D.push(E[I].length);for(var B=0;B<D.length;B++){var F=E[I].slice(P,D[B]);S.push({text:F,wrapped:!0}),P=D[B]}}else S.push({text:E[I],wrapped:!1})}return S},M.prototype.removeGhostText=function(){if(this.$ghostText){var L=this.$ghostText.position;this.removeExtraToken(L.row,L.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},M.prototype.addToken=function(L,R,_,b){var E=this.session;E.bgTokenizer.lines[_]=null;var S={type:R,value:L},I=E.getTokens(_);if(b==null||!I.length)I.push(S);else for(var O=0,D=0;D<I.length;D++){var P=I[D];if(O+=P.value.length,b<=O){var B=P.value.length-(O-b),F=P.value.slice(0,B),W=P.value.slice(B);I.splice(D,1,{type:P.type,value:F},S,{type:P.type,value:W});break}}this.updateLines(_,_)},M.prototype.hideTokensAfterPosition=function(L,R){for(var _=this.session.getTokens(L),b=0,E=!1,S=[],I=0;I<_.length;I++){var O=_[I];if(b+=O.value.length,O.type!=="ghost_text"){if(E){S.push({type:O.type,value:O.value}),O.type="hidden_token";continue}b===R&&(E=!0)}}return this.updateLines(L,L),S},M.prototype.removeExtraToken=function(L,R){this.session.bgTokenizer.lines[L]=null,this.updateLines(L,L)},M.prototype.setTheme=function(L,R){var _=this;if(this.$themeId=L,_._dispatchEvent("themeChange",{theme:L}),!L||typeof L=="string"){var b=L||this.$options.theme.initialValue;h.loadModule(["theme",b],E)}else E(L);function E(S){if(_.$themeId!=L)return R&&R();if(!S||!S.cssClass)throw new Error("couldn't load module "+L+" or it didn't call define");S.$id&&(_.$themeId=S.$id),p.importCssString(S.cssText,S.cssClass,_.container),_.theme&&p.removeCssClass(_.container,_.theme.cssClass);var I="padding"in S?S.padding:"padding"in(_.theme||{})?4:_.$padding;_.$padding&&I!=_.$padding&&_.setPadding(I),_.$theme=S.cssClass,_.theme=S,p.addCssClass(_.container,S.cssClass),p.setCssClass(_.container,"ace_dark",S.isDark),_.$size&&(_.$size.width=0,_.$updateSizeAsync()),_._dispatchEvent("themeLoaded",{theme:S}),R&&R(),k.isSafari&&_.scroller&&(_.scroller.style.background="red",_.scroller.style.background="")}},M.prototype.getTheme=function(){return this.$themeId},M.prototype.setStyle=function(L,R){p.setCssClass(this.container,L,R!==!1)},M.prototype.unsetStyle=function(L){p.removeCssClass(this.container,L)},M.prototype.setCursorStyle=function(L){p.setStyle(this.scroller.style,"cursor",L)},M.prototype.setMouseCursor=function(L){p.setStyle(this.scroller.style,"cursor",L)},M.prototype.attachToShadowRoot=function(){p.importCssString(x,"ace_editor.css",this.container)},M.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},M.prototype.$updateCustomScrollbar=function(L){var R=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,L===!0?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(_){R.$scrollAnimation||R.session.setScrollTop(_.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(_){R.$scrollAnimation||R.session.setScrollLeft(_.data-R.scrollMargin.left)}),this.$scrollDecorator=new w(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new s(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(_){R.$scrollAnimation||R.session.setScrollTop(_.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(_){R.$scrollAnimation||R.session.setScrollLeft(_.data-R.scrollMargin.left)}))},M.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var L=this;this.$resizeTimer=m.delayedCall(function(){L.destroyed||L.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(R){var _=R[0].contentRect.width,b=R[0].contentRect.height;Math.abs(L.$size.width-_)>1||Math.abs(L.$size.height-b)>1?L.$resizeTimer.delay():L.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},M}();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,o.implement(A.prototype,C),h.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(M){!M&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):M&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(M){this.$textLayer.setShowInvisibles(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(M){typeof M=="number"&&(this.$printMarginColumn=M),this.$showPrintMargin=!!M,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(M){this.$gutter.style.display=M?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(M){this.$gutterLayer.$useSvgGutterIcons=M},initialValue:!1},showFoldedAnnotations:{set:function(M){this.$gutterLayer.$showFoldedAnnotations=M},initialValue:!1},fadeFoldWidgets:{set:function(M){p.setCssClass(this.$gutter,"ace_fade-fold-widgets",M)},initialValue:!1},showFoldWidgets:{set:function(M){this.$gutterLayer.setShowFoldWidgets(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(M){this.$textLayer.setDisplayIndentGuides(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(M){this.$textLayer.setHighlightIndentGuides(M)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(M){this.$gutterLayer.setHighlightGutterLine(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(M){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(M){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(M){typeof M=="number"&&(M=M+"px"),this.container.style.fontSize=M,this.updateFontSize()},initialValue:12},fontFamily:{set:function(M){this.container.style.fontFamily=M,this.updateFontSize()}},maxLines:{set:function(M){this.updateFull()}},minLines:{set:function(M){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(M){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(M){M=+M||0,this.$scrollPastEnd!=M&&(this.$scrollPastEnd=M,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(M){this.$gutterLayer.$fixedWidth=!!M,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(M){this.$updateCustomScrollbar(M)},initialValue:!1},theme:{set:function(M){this.setTheme(M)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!k.isMobile&&!k.isIE}}),n.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(i,n,c){var o=i("../lib/oop"),p=i("../lib/net"),m=i("../lib/event_emitter").EventEmitter,h=i("../config");function g(u){var s="importScripts('"+p.qualifyURL(u)+"');";try{return new Blob([s],{type:"application/javascript"})}catch{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,f=new r;return f.append(s),f.getBlob("application/javascript")}}function a(u){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(h.get("loadWorkerFromBlob")){var s=g(u),r=window.URL||window.webkitURL,f=r.createObjectURL(s);return new Worker(f)}return new Worker(u)}var l=function(u){u.postMessage||(u=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=u,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,m),this.$createWorkerFromOldConfig=function(u,s,r,f,v){if(i.nameToUrl&&!i.toUrl&&(i.toUrl=i.nameToUrl),h.get("packaged")||!i.toUrl)f=f||h.moduleUrl(s,"worker");else{var y=this.$normalizePath;f=f||y(i.toUrl("ace/worker/worker.js",null,"_"));var C={};u.forEach(function(x){C[x]=y(i.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(f),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:C,module:s,classname:r}),this.$worker},this.onMessage=function(u){var s=u.data;switch(s.type){case"event":this._signal(s.name,{data:s.data});break;case"call":var r=this.callbacks[s.id];r&&(r(s.data),delete this.callbacks[s.id]);break;case"error":this.reportError(s.data);break;case"log":window.console&&console.log&&console.log.apply(console,s.data);break}},this.reportError=function(u){window.console&&console.error&&console.error(u)},this.$normalizePath=function(u){return p.qualifyURL(u)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(u){u.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(u,s){this.$worker.postMessage({command:u,args:s})},this.call=function(u,s,r){if(r){var f=this.callbackId++;this.callbacks[f]=r,s.push(f)}this.send(u,s)},this.emit=function(u,s){try{s.data&&s.data.err&&(s.data.err={message:s.data.err.message,stack:s.data.err.stack,code:s.data.err.code}),this.$worker&&this.$worker.postMessage({event:u,data:{data:s.data}})}catch(r){console.error(r.stack)}},this.attachToDocument=function(u){this.$doc&&this.terminate(),this.$doc=u,this.call("setValue",[u.getValue()]),u.on("change",this.changeListener,!0)},this.changeListener=function(u){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),u.action=="insert"?this.deltaQueue.push(u.start,u.lines):this.deltaQueue.push(u.start,u.end)},this.$sendDeltaQueue=function(){var u=this.deltaQueue;u&&(this.deltaQueue=null,u.length>50&&u.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:u}))}}).call(l.prototype);var d=function(u,s,r){var f=null,v=!1,y=Object.create(m),C=[],x=new l({messageBuffer:C,terminate:function(){},postMessage:function(k){C.push(k),f&&(v?setTimeout(w):w())}});x.setEmitSync=function(k){v=k};var w=function(){var k=C.shift();k.command?f[k.command].apply(f,k.args):k.event&&y._signal(k.event,k.data)};return y.postMessage=function(k){x.onMessage({data:k})},y.callback=function(k,T){this.postMessage({type:"call",id:T,data:k})},y.emit=function(k,T){this.postMessage({type:"event",name:k,data:T})},h.loadModule(["worker",s],function(k){for(f=new k[r](y);C.length;)w()}),x};n.UIWorkerClient=d,n.WorkerClient=l,n.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(i,n,c){var o=i("./range").Range,p=i("./lib/event_emitter").EventEmitter,m=i("./lib/oop"),h=function(){function g(a,l,d,u,s,r){var f=this;this.length=l,this.session=a,this.doc=a.getDocument(),this.mainClass=s,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=u,this.$onCursorChange=function(){setTimeout(function(){f.onCursorChange()})},this.$pos=d;var v=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)}return g.prototype.setup=function(){var a=this,l=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON(),d.selection.inMultiSelectMode&&d.selection.toSingleRange(),this.pos=l.createAnchor(this.$pos.row,this.$pos.column);var u=this.pos;u.$insertRight=!0,u.detach(),u.markerId=d.addMarker(new o(u.row,u.column,u.row,u.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(s){var r=l.createAnchor(s.row,s.column);r.$insertRight=!0,r.detach(),a.others.push(r)}),d.setUndoSelect(!1)},g.prototype.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,l=this;this.othersActive=!0,this.others.forEach(function(d){d.markerId=a.addMarker(new o(d.row,d.column,d.row,d.column+l.length),l.othersClass,null,!1)})}},g.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},g.prototype.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var l=a;if(l.start.row===l.end.row&&l.start.row===this.pos.row){this.$updating=!0;var d=a.action==="insert"?l.end.column-l.start.column:l.start.column-l.end.column,u=l.start.column>=this.pos.column&&l.start.column<=this.pos.column+this.length+1,s=l.start.column-this.pos.column;if(this.updateAnchors(a),u&&(this.length+=d),u&&!this.session.$fromUndo){if(a.action==="insert")for(var r=this.others.length-1;r>=0;r--){var f=this.others[r],v={row:f.row,column:f.column+s};this.doc.insertMergedLines(v,a.lines)}else if(a.action==="remove")for(var r=this.others.length-1;r>=0;r--){var f=this.others[r],v={row:f.row,column:f.column+s};this.doc.remove(new o(v.row,v.column,v.row,v.column-d))}}this.$updating=!1,this.updateMarkers()}},g.prototype.updateAnchors=function(a){this.pos.onChange(a);for(var l=this.others.length;l--;)this.others[l].onChange(a);this.updateMarkers()},g.prototype.updateMarkers=function(){if(!this.$updating){var a=this,l=this.session,d=function(s,r){l.removeMarker(s.markerId),s.markerId=l.addMarker(new o(s.row,s.column,s.row,s.column+a.length),r,null,!1)};d(this.pos,this.mainClass);for(var u=this.others.length;u--;)d(this.others[u],this.othersClass)}},g.prototype.onCursorChange=function(a){if(!(this.$updating||!this.session)){var l=this.session.selection.getCursor();l.row===this.pos.row&&l.column>=this.pos.column&&l.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},g.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},g.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var a=this.session.getUndoManager(),l=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,d=0;d<l;d++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},g}();m.implement(h.prototype,p),n.PlaceHolder=h}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,n,c){var o=i("../lib/event"),p=i("../lib/useragent");function m(g,a){return g.row==a.row&&g.column==a.column}function h(g){var a=g.domEvent,l=a.altKey,d=a.shiftKey,u=a.ctrlKey,s=g.getAccelKey(),r=g.getButton();if(u&&p.isMac&&(r=a.button),g.editor.inMultiSelectMode&&r==2){g.editor.textInput.onContextMenu(g.domEvent);return}if(!u&&!l&&!s){r===0&&g.editor.inMultiSelectMode&&g.editor.exitMultiSelectMode();return}if(r===0){var f=g.editor,v=f.selection,y=f.inMultiSelectMode,C=g.getDocumentPosition(),x=v.getCursor(),w=g.inSelection()||v.isEmpty()&&m(C,x),k=g.x,T=g.y,A=function(F){k=F.clientX,T=F.clientY},M=f.session,L=f.renderer.pixelToScreenCoordinates(k,T),R=L,_;if(f.$mouseHandler.$enableJumpToDef)u&&l||s&&l?_=d?"block":"add":l&&f.$blockSelectEnabled&&(_="block");else if(s&&!l){if(_="add",!y&&d)return}else l&&f.$blockSelectEnabled&&(_="block");if(_&&p.isMac&&a.ctrlKey&&f.$mouseHandler.cancelContextMenu(),_=="add"){if(!y&&w)return;if(!y){var b=v.toOrientedRange();f.addSelectionMarker(b)}var E=v.rangeList.rangeAtPoint(C);f.inVirtualSelectionMode=!0,d&&(E=null,b=v.ranges[0]||b,f.removeSelectionMarker(b)),f.once("mouseup",function(){var F=v.toOrientedRange();E&&F.isEmpty()&&m(E.cursor,F.cursor)?v.substractPoint(F.cursor):(d?v.substractPoint(b.cursor):b&&(f.removeSelectionMarker(b),v.addRange(b)),v.addRange(F)),f.inVirtualSelectionMode=!1})}else if(_=="block"){g.stop(),f.inVirtualSelectionMode=!0;var S,I=[],O=function(){var F=f.renderer.pixelToScreenCoordinates(k,T),W=M.screenToDocumentPosition(F.row,F.column,F.offsetX);m(R,F)&&m(W,v.lead)||(R=F,f.selection.moveToPosition(W),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(I),I=v.rectangularRangeBlock(R,L),f.$mouseHandler.$clickSelection&&I.length==1&&I[0].isEmpty()&&(I[0]=f.$mouseHandler.$clickSelection.clone()),I.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers())};y&&!s?v.toSingleRange():!y&&s&&(S=v.toOrientedRange(),f.addSelectionMarker(S)),d?L=M.documentToScreenPosition(v.lead):v.moveToPosition(C),R={row:-1,column:-1};var D=function(F){O(),clearInterval(B),f.removeSelectionMarkers(I),I.length||(I=[v.toOrientedRange()]),S&&(f.removeSelectionMarker(S),v.toSingleRange(S));for(var W=0;W<I.length;W++)v.addRange(I[W]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null},P=O;o.capture(f.container,A,D);var B=setInterval(function(){P()},20);return g.preventDefault()}}}n.onMouseDown=h}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(i,n,c){n.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(p){p.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(p){p.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(p){p.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(p){p.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(p){p.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(p){p.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(p){p.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(p){p.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(p){p.multiSelect.rangeCount>1?p.multiSelect.joinSelections():p.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(p){p.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(p){p.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(p){p.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],n.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(p){p.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(p){return p&&p.inMultiSelectMode}}];var o=i("../keyboard/hash_handler").HashHandler;n.keyboardHandler=new o(n.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(i,n,c){var o=i("./range_list").RangeList,p=i("./range").Range,m=i("./selection").Selection,h=i("./mouse/multi_select_handler").onMouseDown,g=i("./lib/event"),a=i("./lib/lang"),l=i("./commands/multi_select_commands");n.commands=l.defaultCommands.concat(l.multiSelectCommands);var d=i("./search").Search,u=new d;function s(x,w,k){return u.$options.wrap=!0,u.$options.needle=w,u.$options.backwards=k==-1,u.find(x)}var r=i("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(r.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(x,w){if(x){if(!this.inMultiSelectMode&&this.rangeCount===0){var k=this.toOrientedRange();if(this.rangeList.add(k),this.rangeList.add(x),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),w||this.fromOrientedRange(x);this.rangeList.removeAll(),this.rangeList.add(k),this.$onAddRange(k)}x.cursor||(x.cursor=x.end);var T=this.rangeList.add(x);return this.$onAddRange(x),T.length&&this.$onRemoveRange(T),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),w||this.fromOrientedRange(x)}},this.toSingleRange=function(x){x=x||this.ranges[0];var w=this.rangeList.removeAll();w.length&&this.$onRemoveRange(w),x&&this.fromOrientedRange(x)},this.substractPoint=function(x){var w=this.rangeList.substractPoint(x);if(w)return this.$onRemoveRange(w),w[0]},this.mergeOverlappingRanges=function(){var x=this.rangeList.merge();x.length&&this.$onRemoveRange(x)},this.$onAddRange=function(x){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(x),this._signal("addRange",{range:x})},this.$onRemoveRange=function(x){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var w=this.rangeList.ranges.pop();x.push(w),this.rangeCount=0}for(var k=x.length;k--;){var T=this.ranges.indexOf(x[k]);this.ranges.splice(T,1)}this._signal("removeRange",{ranges:x}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),w=w||this.ranges[0],w&&!w.isEqual(this.getRange())&&this.fromOrientedRange(w)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var x=this.ranges.length?this.ranges:[this.getRange()],w=[],k=0;k<x.length;k++){var T=x[k],A=T.start.row,M=T.end.row;if(A===M)w.push(T.clone());else{for(w.push(new p(A,T.start.column,A,this.session.getLine(A).length));++A<M;)w.push(this.getLineRange(A,!0));w.push(new p(M,0,M,T.end.column))}k==0&&!this.isBackwards()&&(w=w.reverse())}this.toSingleRange();for(var k=w.length;k--;)this.addRange(w[k])},this.joinSelections=function(){var x=this.rangeList.ranges,w=x[x.length-1],k=p.fromPoints(x[0].start,w.end);this.toSingleRange(),this.setSelectionRange(k,w.cursor==w.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var x=this.rangeList.ranges,w=x[x.length-1],k=p.fromPoints(x[0].start,w.end);this.toSingleRange(),this.setSelectionRange(k,w.cursor==w.start)}else{var T=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),M=this.rectangularRangeBlock(T,A);M.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(x,w,k){var T=[],A=x.column<w.column;if(A)var M=x.column,L=w.column,R=x.offsetX,_=w.offsetX;else var M=w.column,L=x.column,R=w.offsetX,_=x.offsetX;var b=x.row<w.row;if(b)var E=x.row,S=w.row;else var E=w.row,S=x.row;M<0&&(M=0),E<0&&(E=0),E==S&&(k=!0);for(var I,O=E;O<=S;O++){var D=p.fromPoints(this.session.screenToDocumentPosition(O,M,R),this.session.screenToDocumentPosition(O,L,_));if(D.isEmpty()){if(I&&v(D.end,I))break;I=D.end}D.cursor=A?D.start:D.end,T.push(D)}if(b&&T.reverse(),!k){for(var P=T.length-1;T[P].isEmpty()&&P>0;)P--;if(P>0)for(var B=0;T[B].isEmpty();)B++;for(var F=P;F>=B;F--)T[F].isEmpty()&&T.splice(F,1)}return T}}).call(m.prototype);var f=i("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(x){x.cursor||(x.cursor=x.end);var w=this.getSelectionStyle();return x.marker=this.session.addMarker(x,"ace_selection",w),this.session.$selectionMarkers.push(x),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,x},this.removeSelectionMarker=function(x){if(x.marker){this.session.removeMarker(x.marker);var w=this.session.$selectionMarkers.indexOf(x);w!=-1&&this.session.$selectionMarkers.splice(w,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(x){for(var w=this.session.$selectionMarkers,k=x.length;k--;){var T=x[k];if(T.marker){this.session.removeMarker(T.marker);var A=w.indexOf(T);A!=-1&&w.splice(A,1)}}this.session.selectionMarkerCount=w.length},this.$onAddRange=function(x){this.addSelectionMarker(x.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(x){this.removeSelectionMarkers(x.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(x){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(x){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(x){var w=x.command,k=x.editor;if(k.multiSelect){if(w.multiSelectAction)w.multiSelectAction=="forEach"?T=k.forEachSelection(w,x.args):w.multiSelectAction=="forEachLine"?T=k.forEachSelection(w,x.args,!0):w.multiSelectAction=="single"?(k.exitMultiSelectMode(),T=w.exec(k,x.args||{})):T=w.multiSelectAction(k,x.args||{});else{var T=w.exec(k,x.args||{});k.multiSelect.addRange(k.multiSelect.toOrientedRange()),k.multiSelect.mergeOverlappingRanges()}return T}},this.forEachSelection=function(x,w,k){if(!this.inVirtualSelectionMode){var T=k&&k.keepOrder,A=k==!0||k&&k.$byLines,M=this.session,L=this.selection,R=L.rangeList,_=(T?L:R).ranges,b;if(!_.length)return x.exec?x.exec(this,w||{}):x(this,w||{});var E=L._eventRegistry;L._eventRegistry={};var S=new m(M);this.inVirtualSelectionMode=!0;for(var I=_.length;I--;){if(A)for(;I>0&&_[I].start.row==_[I-1].end.row;)I--;S.fromOrientedRange(_[I]),S.index=I,this.selection=M.selection=S;var O=x.exec?x.exec(this,w||{}):x(this,w||{});!b&&O!==void 0&&(b=O),S.toOrientedRange(_[I])}S.detach(),this.selection=M.selection=L,this.inVirtualSelectionMode=!1,L._eventRegistry=E,L.mergeOverlappingRanges(),L.ranges[0]&&L.fromOrientedRange(L.ranges[0]);var D=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),D&&D.from==D.to&&this.renderer.animateScrolling(D.from),b}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var x="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var w=this.multiSelect.rangeList.ranges,k=[],T=0;T<w.length;T++)k.push(this.session.getTextRange(w[T]));var A=this.session.getDocument().getNewLineCharacter();x=k.join(A),x.length==(k.length-1)*A.length&&(x="")}else this.selection.isEmpty()||(x=this.session.getTextRange(this.getSelectionRange()));return x},this.$checkMultiselectChange=function(x,w){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var k=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&w==this.multiSelect.anchor)return;var T=w==this.multiSelect.anchor?k.cursor==k.start?k.end:k.start:k.cursor;T.row!=w.row||this.session.$clipPositionToDocument(T.row,T.column).column!=w.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(x,w,k){if(w=w||{},w.needle=x||w.needle,w.needle==null){var T=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();w.needle=this.session.getTextRange(T)}this.$search.set(w);var A=this.$search.findAll(this.session);if(!A.length)return 0;var M=this.multiSelect;k||M.toSingleRange(A[0]);for(var L=A.length;L--;)M.addRange(A[L],!0);return T&&M.rangeList.rangeAtPoint(T.start)&&M.addRange(T,!0),A.length},this.selectMoreLines=function(x,w){var k=this.selection.toOrientedRange(),T=k.cursor==k.end,A=this.session.documentToScreenPosition(k.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var M=this.session.screenToDocumentPosition(A.row+x,A.column);if(k.isEmpty())var R=M;else var L=this.session.documentToScreenPosition(T?k.end:k.start),R=this.session.screenToDocumentPosition(L.row+x,L.column);if(T){var _=p.fromPoints(M,R);_.cursor=_.start}else{var _=p.fromPoints(R,M);_.cursor=_.end}if(_.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(k);else if(w)var b=k.cursor;this.selection.addRange(_),b&&this.selection.substractPoint(b)},this.transposeSelections=function(x){for(var w=this.session,k=w.multiSelect,T=k.ranges,A=T.length;A--;){var M=T[A];if(M.isEmpty()){var L=w.getWordRange(M.start.row,M.start.column);M.start.row=L.start.row,M.start.column=L.start.column,M.end.row=L.end.row,M.end.column=L.end.column}}k.mergeOverlappingRanges();for(var R=[],A=T.length;A--;){var M=T[A];R.unshift(w.getTextRange(M))}x<0?R.unshift(R.pop()):R.push(R.shift());for(var A=T.length;A--;){var M=T[A],_=M.clone();w.replace(M,R[A]),M.start.row=_.start.row,M.start.column=_.start.column}k.fromOrientedRange(k.ranges[0])},this.selectMore=function(x,w,k){var T=this.session,A=T.multiSelect,M=A.toOrientedRange();if(!(M.isEmpty()&&(M=T.getWordRange(M.start.row,M.start.column),M.cursor=x==-1?M.start:M.end,this.multiSelect.addRange(M),k))){var L=T.getTextRange(M),R=s(T,L,x);R&&(R.cursor=x==-1?R.start:R.end,this.session.unfold(R),this.multiSelect.addRange(R),this.renderer.scrollCursorIntoView(null,.5)),w&&this.multiSelect.substractPoint(M.cursor)}},this.alignCursors=function(){var x=this.session,w=x.multiSelect,k=w.ranges,T=-1,A=k.filter(function(P){if(P.cursor.row==T)return!0;T=P.cursor.row});if(!k.length||A.length==k.length-1){var M=this.selection.getRange(),L=M.start.row,R=M.end.row,_=L==R;if(_){var b=this.session.getLength(),E;do E=this.session.getLine(R);while(/[=:]/.test(E)&&++R<b);do E=this.session.getLine(L);while(/[=:]/.test(E)&&--L>0);L<0&&(L=0),R>=b&&(R=b-1)}var S=this.session.removeFullLines(L,R);S=this.$reAlignText(S,_),this.session.insert({row:L,column:0},S.join(`
`)+`
`),_||(M.start.column=0,M.end.column=S[S.length-1].length),this.selection.setRange(M)}else{A.forEach(function(P){w.substractPoint(P.cursor)});var I=0,O=1/0,D=k.map(function(P){var B=P.cursor,F=x.getLine(B.row),W=F.substr(B.column).search(/\S/g);return W==-1&&(W=0),B.column>I&&(I=B.column),W<O&&(O=W),W});k.forEach(function(P,B){var F=P.cursor,W=I-F.column,N=D[B]-O;W>N?x.insert(F,a.stringRepeat(" ",W-N)):x.remove(new p(F.row,F.column,F.row,F.column-W+N)),P.start.column=P.end.column=I,P.start.row=P.end.row=F.row,P.cursor=P.end}),w.fromOrientedRange(k[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(x,w){var k=!0,T=!0,A,M,L;return x.map(function(S){var I=S.match(/(\s*)(.*?)(\s*)([=:].*)/);return I?A==null?(A=I[1].length,M=I[2].length,L=I[3].length,I):(A+M+L!=I[1].length+I[2].length+I[3].length&&(T=!1),A!=I[1].length&&(k=!1),A>I[1].length&&(A=I[1].length),M<I[2].length&&(M=I[2].length),L>I[3].length&&(L=I[3].length),I):[S]}).map(w?_:k?T?b:_:E);function R(S){return a.stringRepeat(" ",S)}function _(S){return S[2]?R(A)+S[2]+R(M-S[2].length+L)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}function b(S){return S[2]?R(A+M-S[2].length)+S[2]+R(L)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}function E(S){return S[2]?R(A)+S[2]+R(L)+S[4].replace(/^([=:])\s+/,"$1 "):S[0]}}}).call(f.prototype);function v(x,w){return x.row==w.row&&x.column==w.column}n.onSessionChange=function(x){var w=x.session;w&&!w.multiSelect&&(w.$selectionMarkers=[],w.selection.$initRangeList(),w.multiSelect=w.selection),this.multiSelect=w&&w.multiSelect;var k=x.oldSession;k&&(k.multiSelect.off("addRange",this.$onAddRange),k.multiSelect.off("removeRange",this.$onRemoveRange),k.multiSelect.off("multiSelect",this.$onMultiSelect),k.multiSelect.off("singleSelect",this.$onSingleSelect),k.multiSelect.lead.off("change",this.$checkMultiselectChange),k.multiSelect.anchor.off("change",this.$checkMultiselectChange)),w&&(w.multiSelect.on("addRange",this.$onAddRange),w.multiSelect.on("removeRange",this.$onRemoveRange),w.multiSelect.on("multiSelect",this.$onMultiSelect),w.multiSelect.on("singleSelect",this.$onSingleSelect),w.multiSelect.lead.on("change",this.$checkMultiselectChange),w.multiSelect.anchor.on("change",this.$checkMultiselectChange)),w&&this.inMultiSelectMode!=w.selection.inMultiSelectMode&&(w.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function y(x){x.$multiselectOnSessionChange||(x.$onAddRange=x.$onAddRange.bind(x),x.$onRemoveRange=x.$onRemoveRange.bind(x),x.$onMultiSelect=x.$onMultiSelect.bind(x),x.$onSingleSelect=x.$onSingleSelect.bind(x),x.$multiselectOnSessionChange=n.onSessionChange.bind(x),x.$checkMultiselectChange=x.$checkMultiselectChange.bind(x),x.$multiselectOnSessionChange(x),x.on("changeSession",x.$multiselectOnSessionChange),x.on("mousedown",h),x.commands.addCommands(l.defaultCommands),C(x))}function C(x){if(!x.textInput)return;var w=x.textInput.getElement(),k=!1;g.addListener(w,"keydown",function(A){var M=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);x.$blockSelectEnabled&&M?k||(x.renderer.setMouseCursor("crosshair"),k=!0):k&&T()},x),g.addListener(w,"keyup",T,x),g.addListener(w,"blur",T,x);function T(A){k&&(x.renderer.setMouseCursor(""),k=!1)}}n.MultiSelect=y,i("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(x){y(this),x?this.on("mousedown",h):this.off("mousedown",h)},value:!0},enableBlockSelect:{set:function(x){this.$blockSelectEnabled=x},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(i,n,c){var o=i("../../range").Range,p=n.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(m,h,g){var a=m.getLine(g);return this.foldingStartMarker.test(a)?"start":h=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(a)?"end":""},this.getFoldWidgetRange=function(m,h,g){return null},this.indentationBlock=function(m,h,g){var a=/\S/,l=m.getLine(h),d=l.search(a);if(d!=-1){for(var u=g||l.length,s=m.getLength(),r=h,f=h;++h<s;){var v=m.getLine(h).search(a);if(v!=-1){if(v<=d){var y=m.getTokenAt(h,0);if(!y||y.type!=="string")break}f=h}}if(f>r){var C=m.getLine(f).length;return new o(r,u,f,C)}}},this.openingBracketBlock=function(m,h,g,a,l){var d={row:g,column:a+1},u=m.$findClosingBracket(h,d,l);if(u){var s=m.foldWidgets[u.row];return s==null&&(s=m.getFoldWidget(u.row)),s=="start"&&u.row>d.row&&(u.row--,u.column=m.getLine(u.row).length),o.fromPoints(d,u)}},this.closingBracketBlock=function(m,h,g,a,l){var d={row:g,column:a},u=m.$findOpeningBracket(h,d);if(u)return u.column++,d.column--,o.fromPoints(u,d)}}).call(p.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(i,n,c){var o=i("../lib/dom"),p=i("../range").Range,m=i("../config").nls;function h(a,l,d){for(var u=0,s=a.length-1;u<=s;){var r=u+s>>1,f=d(l,a[r]);if(f>0)u=r+1;else if(f<0)s=r-1;else return r}return-(u+1)}function g(a,l,d){var u=a.getAnnotations().sort(p.comparePoints);if(u.length){var s=h(u,{row:l,column:-1},p.comparePoints);s<0&&(s=-s-1),s>=u.length?s=d>0?0:u.length-1:s===0&&d<0&&(s=u.length-1);var r=u[s];if(!(!r||!d)){if(r.row===l){do r=u[s+=d];while(r&&r.row===l);if(!r)return u.slice()}var f=[];l=r.row;do f[d<0?"unshift":"push"](r),r=u[s+=d];while(r&&r.row==l);return f.length&&f}}}n.showErrorMarker=function(a,l){var d=a.session,u=a.getCursorPosition(),s=u.row,r=d.widgetManager.getWidgetsAtRow(s).filter(function(A){return A.type=="errorMarker"})[0];r?r.destroy():s-=l;var f=g(d,s,l),v;if(f){var y=f[0];u.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,u.row=y.row,v=a.renderer.$gutterLayer.$annotations[u.row]}else{if(r)return;v={displayText:[m("error-marker.good-state","Looks good!")],className:"ace_ok"}}a.session.unfold(u.row),a.selection.moveToPosition(u);var C={row:u.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},x=C.el.appendChild(o.createElement("div")),w=C.el.appendChild(o.createElement("div"));w.className="error_widget_arrow "+v.className;var k=a.renderer.$cursorLayer.getPixelPosition(u).left;w.style.left=k+a.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",x.className="error_widget "+v.className,v.displayText.forEach(function(A,M){x.appendChild(o.createTextNode(A)),M<v.displayText.length-1&&x.appendChild(o.createElement("br"))}),x.appendChild(o.createElement("div"));var T=function(A,M,L){if(M===0&&(L==="esc"||L==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){a.$mouseHandler.isMousePressed||(a.keyBinding.removeKeyboardHandler(T),d.widgetManager.removeLineWidget(C),a.off("changeSelection",C.destroy),a.off("changeSession",C.destroy),a.off("mouseup",C.destroy),a.off("change",C.destroy))},a.keyBinding.addKeyboardHandler(T),a.on("changeSelection",C.destroy),a.on("changeSession",C.destroy),a.on("mouseup",C.destroy),a.on("change",C.destroy),a.session.widgetManager.addLineWidget(C),C.el.onmousedown=a.focus.bind(a),a.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},o.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(i,n,c){i("./loader_build")(n);var o=i("./lib/dom"),p=i("./range").Range,m=i("./editor").Editor,h=i("./edit_session").EditSession,g=i("./undomanager").UndoManager,a=i("./virtual_renderer").VirtualRenderer;i("./worker/worker_client"),i("./keyboard/hash_handler"),i("./placeholder"),i("./multi_select"),i("./mode/folding/fold_mode"),i("./theme/textmate"),i("./ext/error_marker"),n.config=i("./config"),n.edit=function(d,u){if(typeof d=="string"){var s=d;if(d=document.getElementById(s),!d)throw new Error("ace.edit can't find div #"+s)}if(d&&d.env&&d.env.editor instanceof m)return d.env.editor;var r="";if(d&&/input|textarea/i.test(d.tagName)){var f=d;r=f.value,d=o.createElement("pre"),f.parentNode.replaceChild(d,f)}else d&&(r=d.textContent,d.innerHTML="");var v=n.createEditSession(r),y=new m(new a(d),v,u),C={document:v,editor:y,onResize:y.resize.bind(y,null)};return f&&(C.textarea=f),y.on("destroy",function(){C.editor.container.env=null}),y.container.env=y.env=C,y},n.createEditSession=function(d,u){var s=new h(d,u);return s.setUndoManager(new g),s},n.Range=p,n.Editor=m,n.EditSession=h,n.UndoManager=g,n.VirtualRenderer=a;var l=n.config.version;n.version=l}),function(){ace.require(["ace/ace"],function(i){i&&(i.config.init(!0),i.define=ace.define);var n=function(){return this}();!n&&typeof window<"u"&&(n=window),!n&&typeof self<"u"&&(n=self),n.ace||(n.ace=i);for(var c in i)i.hasOwnProperty(c)&&(n.ace[c]=i[c]);n.ace.default=n.ace,t&&(t.exports=n.ace)})}()})(nl);var em=nl.exports;const tm=Pl(em);var im=Object.defineProperty,nm=(t,e,i)=>e in t?im(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Wt=(t,e,i)=>(nm(t,typeof e!="symbol"?e+"":e,i),i);const om='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',rm={plain:{mode:"ace/mode/plain_text",label:"Plain Text"}};class sm{constructor(e){Wt(this,"api"),Wt(this,"readOnly"),Wt(this,"nodes"),Wt(this,"ace"),Wt(this,"_data"),Wt(this,"config");const{data:i,api:n,config:c,readOnly:o}=e;this.api=n,this.readOnly=!!o,this.config={languages:rm,...c},this._data={code:(i==null?void 0:i.code)||"",language:(i==null?void 0:i.language)||"plain"},this.nodes=this.drawView()}static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}drawView(){var e;const i=document.createElement("div"),n=document.createElement("div");n.style.marginTop="10px",this.ace=tm.edit(n,{maxLines:1/0,...this.config.options,readOnly:this.readOnly,value:this.data.code,mode:this.data.language?(e=this.config.languages[this.data.language])==null?void 0:e.mode:void 0});const c=document.createElement("select");for(const o in this.config.languages)if(Object.prototype.hasOwnProperty.call(this.config.languages,o)){const p=this.config.languages[o];let m=document.createElement("option");m.value=o,m.text=p.label,c.appendChild(m)}return c.classList.add(this.api.styles.input),c.value=this.data.language,c.onchange=o=>{var p,m;let h=o.target.value;this._data.language=h,(m=this.ace)==null||m.session.setMode((p=this.config.languages[h])==null?void 0:p.mode)},this.readOnly&&(c.disabled=!0),i.classList.add(this.api.styles.block),i.appendChild(c),i.appendChild(n),{holder:i,select:c}}render(){return this.nodes.holder}save(e){var i;return{code:(i=this.ace)==null?void 0:i.getValue(),language:this.data.language}}onPaste(e){var i;const n=e.detail.data;this._data.code=n.textContent,(i=this.ace)==null||i.setValue(n.textContent)}get data(){return this._data}set data(e){var i,n;this._data=e,this.ace&&this.ace.setValue(e.code),this.nodes.select&&(this.nodes.select.value=e.language,(n=this.ace)==null||n.session.setMode((i=this.config.languages[e.language])==null?void 0:i.mode))}static get toolbox(){return{icon:om,title:"Ace Code"}}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}}ace.config.setModuleLoader("ace/ext/beautify",()=>$(()=>import("./ext-beautify-itcMacD7.js").then(t=>t.e),__vite__mapDeps([0,1,2])));ace.config.setModuleLoader("ace/ext/code_lens",()=>$(()=>import("./ext-code_lens-kLNqkyfT.js").then(t=>t.e),__vite__mapDeps([3,1,2])));ace.config.setModuleLoader("ace/ext/command_bar",()=>$(()=>import("./ext-command_bar-BrDoTO8A.js").then(t=>t.e),__vite__mapDeps([4,1,2])));ace.config.setModuleLoader("ace/ext/elastic_tabstops_lite",()=>$(()=>import("./ext-elastic_tabstops_lite-BV0likz1.js").then(t=>t.e),__vite__mapDeps([5,1,2])));ace.config.setModuleLoader("ace/ext/emmet",()=>$(()=>import("./ext-emmet-UrBXch5C.js").then(t=>t.e),__vite__mapDeps([6,1,2])));ace.config.setModuleLoader("ace/ext/error_marker",()=>$(()=>import("./ext-error_marker-CgVvZsTF.js").then(t=>t.e),__vite__mapDeps([7,1,2])));ace.config.setModuleLoader("ace/ext/hardwrap",()=>$(()=>import("./ext-hardwrap-KUcvWCkk.js").then(t=>t.e),__vite__mapDeps([8,1,2])));ace.config.setModuleLoader("ace/ext/inline_autocomplete",()=>$(()=>import("./ext-inline_autocomplete-M9nnazKp.js").then(t=>t.e),__vite__mapDeps([9,1,2])));ace.config.setModuleLoader("ace/ext/keyboard_menu",()=>$(()=>import("./ext-keybinding_menu-BAA2sxzp.js").then(t=>t.e),__vite__mapDeps([10,1,2])));ace.config.setModuleLoader("ace/ext/language_tools",()=>$(()=>import("./ext-language_tools-CnaaDNzS.js").then(t=>t.e),__vite__mapDeps([11,1,2])));ace.config.setModuleLoader("ace/ext/linking",()=>$(()=>import("./ext-linking-C8VrQsQB.js").then(t=>t.e),__vite__mapDeps([12,1,2])));ace.config.setModuleLoader("ace/ext/modelist",()=>$(()=>import("./ext-modelist-aIsjTOQ3.js").then(t=>t.e),__vite__mapDeps([13,1,2])));ace.config.setModuleLoader("ace/ext/options",()=>$(()=>import("./ext-options-8mkokJXQ.js").then(t=>t.e),__vite__mapDeps([14,1,2])));ace.config.setModuleLoader("ace/ext/prompt",()=>$(()=>import("./ext-prompt-Bh4EFO8z.js").then(t=>t.e),__vite__mapDeps([15,1,2])));ace.config.setModuleLoader("ace/ext/rtl",()=>$(()=>import("./ext-rtl-BxajEern.js").then(t=>t.e),__vite__mapDeps([16,1,2])));ace.config.setModuleLoader("ace/ext/searchbox",()=>$(()=>import("./ext-searchbox-CjnNdZCC.js").then(t=>t.e),__vite__mapDeps([17,1,2])));ace.config.setModuleLoader("ace/ext/settings_menu",()=>$(()=>import("./ext-settings_menu-ABQRClmf.js").then(t=>t.e),__vite__mapDeps([18,1,2])));ace.config.setModuleLoader("ace/ext/simple_tokenizer",()=>$(()=>import("./ext-simple_tokenizer-BrPGHMp0.js").then(t=>t.e),__vite__mapDeps([19,1,2])));ace.config.setModuleLoader("ace/ext/spellcheck",()=>$(()=>import("./ext-spellcheck-DCSKy7dI.js").then(t=>t.e),__vite__mapDeps([20,1,2])));ace.config.setModuleLoader("ace/ext/split",()=>$(()=>import("./ext-split-BoJd6IVM.js").then(t=>t.e),__vite__mapDeps([21,1,2])));ace.config.setModuleLoader("ace/ext/static_highlight",()=>$(()=>import("./ext-static_highlight-7f_JuTmj.js").then(t=>t.e),__vite__mapDeps([22,1,2])));ace.config.setModuleLoader("ace/ext/statusbar",()=>$(()=>import("./ext-statusbar-BJzZpArC.js").then(t=>t.e),__vite__mapDeps([23,1,2])));ace.config.setModuleLoader("ace/ext/textarea",()=>$(()=>import("./ext-textarea-HVnYOg8a.js").then(t=>t.e),__vite__mapDeps([24,1,2])));ace.config.setModuleLoader("ace/ext/themelist",()=>$(()=>import("./ext-themelist-BC64ntcG.js").then(t=>t.e),__vite__mapDeps([25,1,2])));ace.config.setModuleLoader("ace/ext/whitespace",()=>$(()=>import("./ext-whitespace-CpdSU8bs.js").then(t=>t.e),__vite__mapDeps([26,1,2])));ace.config.setModuleLoader("ace/keyboard/emacs",()=>$(()=>import("./keybinding-emacs-D8AbeeyS.js").then(t=>t.k),__vite__mapDeps([27,1,2])));ace.config.setModuleLoader("ace/keyboard/sublime",()=>$(()=>import("./keybinding-sublime-BeADP9ic.js").then(t=>t.k),__vite__mapDeps([28,1,2])));ace.config.setModuleLoader("ace/keyboard/vim",()=>$(()=>import("./keybinding-vim-DxkhTy-X.js").then(t=>t.k),__vite__mapDeps([29,1,2])));ace.config.setModuleLoader("ace/keyboard/vscode",()=>$(()=>import("./keybinding-vscode-DKbIFMjr.js").then(t=>t.k),__vite__mapDeps([30,1,2])));ace.config.setModuleLoader("ace/mode/abap",()=>$(()=>import("./mode-abap-D3pS0w8s.js").then(t=>t.m),__vite__mapDeps([31,1,2])));ace.config.setModuleLoader("ace/mode/abc",()=>$(()=>import("./mode-abc-BVucTF_N.js").then(t=>t.m),__vite__mapDeps([32,1,2])));ace.config.setModuleLoader("ace/mode/actionscript",()=>$(()=>import("./mode-actionscript-BuqqGnIb.js").then(t=>t.m),__vite__mapDeps([33,1,2])));ace.config.setModuleLoader("ace/mode/ada",()=>$(()=>import("./mode-ada-C6rO0egl.js").then(t=>t.m),__vite__mapDeps([34,1,2])));ace.config.setModuleLoader("ace/mode/alda",()=>$(()=>import("./mode-alda-BEimGq-G.js").then(t=>t.m),__vite__mapDeps([35,1,2])));ace.config.setModuleLoader("ace/mode/apache_conf",()=>$(()=>import("./mode-apache_conf-V5uHt7m9.js").then(t=>t.m),__vite__mapDeps([36,1,2])));ace.config.setModuleLoader("ace/mode/apex",()=>$(()=>import("./mode-apex-DFn2ELyF.js").then(t=>t.m),__vite__mapDeps([37,1,2])));ace.config.setModuleLoader("ace/mode/applescript",()=>$(()=>import("./mode-applescript-DgTvbT3L.js").then(t=>t.m),__vite__mapDeps([38,1,2])));ace.config.setModuleLoader("ace/mode/aql",()=>$(()=>import("./mode-aql-COj3AZZi.js").then(t=>t.m),__vite__mapDeps([39,1,2])));ace.config.setModuleLoader("ace/mode/asciidoc",()=>$(()=>import("./mode-asciidoc-B2AtJV1N.js").then(t=>t.m),__vite__mapDeps([40,1,2])));ace.config.setModuleLoader("ace/mode/asl",()=>$(()=>import("./mode-asl-CQ0bmmSp.js").then(t=>t.m),__vite__mapDeps([41,1,2])));ace.config.setModuleLoader("ace/mode/assembly_arm32",()=>$(()=>import("./mode-assembly_arm32-DqFUa9za.js").then(t=>t.m),__vite__mapDeps([42,1,2])));ace.config.setModuleLoader("ace/mode/assembly_x86",()=>$(()=>import("./mode-assembly_x86-Dwv_ON4j.js").then(t=>t.m),__vite__mapDeps([43,1,2])));ace.config.setModuleLoader("ace/mode/astro",()=>$(()=>import("./mode-astro-Cc2w4pGW.js").then(t=>t.m),__vite__mapDeps([44,1,2])));ace.config.setModuleLoader("ace/mode/autohotkey",()=>$(()=>import("./mode-autohotkey-CTodkK1k.js").then(t=>t.m),__vite__mapDeps([45,1,2])));ace.config.setModuleLoader("ace/mode/basic",()=>$(()=>import("./mode-basic-hp-m-9xI.js").then(t=>t.m),__vite__mapDeps([46,1,2])));ace.config.setModuleLoader("ace/mode/batchfile",()=>$(()=>import("./mode-batchfile-CXgxAmOA.js").then(t=>t.m),__vite__mapDeps([47,1,2])));ace.config.setModuleLoader("ace/mode/bibtex",()=>$(()=>import("./mode-bibtex-BGkUxSut.js").then(t=>t.m),__vite__mapDeps([48,1,2])));ace.config.setModuleLoader("ace/mode/c9search",()=>$(()=>import("./mode-c9search-BSHWhbre.js").then(t=>t.m),__vite__mapDeps([49,1,2])));ace.config.setModuleLoader("ace/mode/c_cpp",()=>$(()=>import("./mode-c_cpp-DDo-Jaze.js").then(t=>t.m),__vite__mapDeps([50,1,2])));ace.config.setModuleLoader("ace/mode/cirru",()=>$(()=>import("./mode-cirru-CdiJTxwt.js").then(t=>t.m),__vite__mapDeps([51,1,2])));ace.config.setModuleLoader("ace/mode/clojure",()=>$(()=>import("./mode-clojure-Bo4mDNAb.js").then(t=>t.m),__vite__mapDeps([52,1,2])));ace.config.setModuleLoader("ace/mode/cobol",()=>$(()=>import("./mode-cobol-BQLa_IGO.js").then(t=>t.m),__vite__mapDeps([53,1,2])));ace.config.setModuleLoader("ace/mode/coffee",()=>$(()=>import("./mode-coffee-dxNMecHO.js").then(t=>t.m),__vite__mapDeps([54,1,2])));ace.config.setModuleLoader("ace/mode/coldfusion",()=>$(()=>import("./mode-coldfusion-CWE1I3OB.js").then(t=>t.m),__vite__mapDeps([55,1,2])));ace.config.setModuleLoader("ace/mode/crystal",()=>$(()=>import("./mode-crystal-DW6X2H1Y.js").then(t=>t.m),__vite__mapDeps([56,1,2])));ace.config.setModuleLoader("ace/mode/csharp",()=>$(()=>import("./mode-csharp-BOKzRbKJ.js").then(t=>t.m),__vite__mapDeps([57,1,2])));ace.config.setModuleLoader("ace/mode/csound_document",()=>$(()=>import("./mode-csound_document-Df3f5mow.js").then(t=>t.m),__vite__mapDeps([58,1,2])));ace.config.setModuleLoader("ace/mode/csound_orchestra",()=>$(()=>import("./mode-csound_orchestra-CZRghzOW.js").then(t=>t.m),__vite__mapDeps([59,1,2])));ace.config.setModuleLoader("ace/mode/csound_score",()=>$(()=>import("./mode-csound_score-B8n8chuq.js").then(t=>t.m),__vite__mapDeps([60,1,2])));ace.config.setModuleLoader("ace/mode/csp",()=>$(()=>import("./mode-csp-Cw0FLmrk.js").then(t=>t.m),__vite__mapDeps([61,1,2])));ace.config.setModuleLoader("ace/mode/css",()=>$(()=>import("./mode-css-G2g3uU4D.js").then(t=>t.m),__vite__mapDeps([62,1,2])));ace.config.setModuleLoader("ace/mode/curly",()=>$(()=>import("./mode-curly-CVdLTElm.js").then(t=>t.m),__vite__mapDeps([63,1,2])));ace.config.setModuleLoader("ace/mode/cuttlefish",()=>$(()=>import("./mode-cuttlefish-CR_wiKkL.js").then(t=>t.m),__vite__mapDeps([64,1,2])));ace.config.setModuleLoader("ace/mode/d",()=>$(()=>import("./mode-d-Cl2aOPIv.js").then(t=>t.m),__vite__mapDeps([65,1,2])));ace.config.setModuleLoader("ace/mode/dart",()=>$(()=>import("./mode-dart-OVtFzVJi.js").then(t=>t.m),__vite__mapDeps([66,1,2])));ace.config.setModuleLoader("ace/mode/diff",()=>$(()=>import("./mode-diff-lVHEFrHw.js").then(t=>t.m),__vite__mapDeps([67,1,2])));ace.config.setModuleLoader("ace/mode/django",()=>$(()=>import("./mode-django-Dq0kYXWH.js").then(t=>t.m),__vite__mapDeps([68,1,2])));ace.config.setModuleLoader("ace/mode/dockerfile",()=>$(()=>import("./mode-dockerfile-C7NOE8Sl.js").then(t=>t.m),__vite__mapDeps([69,1,2])));ace.config.setModuleLoader("ace/mode/dot",()=>$(()=>import("./mode-dot-C8O37Hdm.js").then(t=>t.m),__vite__mapDeps([70,1,2])));ace.config.setModuleLoader("ace/mode/drools",()=>$(()=>import("./mode-drools-Be6FXQjb.js").then(t=>t.m),__vite__mapDeps([71,1,2])));ace.config.setModuleLoader("ace/mode/edifact",()=>$(()=>import("./mode-edifact-9raEEScR.js").then(t=>t.m),__vite__mapDeps([72,1,2])));ace.config.setModuleLoader("ace/mode/eiffel",()=>$(()=>import("./mode-eiffel-kRf_L6Pz.js").then(t=>t.m),__vite__mapDeps([73,1,2])));ace.config.setModuleLoader("ace/mode/ejs",()=>$(()=>import("./mode-ejs-CsBa8dtF.js").then(t=>t.m),__vite__mapDeps([74,1,2])));ace.config.setModuleLoader("ace/mode/elixir",()=>$(()=>import("./mode-elixir-CSNWGZyG.js").then(t=>t.m),__vite__mapDeps([75,1,2])));ace.config.setModuleLoader("ace/mode/elm",()=>$(()=>import("./mode-elm-DIMZ_zB6.js").then(t=>t.m),__vite__mapDeps([76,1,2])));ace.config.setModuleLoader("ace/mode/erlang",()=>$(()=>import("./mode-erlang-zUGuRP9B.js").then(t=>t.m),__vite__mapDeps([77,1,2])));ace.config.setModuleLoader("ace/mode/flix",()=>$(()=>import("./mode-flix-BSeilM_c.js").then(t=>t.m),__vite__mapDeps([78,1,2])));ace.config.setModuleLoader("ace/mode/forth",()=>$(()=>import("./mode-forth-DfNmhnD2.js").then(t=>t.m),__vite__mapDeps([79,1,2])));ace.config.setModuleLoader("ace/mode/fortran",()=>$(()=>import("./mode-fortran-Bzt_kLy5.js").then(t=>t.m),__vite__mapDeps([80,1,2])));ace.config.setModuleLoader("ace/mode/fsharp",()=>$(()=>import("./mode-fsharp-BisZuHUd.js").then(t=>t.m),__vite__mapDeps([81,1,2])));ace.config.setModuleLoader("ace/mode/fsl",()=>$(()=>import("./mode-fsl-xFCxZ_Uu.js").then(t=>t.m),__vite__mapDeps([82,1,2])));ace.config.setModuleLoader("ace/mode/ftl",()=>$(()=>import("./mode-ftl-DkwWDu28.js").then(t=>t.m),__vite__mapDeps([83,1,2])));ace.config.setModuleLoader("ace/mode/gcode",()=>$(()=>import("./mode-gcode-lO0xTP3E.js").then(t=>t.m),__vite__mapDeps([84,1,2])));ace.config.setModuleLoader("ace/mode/gherkin",()=>$(()=>import("./mode-gherkin-BquRGz4Z.js").then(t=>t.m),__vite__mapDeps([85,1,2])));ace.config.setModuleLoader("ace/mode/gitignore",()=>$(()=>import("./mode-gitignore-NDgdb0zP.js").then(t=>t.m),__vite__mapDeps([86,1,2])));ace.config.setModuleLoader("ace/mode/glsl",()=>$(()=>import("./mode-glsl-427-2c5J.js").then(t=>t.m),__vite__mapDeps([87,1,2])));ace.config.setModuleLoader("ace/mode/gobstones",()=>$(()=>import("./mode-gobstones-CyPTYM_S.js").then(t=>t.m),__vite__mapDeps([88,1,2])));ace.config.setModuleLoader("ace/mode/golang",()=>$(()=>import("./mode-golang-BruX8BYr.js").then(t=>t.m),__vite__mapDeps([89,1,2])));ace.config.setModuleLoader("ace/mode/graphqlschema",()=>$(()=>import("./mode-graphqlschema-C6ESX4xC.js").then(t=>t.m),__vite__mapDeps([90,1,2])));ace.config.setModuleLoader("ace/mode/groovy",()=>$(()=>import("./mode-groovy-D7Np7xZO.js").then(t=>t.m),__vite__mapDeps([91,1,2])));ace.config.setModuleLoader("ace/mode/haml",()=>$(()=>import("./mode-haml-qPHEZgbp.js").then(t=>t.m),__vite__mapDeps([92,1,2])));ace.config.setModuleLoader("ace/mode/handlebars",()=>$(()=>import("./mode-handlebars-DAZL0QRu.js").then(t=>t.m),__vite__mapDeps([93,1,2])));ace.config.setModuleLoader("ace/mode/haskell",()=>$(()=>import("./mode-haskell-DXLNfQU2.js").then(t=>t.m),__vite__mapDeps([94,1,2])));ace.config.setModuleLoader("ace/mode/haskell_cabal",()=>$(()=>import("./mode-haskell_cabal-DTJfv4sX.js").then(t=>t.m),__vite__mapDeps([95,1,2])));ace.config.setModuleLoader("ace/mode/haxe",()=>$(()=>import("./mode-haxe-3wPCBi0U.js").then(t=>t.m),__vite__mapDeps([96,1,2])));ace.config.setModuleLoader("ace/mode/hjson",()=>$(()=>import("./mode-hjson-JPLKpbMR.js").then(t=>t.m),__vite__mapDeps([97,1,2])));ace.config.setModuleLoader("ace/mode/html",()=>$(()=>import("./mode-html-XkpvN5Xs.js").then(t=>t.m),__vite__mapDeps([98,1,2])));ace.config.setModuleLoader("ace/mode/html_elixir",()=>$(()=>import("./mode-html_elixir-CHH5BveK.js").then(t=>t.m),__vite__mapDeps([99,1,2])));ace.config.setModuleLoader("ace/mode/html_ruby",()=>$(()=>import("./mode-html_ruby-CNUndTms.js").then(t=>t.m),__vite__mapDeps([100,1,2])));ace.config.setModuleLoader("ace/mode/ini",()=>$(()=>import("./mode-ini-BPaY8J-i.js").then(t=>t.m),__vite__mapDeps([101,1,2])));ace.config.setModuleLoader("ace/mode/io",()=>$(()=>import("./mode-io-C7ddJnqC.js").then(t=>t.m),__vite__mapDeps([102,1,2])));ace.config.setModuleLoader("ace/mode/ion",()=>$(()=>import("./mode-ion-C_jH-p6S.js").then(t=>t.m),__vite__mapDeps([103,1,2])));ace.config.setModuleLoader("ace/mode/jack",()=>$(()=>import("./mode-jack-BbqwUNT8.js").then(t=>t.m),__vite__mapDeps([104,1,2])));ace.config.setModuleLoader("ace/mode/jade",()=>$(()=>import("./mode-jade-BWWpHkDb.js").then(t=>t.m),__vite__mapDeps([105,1,2])));ace.config.setModuleLoader("ace/mode/java",()=>$(()=>import("./mode-java-DpyCJI40.js").then(t=>t.m),__vite__mapDeps([106,1,2])));ace.config.setModuleLoader("ace/mode/javascript",()=>$(()=>import("./mode-javascript-LBxdLeef.js").then(t=>t.m),__vite__mapDeps([107,1,2])));ace.config.setModuleLoader("ace/mode/jexl",()=>$(()=>import("./mode-jexl-DKv6LDRq.js").then(t=>t.m),__vite__mapDeps([108,1,2])));ace.config.setModuleLoader("ace/mode/json",()=>$(()=>import("./mode-json-WJW3bGxF.js").then(t=>t.m),__vite__mapDeps([109,1,2])));ace.config.setModuleLoader("ace/mode/json5",()=>$(()=>import("./mode-json5-_PFhty3Q.js").then(t=>t.m),__vite__mapDeps([110,1,2])));ace.config.setModuleLoader("ace/mode/jsoniq",()=>$(()=>import("./mode-jsoniq-BFEffsyE.js").then(t=>t.m),__vite__mapDeps([111,1,2])));ace.config.setModuleLoader("ace/mode/jsp",()=>$(()=>import("./mode-jsp-B-Du4xGz.js").then(t=>t.m),__vite__mapDeps([112,1,2])));ace.config.setModuleLoader("ace/mode/jssm",()=>$(()=>import("./mode-jssm-CQ9Gskbp.js").then(t=>t.m),__vite__mapDeps([113,1,2])));ace.config.setModuleLoader("ace/mode/jsx",()=>$(()=>import("./mode-jsx-CgdvgmQ2.js").then(t=>t.m),__vite__mapDeps([114,1,2])));ace.config.setModuleLoader("ace/mode/julia",()=>$(()=>import("./mode-julia-Dr3z7IQq.js").then(t=>t.m),__vite__mapDeps([115,1,2])));ace.config.setModuleLoader("ace/mode/kotlin",()=>$(()=>import("./mode-kotlin-Cyj8hhJ_.js").then(t=>t.m),__vite__mapDeps([116,1,2])));ace.config.setModuleLoader("ace/mode/latex",()=>$(()=>import("./mode-latex-c5V9pX41.js").then(t=>t.m),__vite__mapDeps([117,1,2])));ace.config.setModuleLoader("ace/mode/latte",()=>$(()=>import("./mode-latte-DlveLltx.js").then(t=>t.m),__vite__mapDeps([118,1,2])));ace.config.setModuleLoader("ace/mode/less",()=>$(()=>import("./mode-less-Bmey-CAX.js").then(t=>t.m),__vite__mapDeps([119,1,2])));ace.config.setModuleLoader("ace/mode/liquid",()=>$(()=>import("./mode-liquid-DnAG9QjR.js").then(t=>t.m),__vite__mapDeps([120,1,2])));ace.config.setModuleLoader("ace/mode/lisp",()=>$(()=>import("./mode-lisp-CEbqJzjE.js").then(t=>t.m),__vite__mapDeps([121,1,2])));ace.config.setModuleLoader("ace/mode/livescript",()=>$(()=>import("./mode-livescript-DctWqxg0.js").then(t=>t.m),__vite__mapDeps([122,1,2])));ace.config.setModuleLoader("ace/mode/logiql",()=>$(()=>import("./mode-logiql-CalqPwHF.js").then(t=>t.m),__vite__mapDeps([123,1,2])));ace.config.setModuleLoader("ace/mode/logtalk",()=>$(()=>import("./mode-logtalk-Da7ewLAM.js").then(t=>t.m),__vite__mapDeps([124,1,2])));ace.config.setModuleLoader("ace/mode/lsl",()=>$(()=>import("./mode-lsl-0xXSTaC-.js").then(t=>t.m),__vite__mapDeps([125,1,2])));ace.config.setModuleLoader("ace/mode/lua",()=>$(()=>import("./mode-lua-OVtJ4iJq.js").then(t=>t.m),__vite__mapDeps([126,1,2])));ace.config.setModuleLoader("ace/mode/luapage",()=>$(()=>import("./mode-luapage-DQXjV2rF.js").then(t=>t.m),__vite__mapDeps([127,1,2])));ace.config.setModuleLoader("ace/mode/lucene",()=>$(()=>import("./mode-lucene-CNigLMTX.js").then(t=>t.m),__vite__mapDeps([128,1,2])));ace.config.setModuleLoader("ace/mode/makefile",()=>$(()=>import("./mode-makefile-H2n7HmUz.js").then(t=>t.m),__vite__mapDeps([129,1,2])));ace.config.setModuleLoader("ace/mode/markdown",()=>$(()=>import("./mode-markdown-DXMWMv_a.js").then(t=>t.m),__vite__mapDeps([130,1,2])));ace.config.setModuleLoader("ace/mode/mask",()=>$(()=>import("./mode-mask-baPyf0jP.js").then(t=>t.m),__vite__mapDeps([131,1,2])));ace.config.setModuleLoader("ace/mode/matlab",()=>$(()=>import("./mode-matlab-D18ayMMA.js").then(t=>t.m),__vite__mapDeps([132,1,2])));ace.config.setModuleLoader("ace/mode/maze",()=>$(()=>import("./mode-maze-CIMPt-cm.js").then(t=>t.m),__vite__mapDeps([133,1,2])));ace.config.setModuleLoader("ace/mode/mediawiki",()=>$(()=>import("./mode-mediawiki-DvLpow4L.js").then(t=>t.m),__vite__mapDeps([134,1,2])));ace.config.setModuleLoader("ace/mode/mel",()=>$(()=>import("./mode-mel-Dg2Vlarm.js").then(t=>t.m),__vite__mapDeps([135,1,2])));ace.config.setModuleLoader("ace/mode/mips",()=>$(()=>import("./mode-mips-DWtrJJmc.js").then(t=>t.m),__vite__mapDeps([136,1,2])));ace.config.setModuleLoader("ace/mode/mixal",()=>$(()=>import("./mode-mixal-CPGd8lu8.js").then(t=>t.m),__vite__mapDeps([137,1,2])));ace.config.setModuleLoader("ace/mode/mushcode",()=>$(()=>import("./mode-mushcode-TdwgfJXo.js").then(t=>t.m),__vite__mapDeps([138,1,2])));ace.config.setModuleLoader("ace/mode/mysql",()=>$(()=>import("./mode-mysql-D24ZiiE_.js").then(t=>t.m),__vite__mapDeps([139,1,2])));ace.config.setModuleLoader("ace/mode/nasal",()=>$(()=>import("./mode-nasal-CU63Ushe.js").then(t=>t.m),__vite__mapDeps([140,1,2])));ace.config.setModuleLoader("ace/mode/nginx",()=>$(()=>import("./mode-nginx-Dr-WUvyK.js").then(t=>t.m),__vite__mapDeps([141,1,2])));ace.config.setModuleLoader("ace/mode/nim",()=>$(()=>import("./mode-nim-DT0ySPRs.js").then(t=>t.m),__vite__mapDeps([142,1,2])));ace.config.setModuleLoader("ace/mode/nix",()=>$(()=>import("./mode-nix-DbzAsB1E.js").then(t=>t.m),__vite__mapDeps([143,1,2])));ace.config.setModuleLoader("ace/mode/nsis",()=>$(()=>import("./mode-nsis-CB9WJYAH.js").then(t=>t.m),__vite__mapDeps([144,1,2])));ace.config.setModuleLoader("ace/mode/nunjucks",()=>$(()=>import("./mode-nunjucks-CofirsIu.js").then(t=>t.m),__vite__mapDeps([145,1,2])));ace.config.setModuleLoader("ace/mode/objectivec",()=>$(()=>import("./mode-objectivec-CXx84khD.js").then(t=>t.m),__vite__mapDeps([146,1,2])));ace.config.setModuleLoader("ace/mode/ocaml",()=>$(()=>import("./mode-ocaml--kUMzgFU.js").then(t=>t.m),__vite__mapDeps([147,1,2])));ace.config.setModuleLoader("ace/mode/odin",()=>$(()=>import("./mode-odin-DymP0aLu.js").then(t=>t.m),__vite__mapDeps([148,1,2])));ace.config.setModuleLoader("ace/mode/partiql",()=>$(()=>import("./mode-partiql-DsrbbsBc.js").then(t=>t.m),__vite__mapDeps([149,1,2])));ace.config.setModuleLoader("ace/mode/pascal",()=>$(()=>import("./mode-pascal-W68zdPLT.js").then(t=>t.m),__vite__mapDeps([150,1,2])));ace.config.setModuleLoader("ace/mode/perl",()=>$(()=>import("./mode-perl-CVtPqskF.js").then(t=>t.m),__vite__mapDeps([151,1,2])));ace.config.setModuleLoader("ace/mode/pgsql",()=>$(()=>import("./mode-pgsql-CsDwg5l-.js").then(t=>t.m),__vite__mapDeps([152,1,2])));ace.config.setModuleLoader("ace/mode/php",()=>$(()=>import("./mode-php-BqIaqA9h.js").then(t=>t.m),__vite__mapDeps([153,1,2])));ace.config.setModuleLoader("ace/mode/php_laravel_blade",()=>$(()=>import("./mode-php_laravel_blade-mlBITbnm.js").then(t=>t.m),__vite__mapDeps([154,1,2])));ace.config.setModuleLoader("ace/mode/pig",()=>$(()=>import("./mode-pig-0L0v34jv.js").then(t=>t.m),__vite__mapDeps([155,1,2])));ace.config.setModuleLoader("ace/mode/plain_text",()=>$(()=>import("./mode-plain_text-B35dvQUq.js").then(t=>t.m),__vite__mapDeps([156,1,2])));ace.config.setModuleLoader("ace/mode/plsql",()=>$(()=>import("./mode-plsql-C0DZBPLB.js").then(t=>t.m),__vite__mapDeps([157,1,2])));ace.config.setModuleLoader("ace/mode/powershell",()=>$(()=>import("./mode-powershell-Dtp-mAON.js").then(t=>t.m),__vite__mapDeps([158,1,2])));ace.config.setModuleLoader("ace/mode/praat",()=>$(()=>import("./mode-praat-CLIkRvuN.js").then(t=>t.m),__vite__mapDeps([159,1,2])));ace.config.setModuleLoader("ace/mode/prisma",()=>$(()=>import("./mode-prisma-De1XUVsF.js").then(t=>t.m),__vite__mapDeps([160,1,2])));ace.config.setModuleLoader("ace/mode/prolog",()=>$(()=>import("./mode-prolog-BpUI7hYS.js").then(t=>t.m),__vite__mapDeps([161,1,2])));ace.config.setModuleLoader("ace/mode/properties",()=>$(()=>import("./mode-properties-CvAU2rHu.js").then(t=>t.m),__vite__mapDeps([162,1,2])));ace.config.setModuleLoader("ace/mode/protobuf",()=>$(()=>import("./mode-protobuf-BfQMHZdA.js").then(t=>t.m),__vite__mapDeps([163,1,2])));ace.config.setModuleLoader("ace/mode/prql",()=>$(()=>import("./mode-prql-US22gU2_.js").then(t=>t.m),__vite__mapDeps([164,1,2])));ace.config.setModuleLoader("ace/mode/puppet",()=>$(()=>import("./mode-puppet-ruzU7oN0.js").then(t=>t.m),__vite__mapDeps([165,1,2])));ace.config.setModuleLoader("ace/mode/python",()=>$(()=>import("./mode-python-CIhtRom9.js").then(t=>t.m),__vite__mapDeps([166,1,2])));ace.config.setModuleLoader("ace/mode/qml",()=>$(()=>import("./mode-qml-CAVYPhCb.js").then(t=>t.m),__vite__mapDeps([167,1,2])));ace.config.setModuleLoader("ace/mode/r",()=>$(()=>import("./mode-r-yAKrHIs4.js").then(t=>t.m),__vite__mapDeps([168,1,2])));ace.config.setModuleLoader("ace/mode/raku",()=>$(()=>import("./mode-raku-DW-BFY7B.js").then(t=>t.m),__vite__mapDeps([169,1,2])));ace.config.setModuleLoader("ace/mode/razor",()=>$(()=>import("./mode-razor-Dgky1kW6.js").then(t=>t.m),__vite__mapDeps([170,1,2])));ace.config.setModuleLoader("ace/mode/rdoc",()=>$(()=>import("./mode-rdoc-D_uxaV6G.js").then(t=>t.m),__vite__mapDeps([171,1,2])));ace.config.setModuleLoader("ace/mode/red",()=>$(()=>import("./mode-red-AyZH5R65.js").then(t=>t.m),__vite__mapDeps([172,1,2])));ace.config.setModuleLoader("ace/mode/redshift",()=>$(()=>import("./mode-redshift-DwY_7a3F.js").then(t=>t.m),__vite__mapDeps([173,1,2])));ace.config.setModuleLoader("ace/mode/rhtml",()=>$(()=>import("./mode-rhtml-_3aTXb-A.js").then(t=>t.m),__vite__mapDeps([174,1,2])));ace.config.setModuleLoader("ace/mode/robot",()=>$(()=>import("./mode-robot-BlKASncp.js").then(t=>t.m),__vite__mapDeps([175,1,2])));ace.config.setModuleLoader("ace/mode/rst",()=>$(()=>import("./mode-rst-JMmTCfHL.js").then(t=>t.m),__vite__mapDeps([176,1,2])));ace.config.setModuleLoader("ace/mode/ruby",()=>$(()=>import("./mode-ruby-DiDauHdE.js").then(t=>t.m),__vite__mapDeps([177,1,2])));ace.config.setModuleLoader("ace/mode/rust",()=>$(()=>import("./mode-rust-DtmKtAht.js").then(t=>t.m),__vite__mapDeps([178,1,2])));ace.config.setModuleLoader("ace/mode/sac",()=>$(()=>import("./mode-sac-CKRdkqS8.js").then(t=>t.m),__vite__mapDeps([179,1,2])));ace.config.setModuleLoader("ace/mode/sass",()=>$(()=>import("./mode-sass-DSu-O5n5.js").then(t=>t.m),__vite__mapDeps([180,1,2])));ace.config.setModuleLoader("ace/mode/scad",()=>$(()=>import("./mode-scad-X1GwV_a-.js").then(t=>t.m),__vite__mapDeps([181,1,2])));ace.config.setModuleLoader("ace/mode/scala",()=>$(()=>import("./mode-scala-CZquwv4l.js").then(t=>t.m),__vite__mapDeps([182,1,2])));ace.config.setModuleLoader("ace/mode/scheme",()=>$(()=>import("./mode-scheme-DOM1vudD.js").then(t=>t.m),__vite__mapDeps([183,1,2])));ace.config.setModuleLoader("ace/mode/scrypt",()=>$(()=>import("./mode-scrypt-DLBl_aHb.js").then(t=>t.m),__vite__mapDeps([184,1,2])));ace.config.setModuleLoader("ace/mode/scss",()=>$(()=>import("./mode-scss-B0l0jYQI.js").then(t=>t.m),__vite__mapDeps([185,1,2])));ace.config.setModuleLoader("ace/mode/sh",()=>$(()=>import("./mode-sh-uuK5mgBn.js").then(t=>t.m),__vite__mapDeps([186,1,2])));ace.config.setModuleLoader("ace/mode/sjs",()=>$(()=>import("./mode-sjs-C04a0Wgp.js").then(t=>t.m),__vite__mapDeps([187,1,2])));ace.config.setModuleLoader("ace/mode/slim",()=>$(()=>import("./mode-slim-XGr1Fjtb.js").then(t=>t.m),__vite__mapDeps([188,1,2])));ace.config.setModuleLoader("ace/mode/smarty",()=>$(()=>import("./mode-smarty-D0YFl5v_.js").then(t=>t.m),__vite__mapDeps([189,1,2])));ace.config.setModuleLoader("ace/mode/smithy",()=>$(()=>import("./mode-smithy-DmW3XuOK.js").then(t=>t.m),__vite__mapDeps([190,1,2])));ace.config.setModuleLoader("ace/mode/snippets",()=>$(()=>import("./mode-snippets-BIQyfJL-.js").then(t=>t.m),__vite__mapDeps([191,1,2])));ace.config.setModuleLoader("ace/mode/soy_template",()=>$(()=>import("./mode-soy_template-B6Vh6y04.js").then(t=>t.m),__vite__mapDeps([192,1,2])));ace.config.setModuleLoader("ace/mode/space",()=>$(()=>import("./mode-space-BHr4bXyB.js").then(t=>t.m),__vite__mapDeps([193,1,2])));ace.config.setModuleLoader("ace/mode/sparql",()=>$(()=>import("./mode-sparql-lKmuFCxw.js").then(t=>t.m),__vite__mapDeps([194,1,2])));ace.config.setModuleLoader("ace/mode/sql",()=>$(()=>import("./mode-sql-DwUJzqXc.js").then(t=>t.m),__vite__mapDeps([195,1,2])));ace.config.setModuleLoader("ace/mode/sqlserver",()=>$(()=>import("./mode-sqlserver-Blq8o06O.js").then(t=>t.m),__vite__mapDeps([196,1,2])));ace.config.setModuleLoader("ace/mode/stylus",()=>$(()=>import("./mode-stylus-CLhcAlbI.js").then(t=>t.m),__vite__mapDeps([197,1,2])));ace.config.setModuleLoader("ace/mode/svg",()=>$(()=>import("./mode-svg-DG4TgHvM.js").then(t=>t.m),__vite__mapDeps([198,1,2])));ace.config.setModuleLoader("ace/mode/swift",()=>$(()=>import("./mode-swift-8pyIJmi3.js").then(t=>t.m),__vite__mapDeps([199,1,2])));ace.config.setModuleLoader("ace/mode/tcl",()=>$(()=>import("./mode-tcl-iBPIFdqK.js").then(t=>t.m),__vite__mapDeps([200,1,2])));ace.config.setModuleLoader("ace/mode/terraform",()=>$(()=>import("./mode-terraform-Doo_ZmHU.js").then(t=>t.m),__vite__mapDeps([201,1,2])));ace.config.setModuleLoader("ace/mode/tex",()=>$(()=>import("./mode-tex-CgtLv5NE.js").then(t=>t.m),__vite__mapDeps([202,1,2])));ace.config.setModuleLoader("ace/mode/text",()=>$(()=>import("./mode-text-yQZhTwVy.js").then(t=>t.m),__vite__mapDeps([203,1,2])));ace.config.setModuleLoader("ace/mode/textile",()=>$(()=>import("./mode-textile-C3UhaciQ.js").then(t=>t.m),__vite__mapDeps([204,1,2])));ace.config.setModuleLoader("ace/mode/toml",()=>$(()=>import("./mode-toml-BYW6MFd1.js").then(t=>t.m),__vite__mapDeps([205,1,2])));ace.config.setModuleLoader("ace/mode/tsx",()=>$(()=>import("./mode-tsx-BCShOxPK.js").then(t=>t.m),__vite__mapDeps([206,1,2])));ace.config.setModuleLoader("ace/mode/turtle",()=>$(()=>import("./mode-turtle-UagXu6R5.js").then(t=>t.m),__vite__mapDeps([207,1,2])));ace.config.setModuleLoader("ace/mode/twig",()=>$(()=>import("./mode-twig-D_aGR57z.js").then(t=>t.m),__vite__mapDeps([208,1,2])));ace.config.setModuleLoader("ace/mode/typescript",()=>$(()=>import("./mode-typescript-Bk3aIxRm.js").then(t=>t.m),__vite__mapDeps([209,1,2])));ace.config.setModuleLoader("ace/mode/vala",()=>$(()=>import("./mode-vala-V3Gl1_zZ.js").then(t=>t.m),__vite__mapDeps([210,1,2])));ace.config.setModuleLoader("ace/mode/vbscript",()=>$(()=>import("./mode-vbscript-VPNSqZZ7.js").then(t=>t.m),__vite__mapDeps([211,1,2])));ace.config.setModuleLoader("ace/mode/velocity",()=>$(()=>import("./mode-velocity-Vt_L4_If.js").then(t=>t.m),__vite__mapDeps([212,1,2])));ace.config.setModuleLoader("ace/mode/verilog",()=>$(()=>import("./mode-verilog-Cwqf3VSr.js").then(t=>t.m),__vite__mapDeps([213,1,2])));ace.config.setModuleLoader("ace/mode/vhdl",()=>$(()=>import("./mode-vhdl-Dx5aLIak.js").then(t=>t.m),__vite__mapDeps([214,1,2])));ace.config.setModuleLoader("ace/mode/visualforce",()=>$(()=>import("./mode-visualforce-8kbZOUpJ.js").then(t=>t.m),__vite__mapDeps([215,1,2])));ace.config.setModuleLoader("ace/mode/vue",()=>$(()=>import("./mode-vue-psJcz0tB.js").then(t=>t.m),__vite__mapDeps([216,1,2])));ace.config.setModuleLoader("ace/mode/wollok",()=>$(()=>import("./mode-wollok-DC-ClzSG.js").then(t=>t.m),__vite__mapDeps([217,1,2])));ace.config.setModuleLoader("ace/mode/xml",()=>$(()=>import("./mode-xml-BxnsuJ-t.js").then(t=>t.m),__vite__mapDeps([218,1,2])));ace.config.setModuleLoader("ace/mode/xquery",()=>$(()=>import("./mode-xquery-BOnF2Qkb.js").then(t=>t.m),__vite__mapDeps([219,1,2])));ace.config.setModuleLoader("ace/mode/yaml",()=>$(()=>import("./mode-yaml-D89OA0I_.js").then(t=>t.m),__vite__mapDeps([220,1,2])));ace.config.setModuleLoader("ace/mode/zeek",()=>$(()=>import("./mode-zeek-44cRXpLi.js").then(t=>t.m),__vite__mapDeps([221,1,2])));ace.config.setModuleLoader("ace/mode/zig",()=>$(()=>import("./mode-zig-CdyLPQjv.js").then(t=>t.m),__vite__mapDeps([222,1,2])));ace.config.setModuleLoader("ace/theme/ambiance",()=>$(()=>import("./theme-ambiance-fkxHzcDM.js").then(t=>t.t),__vite__mapDeps([223,1,2])));ace.config.setModuleLoader("ace/theme/chaos",()=>$(()=>import("./theme-chaos-CTq9ExVj.js").then(t=>t.t),__vite__mapDeps([224,1,2])));ace.config.setModuleLoader("ace/theme/chrome",()=>$(()=>import("./theme-chrome-ClE_g-kC.js").then(t=>t.t),__vite__mapDeps([225,1,2])));ace.config.setModuleLoader("ace/theme/cloud9_day",()=>$(()=>import("./theme-cloud9_day-B9SlH_1O.js").then(t=>t.t),__vite__mapDeps([226,1,2])));ace.config.setModuleLoader("ace/theme/cloud9_night",()=>$(()=>import("./theme-cloud9_night-C2TfEumn.js").then(t=>t.t),__vite__mapDeps([227,1,2])));ace.config.setModuleLoader("ace/theme/cloud9_night_low_color",()=>$(()=>import("./theme-cloud9_night_low_color-DEHYChy5.js").then(t=>t.t),__vite__mapDeps([228,1,2])));ace.config.setModuleLoader("ace/theme/cloud_editor",()=>$(()=>import("./theme-cloud_editor-DLD-6saJ.js").then(t=>t.t),__vite__mapDeps([229,1,2])));ace.config.setModuleLoader("ace/theme/cloud_editor_dark",()=>$(()=>import("./theme-cloud_editor_dark-gHSbrnbx.js").then(t=>t.t),__vite__mapDeps([230,1,2])));ace.config.setModuleLoader("ace/theme/clouds",()=>$(()=>import("./theme-clouds-6JHhFylg.js").then(t=>t.t),__vite__mapDeps([231,1,2])));ace.config.setModuleLoader("ace/theme/clouds_midnight",()=>$(()=>import("./theme-clouds_midnight-NuuA3DuU.js").then(t=>t.t),__vite__mapDeps([232,1,2])));ace.config.setModuleLoader("ace/theme/cobalt",()=>$(()=>import("./theme-cobalt-DN-BtjQv.js").then(t=>t.t),__vite__mapDeps([233,1,2])));ace.config.setModuleLoader("ace/theme/crimson_editor",()=>$(()=>import("./theme-crimson_editor-CSAz9asC.js").then(t=>t.t),__vite__mapDeps([234,1,2])));ace.config.setModuleLoader("ace/theme/dawn",()=>$(()=>import("./theme-dawn-BqiOvWO_.js").then(t=>t.t),__vite__mapDeps([235,1,2])));ace.config.setModuleLoader("ace/theme/dracula",()=>$(()=>import("./theme-dracula-DVmjxMhE.js").then(t=>t.t),__vite__mapDeps([236,1,2])));ace.config.setModuleLoader("ace/theme/dreamweaver",()=>$(()=>import("./theme-dreamweaver-Dibpqsbf.js").then(t=>t.t),__vite__mapDeps([237,1,2])));ace.config.setModuleLoader("ace/theme/eclipse",()=>$(()=>import("./theme-eclipse-Btt23gBt.js").then(t=>t.t),__vite__mapDeps([238,1,2])));ace.config.setModuleLoader("ace/theme/github",()=>$(()=>import("./theme-github-B-VT9DoH.js").then(t=>t.t),__vite__mapDeps([239,1,2])));ace.config.setModuleLoader("ace/theme/github_dark",()=>$(()=>import("./theme-github_dark-CHy3uFK3.js").then(t=>t.t),__vite__mapDeps([240,1,2])));ace.config.setModuleLoader("ace/theme/github_light_default",()=>$(()=>import("./theme-github_light_default-BsUP_zrC.js").then(t=>t.t),__vite__mapDeps([241,1,2])));ace.config.setModuleLoader("ace/theme/gob",()=>$(()=>import("./theme-gob-m_VEBWtT.js").then(t=>t.t),__vite__mapDeps([242,1,2])));ace.config.setModuleLoader("ace/theme/gruvbox",()=>$(()=>import("./theme-gruvbox-B0uMhMDG.js").then(t=>t.t),__vite__mapDeps([243,1,2])));ace.config.setModuleLoader("ace/theme/gruvbox_dark_hard",()=>$(()=>import("./theme-gruvbox_dark_hard-DWwtjUqR.js").then(t=>t.t),__vite__mapDeps([244,1,2])));ace.config.setModuleLoader("ace/theme/gruvbox_light_hard",()=>$(()=>import("./theme-gruvbox_light_hard-CoDc2y34.js").then(t=>t.t),__vite__mapDeps([245,1,2])));ace.config.setModuleLoader("ace/theme/idle_fingers",()=>$(()=>import("./theme-idle_fingers-Dsz-ZYCJ.js").then(t=>t.t),__vite__mapDeps([246,1,2])));ace.config.setModuleLoader("ace/theme/iplastic",()=>$(()=>import("./theme-iplastic-BHTQsbAb.js").then(t=>t.t),__vite__mapDeps([247,1,2])));ace.config.setModuleLoader("ace/theme/katzenmilch",()=>$(()=>import("./theme-katzenmilch-Dot7T2WR.js").then(t=>t.t),__vite__mapDeps([248,1,2])));ace.config.setModuleLoader("ace/theme/kr_theme",()=>$(()=>import("./theme-kr_theme-Cu30k1Dg.js").then(t=>t.t),__vite__mapDeps([249,1,2])));ace.config.setModuleLoader("ace/theme/kuroir",()=>$(()=>import("./theme-kuroir-HGpVLfBO.js").then(t=>t.t),__vite__mapDeps([250,1,2])));ace.config.setModuleLoader("ace/theme/merbivore",()=>$(()=>import("./theme-merbivore-CqS9_pdH.js").then(t=>t.t),__vite__mapDeps([251,1,2])));ace.config.setModuleLoader("ace/theme/merbivore_soft",()=>$(()=>import("./theme-merbivore_soft-Cc2JqPMS.js").then(t=>t.t),__vite__mapDeps([252,1,2])));ace.config.setModuleLoader("ace/theme/mono_industrial",()=>$(()=>import("./theme-mono_industrial-zcPQ7FTF.js").then(t=>t.t),__vite__mapDeps([253,1,2])));ace.config.setModuleLoader("ace/theme/monokai",()=>$(()=>import("./theme-monokai-BbnzE4vK.js").then(t=>t.t),__vite__mapDeps([254,1,2])));ace.config.setModuleLoader("ace/theme/nord_dark",()=>$(()=>import("./theme-nord_dark-DXZEc2V6.js").then(t=>t.t),__vite__mapDeps([255,1,2])));ace.config.setModuleLoader("ace/theme/one_dark",()=>$(()=>import("./theme-one_dark-DozOPaNg.js").then(t=>t.t),__vite__mapDeps([256,1,2])));ace.config.setModuleLoader("ace/theme/pastel_on_dark",()=>$(()=>import("./theme-pastel_on_dark-C-rsU6vN.js").then(t=>t.t),__vite__mapDeps([257,1,2])));ace.config.setModuleLoader("ace/theme/solarized_dark",()=>$(()=>import("./theme-solarized_dark-CoNn4Akq.js").then(t=>t.t),__vite__mapDeps([258,1,2])));ace.config.setModuleLoader("ace/theme/solarized_light",()=>$(()=>import("./theme-solarized_light-B61OhldY.js").then(t=>t.t),__vite__mapDeps([259,1,2])));ace.config.setModuleLoader("ace/theme/sqlserver",()=>$(()=>import("./theme-sqlserver-CkzF88eL.js").then(t=>t.t),__vite__mapDeps([260,1,2])));ace.config.setModuleLoader("ace/theme/terminal",()=>$(()=>import("./theme-terminal-CA7Nuopz.js").then(t=>t.t),__vite__mapDeps([261,1,2])));ace.config.setModuleLoader("ace/theme/textmate",()=>$(()=>import("./theme-textmate-BP1TuDBA.js").then(t=>t.t),__vite__mapDeps([262,1,2])));ace.config.setModuleLoader("ace/theme/tomorrow",()=>$(()=>import("./theme-tomorrow-BVCSZAjm.js").then(t=>t.t),__vite__mapDeps([263,1,2])));ace.config.setModuleLoader("ace/theme/tomorrow_night",()=>$(()=>import("./theme-tomorrow_night-DYyXS04M.js").then(t=>t.t),__vite__mapDeps([264,1,2])));ace.config.setModuleLoader("ace/theme/tomorrow_night_blue",()=>$(()=>import("./theme-tomorrow_night_blue-CK3pdfti.js").then(t=>t.t),__vite__mapDeps([265,1,2])));ace.config.setModuleLoader("ace/theme/tomorrow_night_bright",()=>$(()=>import("./theme-tomorrow_night_bright-zZ0cJzeH.js").then(t=>t.t),__vite__mapDeps([266,1,2])));ace.config.setModuleLoader("ace/theme/tomorrow_night_eighties",()=>$(()=>import("./theme-tomorrow_night_eighties-DJibeSmH.js").then(t=>t.t),__vite__mapDeps([267,1,2])));ace.config.setModuleLoader("ace/theme/twilight",()=>$(()=>import("./theme-twilight-BK4heBT9.js").then(t=>t.t),__vite__mapDeps([268,1,2])));ace.config.setModuleLoader("ace/theme/vibrant_ink",()=>$(()=>import("./theme-vibrant_ink-B2TV7GqZ.js").then(t=>t.t),__vite__mapDeps([269,1,2])));ace.config.setModuleLoader("ace/theme/xcode",()=>$(()=>import("./theme-xcode-CJ1m2eCg.js").then(t=>t.t),__vite__mapDeps([270,1,2])));ace.config.setModuleLoader("ace/mode/base_worker",()=>$(()=>import("./worker-base-DcT1Wpz-.js").then(t=>t.w),__vite__mapDeps([271,1,2])));ace.config.setModuleLoader("ace/mode/coffee_worker",()=>$(()=>import("./worker-coffee-_YI1Y4Oj.js").then(t=>t.w),__vite__mapDeps([272,1,2])));ace.config.setModuleLoader("ace/mode/css_worker",()=>$(()=>import("./worker-css-Bqje3nBQ.js").then(t=>t.w),__vite__mapDeps([273,1,2])));ace.config.setModuleLoader("ace/mode/html_worker",()=>$(()=>import("./worker-html-CjHidcBR.js").then(t=>t.w),__vite__mapDeps([274,1,2])));ace.config.setModuleLoader("ace/mode/javascript_worker",()=>$(()=>import("./worker-javascript-CzKY9V2J.js").then(t=>t.w),__vite__mapDeps([275,1,2])));ace.config.setModuleLoader("ace/mode/json_worker",()=>$(()=>import("./worker-json-BXrarBUf.js").then(t=>t.w),__vite__mapDeps([276,1,2])));ace.config.setModuleLoader("ace/mode/lua_worker",()=>$(()=>import("./worker-lua-Cba2IMjg.js").then(t=>t.w),__vite__mapDeps([277,1,2])));ace.config.setModuleLoader("ace/mode/php_worker",()=>$(()=>import("./worker-php-CZhKBRcK.js").then(t=>t.w),__vite__mapDeps([278,1,2])));ace.config.setModuleLoader("ace/mode/xml_worker",()=>$(()=>import("./worker-xml-BZ9sCE5w.js").then(t=>t.w),__vite__mapDeps([279,1,2])));ace.config.setModuleLoader("ace/mode/xquery_worker",()=>$(()=>import("./worker-xquery-B-POd0jg.js").then(t=>t.w),__vite__mapDeps([280,1,2])));ace.config.setModuleLoader("ace/mode/yaml_worker",()=>$(()=>import("./worker-yaml-xNr9zSEZ.js").then(t=>t.w),__vite__mapDeps([281,1,2])));ace.config.setModuleLoader("ace/snippets/abap",()=>$(()=>import("./abap-CQrDaybz.js").then(t=>t.a),__vite__mapDeps([282,1,2])));ace.config.setModuleLoader("ace/snippets/abc",()=>$(()=>import("./abc-BaeMFnG1.js").then(t=>t.a),__vite__mapDeps([283,1,2])));ace.config.setModuleLoader("ace/snippets/actionscript",()=>$(()=>import("./actionscript-Bir7zYGf.js").then(t=>t.a),__vite__mapDeps([284,1,2])));ace.config.setModuleLoader("ace/snippets/ada",()=>$(()=>import("./ada-CMDobJmv.js").then(t=>t.a),__vite__mapDeps([285,1,2])));ace.config.setModuleLoader("ace/snippets/alda",()=>$(()=>import("./alda-DY__n6-g.js").then(t=>t.a),__vite__mapDeps([286,1,2])));ace.config.setModuleLoader("ace/snippets/apache_conf",()=>$(()=>import("./apache_conf-C1AxwgQd.js").then(t=>t.a),__vite__mapDeps([287,1,2])));ace.config.setModuleLoader("ace/snippets/apex",()=>$(()=>import("./apex-DF86IXBU.js").then(t=>t.a),__vite__mapDeps([288,1,2])));ace.config.setModuleLoader("ace/snippets/applescript",()=>$(()=>import("./applescript-DuCGwTro.js").then(t=>t.a),__vite__mapDeps([289,1,2])));ace.config.setModuleLoader("ace/snippets/aql",()=>$(()=>import("./aql-CXFrHKG8.js").then(t=>t.a),__vite__mapDeps([290,1,2])));ace.config.setModuleLoader("ace/snippets/asciidoc",()=>$(()=>import("./asciidoc-DHJzqbAK.js").then(t=>t.a),__vite__mapDeps([291,1,2])));ace.config.setModuleLoader("ace/snippets/asl",()=>$(()=>import("./asl-COWdFODv.js").then(t=>t.a),__vite__mapDeps([292,1,2])));ace.config.setModuleLoader("ace/snippets/assembly_arm32",()=>$(()=>import("./assembly_arm32-DmHFEC9F.js").then(t=>t.a),__vite__mapDeps([293,1,2])));ace.config.setModuleLoader("ace/snippets/assembly_x86",()=>$(()=>import("./assembly_x86-Bc2HoSPS.js").then(t=>t.a),__vite__mapDeps([294,1,2])));ace.config.setModuleLoader("ace/snippets/astro",()=>$(()=>import("./astro-DlIaZz7D.js").then(t=>t.a),__vite__mapDeps([295,1,2])));ace.config.setModuleLoader("ace/snippets/autohotkey",()=>$(()=>import("./autohotkey-9nFZlLOI.js").then(t=>t.a),__vite__mapDeps([296,1,2])));ace.config.setModuleLoader("ace/snippets/basic",()=>$(()=>import("./basic-CmKzdcCJ.js").then(t=>t.b),__vite__mapDeps([297,1,2])));ace.config.setModuleLoader("ace/snippets/batchfile",()=>$(()=>import("./batchfile-CM99qEDO.js").then(t=>t.b),__vite__mapDeps([298,1,2])));ace.config.setModuleLoader("ace/snippets/bibtex",()=>$(()=>import("./bibtex-C0CdX4in.js").then(t=>t.b),__vite__mapDeps([299,1,2])));ace.config.setModuleLoader("ace/snippets/c9search",()=>$(()=>import("./c9search-GqD0KnPb.js").then(t=>t.c),__vite__mapDeps([300,1,2])));ace.config.setModuleLoader("ace/snippets/c_cpp",()=>$(()=>import("./c_cpp-C8v9c-9E.js").then(t=>t.c),__vite__mapDeps([301,1,2])));ace.config.setModuleLoader("ace/snippets/cirru",()=>$(()=>import("./cirru-B7auGGJw.js").then(t=>t.c),__vite__mapDeps([302,1,2])));ace.config.setModuleLoader("ace/snippets/clojure",()=>$(()=>import("./clojure-CW28_hvZ.js").then(t=>t.c),__vite__mapDeps([303,1,2])));ace.config.setModuleLoader("ace/snippets/cobol",()=>$(()=>import("./cobol-BE4K7CWI.js").then(t=>t.c),__vite__mapDeps([304,1,2])));ace.config.setModuleLoader("ace/snippets/coffee",()=>$(()=>import("./coffee-D6cgql2F.js").then(t=>t.c),__vite__mapDeps([305,1,2])));ace.config.setModuleLoader("ace/snippets/coldfusion",()=>$(()=>import("./coldfusion-DCbTQjof.js").then(t=>t.c),__vite__mapDeps([306,1,2])));ace.config.setModuleLoader("ace/snippets/crystal",()=>$(()=>import("./crystal-DxreHQuw.js").then(t=>t.c),__vite__mapDeps([307,1,2])));ace.config.setModuleLoader("ace/snippets/csharp",()=>$(()=>import("./csharp-lImGRc0Y.js").then(t=>t.c),__vite__mapDeps([308,1,2])));ace.config.setModuleLoader("ace/snippets/csound_document",()=>$(()=>import("./csound_document-D8EcOR54.js").then(t=>t.c),__vite__mapDeps([309,1,2])));ace.config.setModuleLoader("ace/snippets/csound_orchestra",()=>$(()=>import("./csound_orchestra-CQ8h9tpq.js").then(t=>t.c),__vite__mapDeps([310,1,2])));ace.config.setModuleLoader("ace/snippets/csound_score",()=>$(()=>import("./csound_score-Mf5ZxfaO.js").then(t=>t.c),__vite__mapDeps([311,1,2])));ace.config.setModuleLoader("ace/snippets/csp",()=>$(()=>import("./csp-CHcvyFSj.js").then(t=>t.c),__vite__mapDeps([312,1,2])));ace.config.setModuleLoader("ace/snippets/css",()=>$(()=>import("./css-B2LhhHup.js").then(t=>t.c),__vite__mapDeps([313,1,2])));ace.config.setModuleLoader("ace/snippets/curly",()=>$(()=>import("./curly-Bligac-z.js").then(t=>t.c),__vite__mapDeps([314,1,2])));ace.config.setModuleLoader("ace/snippets/cuttlefish",()=>$(()=>import("./cuttlefish-j7LZm5Au.js").then(t=>t.c),__vite__mapDeps([315,1,2])));ace.config.setModuleLoader("ace/snippets/d",()=>$(()=>import("./d-Z5HEFdJX.js").then(t=>t.d),__vite__mapDeps([316,1,2])));ace.config.setModuleLoader("ace/snippets/dart",()=>$(()=>import("./dart-BodPpeuq.js").then(t=>t.d),__vite__mapDeps([317,1,2])));ace.config.setModuleLoader("ace/snippets/diff",()=>$(()=>import("./diff-DOZ6zNYV.js").then(t=>t.d),__vite__mapDeps([318,1,2])));ace.config.setModuleLoader("ace/snippets/django",()=>$(()=>import("./django-BtCqY7dF.js").then(t=>t.d),__vite__mapDeps([319,1,2])));ace.config.setModuleLoader("ace/snippets/dockerfile",()=>$(()=>import("./dockerfile-BU7m1Elu.js").then(t=>t.d),__vite__mapDeps([320,1,2])));ace.config.setModuleLoader("ace/snippets/dot",()=>$(()=>import("./dot-wpnvEvDB.js").then(t=>t.d),__vite__mapDeps([321,1,2])));ace.config.setModuleLoader("ace/snippets/drools",()=>$(()=>import("./drools-BiisDXMM.js").then(t=>t.d),__vite__mapDeps([322,1,2])));ace.config.setModuleLoader("ace/snippets/edifact",()=>$(()=>import("./edifact-DZsnm-2f.js").then(t=>t.e),__vite__mapDeps([323,1,2])));ace.config.setModuleLoader("ace/snippets/eiffel",()=>$(()=>import("./eiffel-BN9PiUCH.js").then(t=>t.e),__vite__mapDeps([324,1,2])));ace.config.setModuleLoader("ace/snippets/ejs",()=>$(()=>import("./ejs-Bfic8Dbr.js").then(t=>t.e),__vite__mapDeps([325,1,2])));ace.config.setModuleLoader("ace/snippets/elixir",()=>$(()=>import("./elixir-DZ8j4p2K.js").then(t=>t.e),__vite__mapDeps([326,1,2])));ace.config.setModuleLoader("ace/snippets/elm",()=>$(()=>import("./elm-BZ8TCqtI.js").then(t=>t.e),__vite__mapDeps([327,1,2])));ace.config.setModuleLoader("ace/snippets/erlang",()=>$(()=>import("./erlang-DR7GLSqh.js").then(t=>t.e),__vite__mapDeps([328,1,2])));ace.config.setModuleLoader("ace/snippets/flix",()=>$(()=>import("./flix-9u6TkIqQ.js").then(t=>t.f),__vite__mapDeps([329,1,2])));ace.config.setModuleLoader("ace/snippets/forth",()=>$(()=>import("./forth-Di7Eygd_.js").then(t=>t.f),__vite__mapDeps([330,1,2])));ace.config.setModuleLoader("ace/snippets/fortran",()=>$(()=>import("./fortran-bd1DGqbe.js").then(t=>t.f),__vite__mapDeps([331,1,2])));ace.config.setModuleLoader("ace/snippets/fsharp",()=>$(()=>import("./fsharp-Dkc2QL3T.js").then(t=>t.f),__vite__mapDeps([332,1,2])));ace.config.setModuleLoader("ace/snippets/fsl",()=>$(()=>import("./fsl-aCCES6sQ.js").then(t=>t.f),__vite__mapDeps([333,1,2])));ace.config.setModuleLoader("ace/snippets/ftl",()=>$(()=>import("./ftl-Bm-xQLsH.js").then(t=>t.f),__vite__mapDeps([334,1,2])));ace.config.setModuleLoader("ace/snippets/gcode",()=>$(()=>import("./gcode-8ERll38i.js").then(t=>t.g),__vite__mapDeps([335,1,2])));ace.config.setModuleLoader("ace/snippets/gherkin",()=>$(()=>import("./gherkin-9p3b4TI1.js").then(t=>t.g),__vite__mapDeps([336,1,2])));ace.config.setModuleLoader("ace/snippets/gitignore",()=>$(()=>import("./gitignore-CdDiN4BQ.js").then(t=>t.g),__vite__mapDeps([337,1,2])));ace.config.setModuleLoader("ace/snippets/glsl",()=>$(()=>import("./glsl-DyugFXy3.js").then(t=>t.g),__vite__mapDeps([338,1,2])));ace.config.setModuleLoader("ace/snippets/gobstones",()=>$(()=>import("./gobstones-Dii_wJQS.js").then(t=>t.g),__vite__mapDeps([339,1,2])));ace.config.setModuleLoader("ace/snippets/golang",()=>$(()=>import("./golang-DSWrCz0a.js").then(t=>t.g),__vite__mapDeps([340,1,2])));ace.config.setModuleLoader("ace/snippets/graphqlschema",()=>$(()=>import("./graphqlschema-DYwx3kMo.js").then(t=>t.g),__vite__mapDeps([341,1,2])));ace.config.setModuleLoader("ace/snippets/groovy",()=>$(()=>import("./groovy-crCVM-91.js").then(t=>t.g),__vite__mapDeps([342,1,2])));ace.config.setModuleLoader("ace/snippets/haml",()=>$(()=>import("./haml-CI82-Uor.js").then(t=>t.h),__vite__mapDeps([343,1,2])));ace.config.setModuleLoader("ace/snippets/handlebars",()=>$(()=>import("./handlebars-DzeJ6iHL.js").then(t=>t.h),__vite__mapDeps([344,1,2])));ace.config.setModuleLoader("ace/snippets/haskell",()=>$(()=>import("./haskell-Uu8Wymn7.js").then(t=>t.h),__vite__mapDeps([345,1,2])));ace.config.setModuleLoader("ace/snippets/haskell_cabal",()=>$(()=>import("./haskell_cabal-C33ZoMlv.js").then(t=>t.h),__vite__mapDeps([346,1,2])));ace.config.setModuleLoader("ace/snippets/haxe",()=>$(()=>import("./haxe-tZBOIuVr.js").then(t=>t.h),__vite__mapDeps([347,1,2])));ace.config.setModuleLoader("ace/snippets/hjson",()=>$(()=>import("./hjson-CYi0ocai.js").then(t=>t.h),__vite__mapDeps([348,1,2])));ace.config.setModuleLoader("ace/snippets/html",()=>$(()=>import("./html-BD4jaRzr.js").then(t=>t.h),__vite__mapDeps([349,1,2])));ace.config.setModuleLoader("ace/snippets/html_elixir",()=>$(()=>import("./html_elixir-DiZwxrmg.js").then(t=>t.h),__vite__mapDeps([350,1,2])));ace.config.setModuleLoader("ace/snippets/html_ruby",()=>$(()=>import("./html_ruby-C3wXvG9r.js").then(t=>t.h),__vite__mapDeps([351,1,2])));ace.config.setModuleLoader("ace/snippets/ini",()=>$(()=>import("./ini-BV0538C_.js").then(t=>t.i),__vite__mapDeps([352,1,2])));ace.config.setModuleLoader("ace/snippets/io",()=>$(()=>import("./io-Ci2QGOad.js").then(t=>t.i),__vite__mapDeps([353,1,2])));ace.config.setModuleLoader("ace/snippets/ion",()=>$(()=>import("./ion-BcqRDZVL.js").then(t=>t.i),__vite__mapDeps([354,1,2])));ace.config.setModuleLoader("ace/snippets/jack",()=>$(()=>import("./jack-Cd3Y6IFd.js").then(t=>t.j),__vite__mapDeps([355,1,2])));ace.config.setModuleLoader("ace/snippets/jade",()=>$(()=>import("./jade-Dc6Fq0qP.js").then(t=>t.j),__vite__mapDeps([356,1,2])));ace.config.setModuleLoader("ace/snippets/java",()=>$(()=>import("./java-DRbk5wWg.js").then(t=>t.j),__vite__mapDeps([357,1,2])));ace.config.setModuleLoader("ace/snippets/javascript",()=>$(()=>import("./javascript-C7UVFUGG.js").then(t=>t.j),__vite__mapDeps([358,1,2])));ace.config.setModuleLoader("ace/snippets/jexl",()=>$(()=>import("./jexl-E_wsIpM7.js").then(t=>t.j),__vite__mapDeps([359,1,2])));ace.config.setModuleLoader("ace/snippets/json",()=>$(()=>import("./json-Dyb68tYz.js").then(t=>t.j),__vite__mapDeps([360,1,2])));ace.config.setModuleLoader("ace/snippets/json5",()=>$(()=>import("./json5-DAaO9sBW.js").then(t=>t.j),__vite__mapDeps([361,1,2])));ace.config.setModuleLoader("ace/snippets/jsoniq",()=>$(()=>import("./jsoniq-B9zZrI3P.js").then(t=>t.j),__vite__mapDeps([362,1,2])));ace.config.setModuleLoader("ace/snippets/jsp",()=>$(()=>import("./jsp-D_SkcD9K.js").then(t=>t.j),__vite__mapDeps([363,1,2])));ace.config.setModuleLoader("ace/snippets/jssm",()=>$(()=>import("./jssm-DNIbXWaL.js").then(t=>t.j),__vite__mapDeps([364,1,2])));ace.config.setModuleLoader("ace/snippets/jsx",()=>$(()=>import("./jsx-jU85UEof.js").then(t=>t.j),__vite__mapDeps([365,1,2])));ace.config.setModuleLoader("ace/snippets/julia",()=>$(()=>import("./julia-KlPUsKbC.js").then(t=>t.j),__vite__mapDeps([366,1,2])));ace.config.setModuleLoader("ace/snippets/kotlin",()=>$(()=>import("./kotlin-B-sanfTO.js").then(t=>t.k),__vite__mapDeps([367,1,2])));ace.config.setModuleLoader("ace/snippets/latex",()=>$(()=>import("./latex-HdYzlomz.js").then(t=>t.l),__vite__mapDeps([368,1,2])));ace.config.setModuleLoader("ace/snippets/latte",()=>$(()=>import("./latte-T-DaxZcn.js").then(t=>t.l),__vite__mapDeps([369,1,2])));ace.config.setModuleLoader("ace/snippets/less",()=>$(()=>import("./less-BGzNTZ-6.js").then(t=>t.l),__vite__mapDeps([370,1,2])));ace.config.setModuleLoader("ace/snippets/liquid",()=>$(()=>import("./liquid-Drzv3snD.js").then(t=>t.l),__vite__mapDeps([371,1,2])));ace.config.setModuleLoader("ace/snippets/lisp",()=>$(()=>import("./lisp-B4DjGpxT.js").then(t=>t.l),__vite__mapDeps([372,1,2])));ace.config.setModuleLoader("ace/snippets/livescript",()=>$(()=>import("./livescript-BGjz4f8x.js").then(t=>t.l),__vite__mapDeps([373,1,2])));ace.config.setModuleLoader("ace/snippets/logiql",()=>$(()=>import("./logiql-BHacUoP0.js").then(t=>t.l),__vite__mapDeps([374,1,2])));ace.config.setModuleLoader("ace/snippets/logtalk",()=>$(()=>import("./logtalk-ONvilrPw.js").then(t=>t.l),__vite__mapDeps([375,1,2])));ace.config.setModuleLoader("ace/snippets/lsl",()=>$(()=>import("./lsl-DiS1tLzp.js").then(t=>t.l),__vite__mapDeps([376,1,2])));ace.config.setModuleLoader("ace/snippets/lua",()=>$(()=>import("./lua-D9tn8VrI.js").then(t=>t.l),__vite__mapDeps([377,1,2])));ace.config.setModuleLoader("ace/snippets/luapage",()=>$(()=>import("./luapage-CpbsXj8Q.js").then(t=>t.l),__vite__mapDeps([378,1,2])));ace.config.setModuleLoader("ace/snippets/lucene",()=>$(()=>import("./lucene-Bp8KoEuP.js").then(t=>t.l),__vite__mapDeps([379,1,2])));ace.config.setModuleLoader("ace/snippets/makefile",()=>$(()=>import("./makefile-CEl8Y4Kg.js").then(t=>t.m),__vite__mapDeps([380,1,2])));ace.config.setModuleLoader("ace/snippets/markdown",()=>$(()=>import("./markdown-gCKmVfPT.js").then(t=>t.m),__vite__mapDeps([381,1,2])));ace.config.setModuleLoader("ace/snippets/mask",()=>$(()=>import("./mask-DpCWwdH8.js").then(t=>t.m),__vite__mapDeps([382,1,2])));ace.config.setModuleLoader("ace/snippets/matlab",()=>$(()=>import("./matlab-2Gsb6rhn.js").then(t=>t.m),__vite__mapDeps([383,1,2])));ace.config.setModuleLoader("ace/snippets/maze",()=>$(()=>import("./maze-C7Sh9Iw8.js").then(t=>t.m),__vite__mapDeps([384,1,2])));ace.config.setModuleLoader("ace/snippets/mediawiki",()=>$(()=>import("./mediawiki-C2S8XqJ-.js").then(t=>t.m),__vite__mapDeps([385,1,2])));ace.config.setModuleLoader("ace/snippets/mel",()=>$(()=>import("./mel-C5ujWjPP.js").then(t=>t.m),__vite__mapDeps([386,1,2])));ace.config.setModuleLoader("ace/snippets/mips",()=>$(()=>import("./mips-DRjkrUcE.js").then(t=>t.m),__vite__mapDeps([387,1,2])));ace.config.setModuleLoader("ace/snippets/mixal",()=>$(()=>import("./mixal-DCnnqDXg.js").then(t=>t.m),__vite__mapDeps([388,1,2])));ace.config.setModuleLoader("ace/snippets/mushcode",()=>$(()=>import("./mushcode-hPiRM5FC.js").then(t=>t.m),__vite__mapDeps([389,1,2])));ace.config.setModuleLoader("ace/snippets/mysql",()=>$(()=>import("./mysql-DvdbbvGl.js").then(t=>t.m),__vite__mapDeps([390,1,2])));ace.config.setModuleLoader("ace/snippets/nasal",()=>$(()=>import("./nasal-D8unTPLb.js").then(t=>t.n),__vite__mapDeps([391,1,2])));ace.config.setModuleLoader("ace/snippets/nginx",()=>$(()=>import("./nginx-2EZ7afek.js").then(t=>t.n),__vite__mapDeps([392,1,2])));ace.config.setModuleLoader("ace/snippets/nim",()=>$(()=>import("./nim-F5bSGrmz.js").then(t=>t.n),__vite__mapDeps([393,1,2])));ace.config.setModuleLoader("ace/snippets/nix",()=>$(()=>import("./nix-B91UzABy.js").then(t=>t.n),__vite__mapDeps([394,1,2])));ace.config.setModuleLoader("ace/snippets/nsis",()=>$(()=>import("./nsis-MQ9LlYKj.js").then(t=>t.n),__vite__mapDeps([395,1,2])));ace.config.setModuleLoader("ace/snippets/nunjucks",()=>$(()=>import("./nunjucks-DH4XL6HV.js").then(t=>t.n),__vite__mapDeps([396,1,2])));ace.config.setModuleLoader("ace/snippets/objectivec",()=>$(()=>import("./objectivec-DhlzHygB.js").then(t=>t.o),__vite__mapDeps([397,1,2])));ace.config.setModuleLoader("ace/snippets/ocaml",()=>$(()=>import("./ocaml-VKbyL3bX.js").then(t=>t.o),__vite__mapDeps([398,1,2])));ace.config.setModuleLoader("ace/snippets/odin",()=>$(()=>import("./odin-C7XpCsSV.js").then(t=>t.o),__vite__mapDeps([399,1,2])));ace.config.setModuleLoader("ace/snippets/partiql",()=>$(()=>import("./partiql-e0iGkJB9.js").then(t=>t.p),__vite__mapDeps([400,1,2])));ace.config.setModuleLoader("ace/snippets/pascal",()=>$(()=>import("./pascal-CVgtvoXG.js").then(t=>t.p),__vite__mapDeps([401,1,2])));ace.config.setModuleLoader("ace/snippets/perl",()=>$(()=>import("./perl-SSJ3KPVC.js").then(t=>t.p),__vite__mapDeps([402,1,2])));ace.config.setModuleLoader("ace/snippets/pgsql",()=>$(()=>import("./pgsql-CTgH4Dwk.js").then(t=>t.p),__vite__mapDeps([403,1,2])));ace.config.setModuleLoader("ace/snippets/php",()=>$(()=>import("./php-Bk-i4PQk.js").then(t=>t.p),__vite__mapDeps([404,1,2])));ace.config.setModuleLoader("ace/snippets/php_laravel_blade",()=>$(()=>import("./php_laravel_blade-llzeFsO0.js").then(t=>t.p),__vite__mapDeps([405,1,2])));ace.config.setModuleLoader("ace/snippets/pig",()=>$(()=>import("./pig-CWgSoL47.js").then(t=>t.p),__vite__mapDeps([406,1,2])));ace.config.setModuleLoader("ace/snippets/plain_text",()=>$(()=>import("./plain_text-C9CSMLie.js").then(t=>t.p),__vite__mapDeps([407,1,2])));ace.config.setModuleLoader("ace/snippets/plsql",()=>$(()=>import("./plsql-Cf18cCHD.js").then(t=>t.p),__vite__mapDeps([408,1,2])));ace.config.setModuleLoader("ace/snippets/powershell",()=>$(()=>import("./powershell-FDTonAjD.js").then(t=>t.p),__vite__mapDeps([409,1,2])));ace.config.setModuleLoader("ace/snippets/praat",()=>$(()=>import("./praat-DEhwCSnw.js").then(t=>t.p),__vite__mapDeps([410,1,2])));ace.config.setModuleLoader("ace/snippets/prisma",()=>$(()=>import("./prisma-2lbwuS_b.js").then(t=>t.p),__vite__mapDeps([411,1,2])));ace.config.setModuleLoader("ace/snippets/prolog",()=>$(()=>import("./prolog-EkaLDnNy.js").then(t=>t.p),__vite__mapDeps([412,1,2])));ace.config.setModuleLoader("ace/snippets/properties",()=>$(()=>import("./properties-BamfR2vd.js").then(t=>t.p),__vite__mapDeps([413,1,2])));ace.config.setModuleLoader("ace/snippets/protobuf",()=>$(()=>import("./protobuf-FhA6DgjW.js").then(t=>t.p),__vite__mapDeps([414,1,2])));ace.config.setModuleLoader("ace/snippets/prql",()=>$(()=>import("./prql-BM_Dy2Rz.js").then(t=>t.p),__vite__mapDeps([415,1,2])));ace.config.setModuleLoader("ace/snippets/puppet",()=>$(()=>import("./puppet-CYo8sO6Q.js").then(t=>t.p),__vite__mapDeps([416,1,2])));ace.config.setModuleLoader("ace/snippets/python",()=>$(()=>import("./python-Wxn3TJL0.js").then(t=>t.p),__vite__mapDeps([417,1,2])));ace.config.setModuleLoader("ace/snippets/qml",()=>$(()=>import("./qml-Cy3Yhc-0.js").then(t=>t.q),__vite__mapDeps([418,1,2])));ace.config.setModuleLoader("ace/snippets/r",()=>$(()=>import("./r-WLXLgB8s.js").then(t=>t.r),__vite__mapDeps([419,1,2])));ace.config.setModuleLoader("ace/snippets/raku",()=>$(()=>import("./raku-DU0HzEdv.js").then(t=>t.r),__vite__mapDeps([420,1,2])));ace.config.setModuleLoader("ace/snippets/razor",()=>$(()=>import("./razor-GqBtSSVt.js").then(t=>t.r),__vite__mapDeps([421,1,2])));ace.config.setModuleLoader("ace/snippets/rdoc",()=>$(()=>import("./rdoc-B9hA2UgR.js").then(t=>t.r),__vite__mapDeps([422,1,2])));ace.config.setModuleLoader("ace/snippets/red",()=>$(()=>import("./red-BpFHW9Bk.js").then(t=>t.r),__vite__mapDeps([423,1,2])));ace.config.setModuleLoader("ace/snippets/redshift",()=>$(()=>import("./redshift-D35XrkTE.js").then(t=>t.r),__vite__mapDeps([424,1,2])));ace.config.setModuleLoader("ace/snippets/rhtml",()=>$(()=>import("./rhtml-XTqovkr-.js").then(t=>t.r),__vite__mapDeps([425,1,2])));ace.config.setModuleLoader("ace/snippets/robot",()=>$(()=>import("./robot-BjaYCJN-.js").then(t=>t.r),__vite__mapDeps([426,1,2])));ace.config.setModuleLoader("ace/snippets/rst",()=>$(()=>import("./rst-SFajNtBC.js").then(t=>t.r),__vite__mapDeps([427,1,2])));ace.config.setModuleLoader("ace/snippets/ruby",()=>$(()=>import("./ruby-C52JvSyY.js").then(t=>t.r),__vite__mapDeps([428,1,2])));ace.config.setModuleLoader("ace/snippets/rust",()=>$(()=>import("./rust-C8u19KGt.js").then(t=>t.r),__vite__mapDeps([429,1,2])));ace.config.setModuleLoader("ace/snippets/sac",()=>$(()=>import("./sac-CknkztHF.js").then(t=>t.s),__vite__mapDeps([430,1,2])));ace.config.setModuleLoader("ace/snippets/sass",()=>$(()=>import("./sass-Ckhd3vq7.js").then(t=>t.s),__vite__mapDeps([431,1,2])));ace.config.setModuleLoader("ace/snippets/scad",()=>$(()=>import("./scad-CKrAW5d8.js").then(t=>t.s),__vite__mapDeps([432,1,2])));ace.config.setModuleLoader("ace/snippets/scala",()=>$(()=>import("./scala-CSRYvYI7.js").then(t=>t.s),__vite__mapDeps([433,1,2])));ace.config.setModuleLoader("ace/snippets/scheme",()=>$(()=>import("./scheme-B7tuiFIC.js").then(t=>t.s),__vite__mapDeps([434,1,2])));ace.config.setModuleLoader("ace/snippets/scrypt",()=>$(()=>import("./scrypt-DlJjRcj-.js").then(t=>t.s),__vite__mapDeps([435,1,2])));ace.config.setModuleLoader("ace/snippets/scss",()=>$(()=>import("./scss-DE08-XkR.js").then(t=>t.s),__vite__mapDeps([436,1,2])));ace.config.setModuleLoader("ace/snippets/sh",()=>$(()=>import("./sh-CzQy5wZU.js").then(t=>t.s),__vite__mapDeps([437,1,2])));ace.config.setModuleLoader("ace/snippets/sjs",()=>$(()=>import("./sjs-B5FVzFPi.js").then(t=>t.s),__vite__mapDeps([438,1,2])));ace.config.setModuleLoader("ace/snippets/slim",()=>$(()=>import("./slim-DnsEPyw6.js").then(t=>t.s),__vite__mapDeps([439,1,2])));ace.config.setModuleLoader("ace/snippets/smarty",()=>$(()=>import("./smarty-Ctav1CCc.js").then(t=>t.s),__vite__mapDeps([440,1,2])));ace.config.setModuleLoader("ace/snippets/smithy",()=>$(()=>import("./smithy-Bw8Sgs21.js").then(t=>t.s),__vite__mapDeps([441,1,2])));ace.config.setModuleLoader("ace/snippets/snippets",()=>$(()=>import("./snippets-Ohi626nS.js").then(t=>t.s),__vite__mapDeps([442,1,2])));ace.config.setModuleLoader("ace/snippets/soy_template",()=>$(()=>import("./soy_template-INMJFiRx.js").then(t=>t.s),__vite__mapDeps([443,1,2])));ace.config.setModuleLoader("ace/snippets/space",()=>$(()=>import("./space-CzbUL13l.js").then(t=>t.s),__vite__mapDeps([444,1,2])));ace.config.setModuleLoader("ace/snippets/sparql",()=>$(()=>import("./sparql-C3Ajb8Zx.js").then(t=>t.s),__vite__mapDeps([445,1,2])));ace.config.setModuleLoader("ace/snippets/sql",()=>$(()=>import("./sql-BCc_cd7K.js").then(t=>t.s),__vite__mapDeps([446,1,2])));ace.config.setModuleLoader("ace/snippets/sqlserver",()=>$(()=>import("./sqlserver-2NQF-ki3.js").then(t=>t.s),__vite__mapDeps([447,1,2])));ace.config.setModuleLoader("ace/snippets/stylus",()=>$(()=>import("./stylus-Bmp3N1nb.js").then(t=>t.s),__vite__mapDeps([448,1,2])));ace.config.setModuleLoader("ace/snippets/svg",()=>$(()=>import("./svg-BJ57_weA.js").then(t=>t.s),__vite__mapDeps([449,1,2])));ace.config.setModuleLoader("ace/snippets/swift",()=>$(()=>import("./swift-NM_HGZb_.js").then(t=>t.s),__vite__mapDeps([450,1,2])));ace.config.setModuleLoader("ace/snippets/tcl",()=>$(()=>import("./tcl-UIKQAX-k.js").then(t=>t.t),__vite__mapDeps([451,1,2])));ace.config.setModuleLoader("ace/snippets/terraform",()=>$(()=>import("./terraform-ki7_CIJq.js").then(t=>t.t),__vite__mapDeps([452,1,2])));ace.config.setModuleLoader("ace/snippets/tex",()=>$(()=>import("./tex-BaU9LMEJ.js").then(t=>t.t),__vite__mapDeps([453,1,2])));ace.config.setModuleLoader("ace/snippets/text",()=>$(()=>import("./text-BOxyIrRa.js").then(t=>t.t),__vite__mapDeps([454,1,2])));ace.config.setModuleLoader("ace/snippets/textile",()=>$(()=>import("./textile-CkI6OkGd.js").then(t=>t.t),__vite__mapDeps([455,1,2])));ace.config.setModuleLoader("ace/snippets/toml",()=>$(()=>import("./toml-CPtFNp8h.js").then(t=>t.t),__vite__mapDeps([456,1,2])));ace.config.setModuleLoader("ace/snippets/tsx",()=>$(()=>import("./tsx-BoLOm2ac.js").then(t=>t.t),__vite__mapDeps([457,1,2])));ace.config.setModuleLoader("ace/snippets/turtle",()=>$(()=>import("./turtle-DrlDuH3F.js").then(t=>t.t),__vite__mapDeps([458,1,2])));ace.config.setModuleLoader("ace/snippets/twig",()=>$(()=>import("./twig-BfaBU2ye.js").then(t=>t.t),__vite__mapDeps([459,1,2])));ace.config.setModuleLoader("ace/snippets/typescript",()=>$(()=>import("./typescript-vh_JKakO.js").then(t=>t.t),__vite__mapDeps([460,1,2])));ace.config.setModuleLoader("ace/snippets/vala",()=>$(()=>import("./vala-BUxXUtec.js").then(t=>t.v),__vite__mapDeps([461,1,2])));ace.config.setModuleLoader("ace/snippets/vbscript",()=>$(()=>import("./vbscript-Fu7h7Bi8.js").then(t=>t.v),__vite__mapDeps([462,1,2])));ace.config.setModuleLoader("ace/snippets/velocity",()=>$(()=>import("./velocity-s-ryJyCX.js").then(t=>t.v),__vite__mapDeps([463,1,2])));ace.config.setModuleLoader("ace/snippets/verilog",()=>$(()=>import("./verilog-iQ391glz.js").then(t=>t.v),__vite__mapDeps([464,1,2])));ace.config.setModuleLoader("ace/snippets/vhdl",()=>$(()=>import("./vhdl-DfZZ0U2Y.js").then(t=>t.v),__vite__mapDeps([465,1,2])));ace.config.setModuleLoader("ace/snippets/visualforce",()=>$(()=>import("./visualforce-BaeFA--2.js").then(t=>t.v),__vite__mapDeps([466,1,2])));ace.config.setModuleLoader("ace/snippets/vue",()=>$(()=>import("./vue-BNrwfzDR.js").then(t=>t.v),__vite__mapDeps([467,1,2])));ace.config.setModuleLoader("ace/snippets/wollok",()=>$(()=>import("./wollok-BtuKx2Ac.js").then(t=>t.w),__vite__mapDeps([468,1,2])));ace.config.setModuleLoader("ace/snippets/xml",()=>$(()=>import("./xml-CE5CAuuS.js").then(t=>t.x),__vite__mapDeps([469,1,2])));ace.config.setModuleLoader("ace/snippets/xquery",()=>$(()=>import("./xquery-Cjglnptj.js").then(t=>t.x),__vite__mapDeps([470,1,2])));ace.config.setModuleLoader("ace/snippets/yaml",()=>$(()=>import("./yaml-dzT-pIog.js").then(t=>t.y),__vite__mapDeps([471,1,2])));ace.config.setModuleLoader("ace/snippets/zeek",()=>$(()=>import("./zeek-CESc1WKq.js").then(t=>t.z),__vite__mapDeps([472,1,2])));ace.config.setModuleLoader("ace/snippets/zig",()=>$(()=>import("./zig--l70dRFZ.js").then(t=>t.z),__vite__mapDeps([473,1,2])));const am="/build/assets/worker-html-CwAdfQ5Q.js",lm="/build/assets/worker-javascript-83fX02m4.js",cm="/build/assets/worker-css-B_tuW1QZ.js",dm="/build/assets/worker-php-CYYQX54J.js",um={class:"mx-auto max-w-7xl border-x border-border h-full min-h-dvh"},hm={class:"sticky top-0 z-40 px-2 py-4 sm:p-4 bg-background/50 backdrop-blur-lg border-b border-border transition-colors duration-150 supports-backdrop-blur:bg-white/50"},pm={class:"flex items-center justify-between"},fm={class:"flex items-center gap-2 sm:gap-3"},gm={class:"hidden sm:flex group hover:bg-muted p-1.5 rounded-full",onclick:"history.back()"},mm={class:"flex items-start w-full gap-4"},vm={class:"relative h-10"},ym=["src"],bm=["src"],wm={class:"flex flex-col"},_m={class:"text-sm sm:text-base font-medium text-foreground"},km=["aria-expanded"],Em=["aria-expanded"],xm={class:"text-xs sm:text-sm text-left font-normal hover:text-foreground/90 text-foreground"},Cm={class:"flex items-center gap-3"},Tm={class:"line-clamp-1"},Sm={class:"flex items-center gap-3"},Lm={class:"w-9 h-9 flex items-center justify-center group-hover:bg-muted dark:group-hover:bg-muted rounded-full"},Mm={class:"flex items-center gap-1.5"},Am=["href"],Im={class:"flex items-center gap-1.5"},$m=["disabled"],Om={class:"hidden sm:flex"},Rm=["disabled"],Dm={class:"hidden sm:flex"},Pm={class:"hidden sm:flex"},Bm={class:"block w-full h-full px-2 pb-24"},Nm={class:"relative mx-auto max-w-4xl pt-5"},Fm={class:"flex flex-col gap-2 sm:gap-4 w-full mx-auto max-w-3xl"},jm={class:"px-0 sm:px-6"},Hm={class:"grid gap-4 p-6"},Vm={class:"grid gap-4 sm:gap-6"},Wm={class:"grid gap-2"},zm={key:0,class:"grid gap-4 sm:gap-6 my-4"},Um={class:"flex items-center gap-1.5 mb-2"},Gm={class:"flex items-center gap-1.5 mb-2"},Km={class:"flex items-center gap-1.5 mb-2"},Ym={class:"grid gap-4 sm:gap-6"},Xm={class:"flex items-center justify-between gap-4"},Qm={class:"font-normal text-xs leading-snug text-muted-foreground"},Zm={class:"flex items-center justify-between gap-4"},Jm={class:"font-normal text-xs leading-snug text-muted-foreground"},qm={key:0,class:"flex items-center justify-between gap-4"},ev={class:"font-normal text-xs leading-snug text-muted-foreground"},Dv={__name:"Edit",props:{story:Object,originalStory:Object|Boolean,tags:Array},setup(t){var x,w,k;ace.config.setModuleUrl("ace/mode/html_worker",am),ace.config.setModuleUrl("ace/mode/javascript_worker",lm),ace.config.setModuleUrl("ace/mode/css_worker",cm),ace.config.setModuleUrl("ace/mode/php_worker",dm);const e=t,i=pt(!1),n=Pr().props.auth.user,c=Bl({state:{community:e.story?e.story.community:null,title:e.story?e.story.title:"",slug:e.story?e.story.slug:"",subtitle:e.story?String(e.story.subtitle):"",body:e.story?JSON.parse(e.story.body):{},meta:{title:e.story?(x=e.story.meta)==null?void 0:x.meta_title:"",description:e.story?(w=e.story.meta)==null?void 0:w.meta_description:"",canonical_url:e.story?(k=e.story.meta)==null?void 0:k.meta_canonical_url:""},is_published:e.story?e.story.is_published:!1,is_pinned:e.story?e.story.is_pinned:!1,is_nsfw:e.story?e.story.is_nsfw:!1,is_comments_disabled:e.story?e.story.is_comments_disabled:!1,tags:e.tags?e.tags:[]}}),o=Pr().props.translations,p=pt(!1),m=pt(!1),h=pt(null),g=pt(!1),a=pt([]);let l;const d=()=>{i.value=!i.value,i.value&&(p.value=!1)},u=Ke(()=>Gl(c.state.slug));class s extends jg{removed(){if(this._data.file.url){const A=this._data.file.url;axios.post(route("story.editor.delete.media"),{url:A}).then(function(M){}).catch(function(M){})}}}class r extends Gg{removed(){if(this._data.file.url){const A=this._data.file.url;axios.post(route("story.editor.delete.media"),{url:A}).then(function(M){}).catch(function(M){})}}}class f extends Qi{removed(){if(this._data.file.url){const A=this._data.file.url;axios.post(route("story.editor.delete.media"),{url:A}).then(function(M){}).catch(function(M){})}}}function v(T){l.save().then(A=>{c.state.body=A}).catch(A=>{})}Zi(()=>{const T={languages:{plain:{label:"Text",mode:"ace/mode/plain_text"},html:{label:"HTML",mode:"ace/mode/html"},javascript:{label:"JavaScript",mode:"ace/mode/javascript"},typescript:{label:"TypeScript",mode:"ace/mode/typescript"},css:{label:"CSS",mode:"ace/mode/css"},php:{label:"PHP",mode:"ace/mode/php"},tsx:{label:"TSX",mode:"ace/mode/tsx"},json:{label:"JSON",mode:"ace/mode/json"},ruby:{label:"Ruby",mode:"ace/mode/ruby"},rust:{label:"Rust",mode:"ace/mode/rust"},sql:{label:"SQL",mode:"ace/mode/sql"},java:{label:"Java",mode:"ace/mode/java"},python:{label:"Python",mode:"ace/mode/python"}},options:{fontSize:16,minLines:4,theme:"ace/theme/one_dark"}};l=new th({holder:h.value,placeholder:o["Write something wonderful..."],tools:{header:{class:ch,config:{placeholder:o["Enter a header"],levels:[2,3,4],defaultLevel:2}},paragraph:{class:hh,inlineToolbar:!0},embed:{class:Hp,inlineToolbar:!0,config:{services:{youtube:!0,twitter:!0,vimeo:!0,facebook:!0,instagram:!0,gfycat:!0,coub:!0}}},list:{class:Xi,inlineToolbar:!0,config:{defaultStyle:"unordered",maxLevel:1}},image:{class:s,config:{field:"image",type:"image/*",uploader:{async uploadByFile(A){const M=new FormData;M.append("image",A);try{const L=await axios.post(route("story.editor.image.upload"),M,{headers:{"Content-Type":"multipart/form-data"}});return console.log("🚀 ~ uploadByFile"),{success:1,file:{url:L.data.file.url}}}catch(L){return console.error("Image upload error:",L),{success:0,error:"Image upload failed"}}}}}},video:{class:r,config:{field:"video",type:"video/*",uploader:{async uploadByFile(A){const M=new FormData;M.append("video",A);try{const L=await axios.post(route("story.editor.video.upload"),M,{headers:{"Content-Type":"multipart/form-data"}});return console.log("🚀 ~ uploadByFile"),{success:1,file:{url:L.data.file.url}}}catch(L){return console.error("Video upload error:",L),{success:0,error:"Video upload failed"}}}}}},audio:{class:f,config:{field:"audio",type:"audio/*",uploader:{async uploadByFile(A){const M=new FormData;M.append("audio",A);try{const L=await axios.post(route("story.editor.audio.upload"),M,{headers:{"Content-Type":"multipart/form-data"}});return console.log("🚀 ~ uploadByFile"),{success:1,file:{url:L.data.file.url}}}catch(L){return console.error("Audio upload error:",L),{success:0,error:"Audio upload failed"}}}}}},quote:{class:Rp,inlineToolbar:!0,shortcut:"CMD+SHIFT+O",config:{quotePlaceholder:o["Enter a quote"],captionPlaceholder:o["Quotes author"]}},inlineCode:{class:mh,shortcut:"CMD+SHIFT+M"},Marker:{class:Pp,shortcut:"CMD+SHIFT+M"},delimiter:Np,underline:fh,code:{class:sm,config:T}},i18n:{messages:{ui:{blockTunes:{toggler:{"Click to tune":o["Click to tune"],"or drag to move":o["or drag to move"]}},toolbar:{toolbox:{Add:o.Add}},popover:{Filter:o.Filter,"Nothing found":o["Nothing found"],"Convert to":o["Convert to"]}},toolNames:{Text:o.Text,Heading:o.Heading,List:o.List,Warning:o.Warning,Checklist:"Checklist",Quote:o.Quote,Image:o.Image,Video:o.Video,Audio:o.Audio,Delimiter:o.Delimiter,Link:o.Link,Marker:o.Marker,Bold:o.Bold,Italic:o.Italic,InlineCode:o.InlineCode,Underline:o.Underline,"Ace Code":o["Ace Code"]},tools:{warning:{Title:o.Title,Message:o.Message},link:{"Add a link":o["Add a link"]},image:{"Select an Image":o["Select an Image"],Caption:o.Caption,Stretch:o.Stretch},quote:{"Align Left":o["Align Left"],"Align Center":o["Align Center"]},video:{"Select a Video":o["Select a Video"],Caption:o.Caption},audio:{"Select an Audio":o["Select an Audio"],Caption:o.Caption},stub:{"The block can not be displayed correctly.":o["The block can not be displayed correctly."]},convertTo:{"Convert to":o["Convert to"]}},blockTunes:{delete:{Delete:o.Delete,"Click to delete":o["Click to delete"]},moveUp:{"Move up":o["Move up"],"Click to move up":o["Click to move up"]},moveDown:{"Move down":o["Move down"],"Click to move down":o["Click to move down"]}}}},minHeight:"auto",data:c.state.body,onReady:()=>{console.log("ready")},onChange:v})}),Nl(g,async function(){try{Object.keys(a.value).length===0&&(m.value=!0,await axios.get(route("story.user.communities.joined"),Br).then(T=>{setTimeout(()=>{a.value=T.data,m.value=!1},1e3)}))}catch{console.log("%s There is a difference between knowing the path & walking the path!","😎")}});const y=async()=>{try{await axios.post(route("story.save",e.story),c.state,Br).then(T=>{T.data&&(c.state=T.data.data,c.state.tags=T.data.tags,Ot.success(T.data.message,{theme:it.value?"dark":"light"}))})}catch(T){T.response.data.status==="error"&&(T.response.data.errors.title&&Ot.error(T.response.data.errors.title[0],{theme:it.value?"dark":"light"}),T.response.data.errors.subtitle&&Ot.error(T.response.data.errors.subtitle[0],{theme:it.value?"dark":"light"}),T.response.data.errors["meta.title"]&&Ot.error(T.response.data.errors["meta.title"][0],{theme:it.value?"dark":"light"}),T.response.data.errors["meta.description"]&&Ot.error(T.response.data.errors["meta.description"][0],{theme:it.value?"dark":"light"}),T.response.data.errors["meta.canonical_url"]&&Ot.error(T.response.data.errors["meta.canonical_url"][0],{theme:it.value?"dark":"light"})),console.log("%s There is a difference between knowing the path & walking the path!","😎")}},C=()=>{try{Vl.post(route("story.publish",e.story),c.state,{preserveScroll:!0})}catch{console.log("%s There is a difference between knowing the path & walking the path!","😎")}};return Fl(()=>{l.destroy()}),(T,A)=>{const M=tc,L=ol,R=Ic,_=yl,b=bl,E=wl,S=Ac,I=Mc,O=Lc,D=Tc,P=rl,B=sl,F=al,W=ll,N=cl,j=ec,V=dl,H=ul,G=hl,X=Cc,J=Jl,K=Kl,ee=Yl,fe=Xl,be=Ul,Ce=wc,pe=zl,Ie=ac,We=sc,ze=rc,wt=oc,_i=Wl,pn=nc,Zt=pl,$t=fl;return se(),Me(Oc,null,{default:te(()=>[Z("div",um,[Z("div",hm,[Z("div",pm,[Z("div",fm,[Z("button",gm,[Q(Y(ic),{class:"h-6 w-6 group-hover:text-primary"})]),Z("div",mm,[Z("div",vm,[Q(M,{href:T.route("user.show",Y(n)),class:"shrink-0"},{default:te(()=>[Z("img",{src:Y(n).avatar_url,class:"h-10 bg-background dark:bg-deeper border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full",alt:"avatar"},null,8,ym)]),_:1},8,["href"]),Y(c).state.community?(se(),Me(M,{key:0,href:T.route("community.show",Y(c).state.community.slug),class:"shrink-0 bg-deeper shadow absolute -bottom-0.5 -right-2 border border-transparent hover:border-border dark:hover:border-primary transition duration-150 ease-linear rounded-full"},{default:te(()=>[Z("img",{src:Y(c).state.community.avatar_url,class:"h-5 w-5 rounded-full object-cover",alt:"community"},null,8,bm)]),_:1},8,["href"])):Ue("",!0)]),Z("div",wm,[Z("div",_m,ce(Y(n).display_name?Y(n).display_name:"@"+Y(n).username),1),Q(B,{open:g.value,"onUpdate:open":A[3]||(A[3]=re=>g.value=re),modal:!1},{default:te(()=>[Q(L,null,{default:te(()=>[Y(c).state.community?(se(),Ae("div",{key:1,class:"flex items-center gap-1",role:"combobox","aria-expanded":g.value},[Z("span",xm,ce(Y(c).state.community.name),1),Z("button",{type:"button",class:"group flex items-center gap-2 text-sm hover:bg-muted/10 p-0.5 rounded-full",onClick:A[0]||(A[0]=qt(re=>Y(c).state.community=null,["prevent"]))},[Q(Y(gl),{class:"h-4 w-4 shrink-0"})])],8,Em)):(se(),Ae("div",{key:0,role:"combobox","aria-expanded":g.value,class:"text-[13px] text-primary border-b border-primary/50 hover:border-transparent hover:text-primary/80 font-normal base-transition"},ce(T.__("Select a community")),9,km))]),_:1}),Q(P,{class:"w-64 p-0",align:"start"},{default:te(()=>[Q(D,{modelValue:Y(c).state.community,"onUpdate:modelValue":A[2]||(A[2]=re=>Y(c).state.community=re)},{default:te(()=>[m.value?(se(),Me(R,{key:0,class:"flex justify-center"},{default:te(()=>[Q(Y(Hc),{class:"w-5 h-5 text-center text-primary"})]),_:1})):(se(),Me(O,{key:1},{default:te(()=>[Q(I,null,{default:te(()=>[(se(!0),Ae(gs,null,jl(a.value,re=>(se(),Me(S,{key:re.name,value:re,onSelect:A[1]||(A[1]=Rr=>g.value=!1)},{default:te(()=>[Z("div",Cm,[Q(E,{class:"w-6 h-6"},{default:te(()=>[Q(_,{src:re.avatar_url,alt:re.name,class:pi(re.name===re.name?"opacity-100":"opacity-0")},null,8,["src","alt","class"]),Q(b,null,{default:te(()=>[ct(ce(re.name),1)]),_:2},1024)]),_:2},1024),Z("span",Tm,ce(re.name),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"])])])]),Z("div",Sm,[Q(G,{modal:!1,open:p.value,"onUpdate:open":A[6]||(A[6]=re=>p.value=re)},{default:te(()=>[Q(F,{class:"group flex items-center"},{default:te(()=>[Z("div",Lm,[Q(Y(ml),{class:"h-6 w-6 text-foreground"})])]),_:1}),Q(H,{align:"end",class:"w-52"},{default:te(()=>[Q(W,{onClick:qt(d,["prevent"])},{default:te(()=>[Z("div",Mm,[Q(Y(Ql),{class:"h-5 w-5"}),Z("span",null,ce(T.__("Settings")),1)])]),_:1}),Y(u)?(se(),Me(W,{key:0},{default:te(()=>[Z("a",{href:T.route("story.show",Y(c).state.slug),target:"_blank",class:"flex w-full items-center gap-1.5 whitespace-nowrap"},[Q(Y(ql),{class:"h-5 w-5"}),Z("span",null,ce(T.__("Preview")),1)],8,Am)]),_:1})):Ue("",!0),Y(u)?(se(),Me(Zl,{key:1,story:Y(c).state.slug,"icon-size":"w-5 h-5"},null,8,["story"])):Ue("",!0),Q(N),Q(V,{class:"flex items-center justify-between text-sm font-normal"},{default:te(()=>[Z("div",Im,[Q(Y(vl),{class:"h-5 w-5"}),Z("span",null,ce(T.__("Dark Mode")),1)]),Q(j,{checked:Y(it),"onUpdate:checked":A[4]||(A[4]=re=>Hl(it)?it.value=re:null),onClick:A[5]||(A[5]=re=>Y(Dl)())},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["open"]),Y(c).state.is_published?Ue("",!0):(se(),Ae("button",{key:0,onClick:qt(y,["prevent"]),disabled:Y(c).state.title==="",class:"inline-flex sm:px-4 sm:py-2 rounded-full w-9 h-9 sm:w-full sm:h-full items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-secondary text-foreground hover:bg-secondary/80"},[Q(Y(Nc),{class:"h-6 w-6 flex sm:hidden"}),Z("span",Om,ce(T.__("Save")),1)],8,$m)),Y(c).state.is_published?(se(),Ae("button",{key:2,onClick:qt(y,["prevent"]),class:"inline-flex sm:px-4 sm:py-2 rounded-full w-9 h-9 sm:w-full sm:h-full items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90"},[Q(Y(Qr),{class:"h-6 w-6 flex sm:hidden"}),Z("span",Pm,ce(T.__("Update")),1)])):(se(),Ae("button",{key:1,onClick:qt(C,["prevent"]),disabled:Y(c).state.title==="",class:"inline-flex sm:px-4 sm:py-2 rounded-full w-9 h-9 sm:w-full sm:h-full items-center justify-center whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90"},[Q(Y(Qr),{class:"h-6 w-6 flex sm:hidden"}),Z("span",Dm,ce(T.__("Publish")),1)],8,Rm))])])]),Z("div",Bm,[Z("div",Nm,[Z("div",Fm,[Z("div",jm,[Q(X,{modelValue:Y(c).state.title,"onUpdate:modelValue":A[7]||(A[7]=re=>Y(c).state.title=re),id:"title",maxLimit:160,placeholder:T.__("Title")},null,8,["modelValue","placeholder"])]),Z("div",{id:"editorjs",ref_key:"htmlelement",ref:h},null,512),t.story.type=="repost"?(se(),Me(J,{key:0,story:t.originalStory},null,8,["story"])):Ue("",!0)])])])]),Q($t,{open:i.value,"onUpdate:open":A[16]||(A[16]=re=>i.value=re)},{default:te(()=>[Q(Zt,{"close-icon":!0,class:"w-[400px] sm:w-[540px] sm:max-w-xl overflow-y-auto"},{default:te(()=>[Q(fe,null,{default:te(()=>[Q(K,null,{default:te(()=>[ct(ce(T.__("Settings")),1)]),_:1}),Q(Y(Ol),null,{default:te(()=>[Q(ee)]),_:1})]),_:1}),Z("div",Hm,[Z("div",Vm,[Z("div",null,[Q(be,{for:"tags",class:"block mb-2"},{default:te(()=>[ct(ce(T.__("Tags")),1)]),_:1}),Q(Ce,{modelValue:Y(c).state.tags,"onUpdate:modelValue":A[8]||(A[8]=re=>Y(c).state.tags=re),placeholder:T.__("Add tags"),maxTags:5},null,8,["modelValue","placeholder"])]),Z("div",Wm,[Q(be,{for:"subtitle"},{default:te(()=>[ct(ce(T.__("Subtitle")),1)]),_:1}),Q(pe,{id:"subtitle",type:"text",modelValue:Y(c).state.subtitle,"onUpdate:modelValue":A[9]||(A[9]=re=>Y(c).state.subtitle=re)},null,8,["modelValue"])])]),t.story.user_can.moderate?(se(),Ae("div",zm,[Z("div",null,[Z("div",Um,[Q(be,{for:"seo_title"},{default:te(()=>[ct(ce(T.__("SEO title")),1)]),_:1}),Q(wt,null,{default:te(()=>[Q(ze,null,{default:te(()=>[Q(Ie,null,{default:te(()=>[Q(Y(_n),{class:"h-4 w-4"})]),_:1}),Q(We,null,{default:te(()=>[Z("span",null,ce(T.__("The SEO Title is used in place of your Title on search engine results pages, such as a Google search. SEO titles between 40 and 50 characters with commonly searched words have the best click-through-rates.")),1)]),_:1})]),_:1})]),_:1})]),Q(pe,{id:"seo_title",type:"text",modelValue:Y(c).state.meta.title,"onUpdate:modelValue":A[10]||(A[10]=re=>Y(c).state.meta.title=re)},null,8,["modelValue"])]),Z("div",null,[Z("div",Gm,[Q(be,{for:"seo_description"},{default:te(()=>[ct(ce(T.__("SEO description")),1)]),_:1}),Q(wt,null,{default:te(()=>[Q(ze,null,{default:te(()=>[Q(Ie,null,{default:te(()=>[Q(Y(_n),{class:"h-4 w-4"})]),_:1}),Q(We,null,{default:te(()=>[Z("span",null,ce(T.__("The SEO Description is used in place of your Description on search engine results pages. Good SEO descriptions are between 140-156 characters long.")),1)]),_:1})]),_:1})]),_:1})]),Q(_i,{id:"seo_description",maxLimit:160,modelValue:Y(c).state.meta.description,"onUpdate:modelValue":A[11]||(A[11]=re=>Y(c).state.meta.description=re)},null,8,["modelValue"])]),Z("div",null,[Z("div",Km,[Q(be,{for:"canonical_url"},{default:te(()=>[ct(ce(T.__("Canonical URL")),1)]),_:1}),Q(wt,null,{default:te(()=>[Q(ze,null,{default:te(()=>[Q(Ie,null,{default:te(()=>[Q(Y(_n),{class:"h-4 w-4"})]),_:1}),Q(We,null,{default:te(()=>[Z("span",null,ce(T.__("Change meta tag canonical_url if this post was first published elsewhere.")),1)]),_:1})]),_:1})]),_:1})]),Q(pe,{id:"canonical_url",type:"text",modelValue:Y(c).state.meta.canonical_url,"onUpdate:modelValue":A[12]||(A[12]=re=>Y(c).state.meta.canonical_url=re)},null,8,["modelValue"])])])):Ue("",!0),Q(pn,{class:"my-4"}),Z("div",Ym,[Z("div",Xm,[Q(be,{for:"is_comments_disabled",class:"flex flex-col space-y-1"},{default:te(()=>[Z("span",null,ce(T.__("Disable comments")),1),Z("span",Qm,ce(T.__("This will hide the comments section below your story")),1)]),_:1}),Q(j,{id:"is_comments_disabled",checked:Y(c).state.is_comments_disabled,"onUpdate:checked":A[13]||(A[13]=re=>Y(c).state.is_comments_disabled=re)},null,8,["checked"])]),Z("div",Zm,[Q(be,{for:"is_nsfw",class:"flex flex-col space-y-1"},{default:te(()=>[Z("span",null,ce(T.__("Not Safe For Work (NSFW)")),1),Z("span",Jm,ce(T.__("Contains mature or adult content")),1)]),_:1}),Q(j,{id:"is_nsfw",checked:Y(c).state.is_nsfw,"onUpdate:checked":A[14]||(A[14]=re=>Y(c).state.is_nsfw=re)},null,8,["checked"])]),Y(c).state.is_published?(se(),Ae("div",qm,[Q(be,{for:"is_pinned",class:"flex flex-col space-y-1"},{default:te(()=>[Z("span",null,ce(T.__("Pin story")),1),Z("span",ev,ce(T.__("Your pinned stories are only visible on your profile")),1)]),_:1}),Q(j,{id:"is_pinned",checked:Y(c).state.is_pinned,"onUpdate:checked":A[15]||(A[15]=re=>Y(c).state.is_pinned=re)},null,8,["checked"])])):Ue("",!0)])])]),_:1})]),_:1},8,["open"])]),_:1})}}};export{Dv as default};
