import{_ as H,a as Q,b as S,c as U,d as Y,e as z,f as J}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DN79s5No.js";import{_ as K}from"./Button.vue_vue_type_script_setup_true_lang-DLbVc8FY.js";import{_ as P,h as W,c as X,a as Z,i as oo,j as to}from"./AppLayout-CDEtE47D.js";import{_ as no,a as eo,b as io,M as ao}from"./moon-stars-linear-DuqhdEj6.js";import{q as g,Q as so,i as lo,o as r,c as h,w as t,a,t as s,b as o,u as l,e as v,d as f,g as co,f as d,F as b,s as ro,A as fo,N as D}from"./app-DKvfoN-y.js";import{a as _o}from"./useThemeConfig-CMn459mP.js";import{I as mo}from"./trash-bin-trash-linear-BuI9fVDc.js";import uo from"./FavoritedStoryNotification-DtXy0hNN.js";import po from"./ReportedStoryNotification-CcPFTGEZ.js";import go from"./ReportedCommentNotification-CSv5-Hvt.js";import vo from"./ReportedUserNotification-Bp3K9qme.js";import $o from"./CommentMentionNotification-D95MbpQq.js";import ko from"./CommentNotification-BC3ikusq.js";import ho from"./CommentReplyNotification-CKfoAfzH.js";import bo from"./LikedStoryNotification-CPmfWMVb.js";import Do from"./LikedCommentNotification-DwKv2iXk.js";import yo from"./FollowedNotification-BWPcf4Gx.js";import"./index-T_RycVZ9.js";import"./Link-BxabHujp.js";import"./facebook-BuDmhaaR.js";import"./Switch.vue_vue_type_script_setup_true_lang-C7ZMvNjL.js";import"./ButtonLink.vue_vue_type_script_setup_true_lang-CgLFBnw-.js";import"./alarm-linear-B0PzHQQx.js";import"./Logo-dKRd1DwS.js";const wo={class:"block bg-background sm:rounded-lg mb-5"},Ao={class:"relative h-14 flex items-center justify-between px-4 border-b border-border"},xo={class:"font-semibold"},No={class:"w-8 h-8 flex items-center justify-center group-hover:bg-muted dark:group-hover:bg-muted rounded-full"},Co={class:"flex flex-col p-2"},Mo={key:1,class:"p-6"},Io={class:"flex flex-col items-center gap-6 justify-center text-center font-medium text-muted-foreground"},tt={__name:"Index",props:{notifications:Object},setup(_){const m=_,$=g(null),u=g(!1),{stop:y}=_o($,([{isIntersecting:e}])=>{e&&m.notifications.links.next!==null&&(u.value=!0,axios.get(m.notifications.links.next).then(i=>{console.log(i.data),m.notifications.data.push(...i.data.data),m.notifications.links=i.data.links,i.data.links.next||(u.value=!1,y())}))}),w=so(),p=lo(()=>w.props.auth.unreaded_notifications),A=()=>{p.value>0&&D.post(route("notifications.marked")),p.value=0},c=g(!1),x=()=>{c.value=!0},N=()=>{c.value=!1},C=()=>{D.post(route("notifications.delete")),N()};return(e,i)=>{const M=no,k=W,I=X,j=eo,B=io,T=Z,R=H,V=Q,F=S,L=U,O=K,q=Y,E=z,G=J;return r(),h(P,null,{default:t(()=>[a("div",wo,[a("div",Ao,[a("div",xo,s(e.__("Notifications")),1),o(B,{modal:!1},{default:t(()=>[o(M,{class:"group flex items-center"},{default:t(()=>[a("div",No,[o(l(ao),{class:"h-5 w-5 text-foreground"})])]),_:1}),o(j,{class:"min-w-[200px]",align:"end"},{default:t(()=>[o(I,null,{default:t(()=>[o(k,{icon:l(oo),onClick:v(A,["prevent"]),disabled:l(p)===0},{default:t(()=>[f(s(e.__("Mark all as read")),1)]),_:1},8,["icon","disabled"]),_.notifications.data.length?(r(),h(k,{key:0,icon:l(mo),onClick:v(x,["prevent"])},{default:t(()=>[f(s(e.__("Delete all")),1)]),_:1},8,["icon"])):co("",!0)]),_:1})]),_:1})]),_:1})]),a("div",Co,[_.notifications.data.length?(r(),d(b,{key:0},[(r(!0),d(b,null,ro(_.notifications.data,n=>(r(),d("div",{key:n.id},[o($o,{notification:n},null,8,["notification"]),o(ko,{notification:n},null,8,["notification"]),o(ho,{notification:n},null,8,["notification"]),o(yo,{notification:n},null,8,["notification"]),o(uo,{notification:n},null,8,["notification"]),o(po,{notification:n},null,8,["notification"]),o(go,{notification:n},null,8,["notification"]),o(vo,{notification:n},null,8,["notification"]),o(bo,{notification:n},null,8,["notification"]),o(Do,{notification:n},null,8,["notification"])]))),128)),o(T,{"is-loading":l(u),"only-icon":!0},null,8,["is-loading"]),a("div",{ref_key:"last",ref:$,class:"-translate-y-32"},null,512)],64)):(r(),d("div",Mo,[a("div",Io,[o(l(to),{class:"h-16 w-16"}),a("span",null,s(e.__("You don't have any notifications yet")),1)])]))])]),o(G,{open:l(c),"onUpdate:open":i[1]||(i[1]=n=>fo(c)?c.value=n:null)},{default:t(()=>[o(E,null,{default:t(()=>[o(F,null,{default:t(()=>[o(R,null,{default:t(()=>[f(s(e.__("Are you sure?")),1)]),_:1}),o(V,null,{default:t(()=>[f(s(e.__("This action cannot be undone! This will permanently delete all your notifications!")),1)]),_:1})]),_:1}),o(q,null,{default:t(()=>[o(L,{onClick:i[0]||(i[0]=n=>c.value=!1)},{default:t(()=>[f(s(e.__("Cancel")),1)]),_:1}),o(O,{onClick:v(C,["prevent"]),variant:"destructive"},{default:t(()=>[f(s(e.__("Delete")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})}}};export{tt as default};
